(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cd0ca820"],{"3a2f":function(t,e,i){"use strict";i("9734");var a=i("4ad4"),s=i("a9ad"),n=i("16b7"),r=i("b848"),o=i("f573"),l=i("80d2"),c=i("d9bd"),u=i("58df");e["a"]=Object(u["a"])(s["a"],n["a"],r["a"],o["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},openOnFocus:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:()=>({calculatedMinWidth:0,closeDependents:!1}),computed:{calculatedLeft(){const{activator:t,content:e}=this.dimensions,i=!this.bottom&&!this.left&&!this.top&&!this.right,a=!1!==this.attach?t.offsetLeft:t.left;let s=0;return this.top||this.bottom||i?s=a+t.width/2-e.width/2:(this.left||this.right)&&(s=a+(this.right?t.width:-e.width)+(this.right?10:-10)),this.nudgeLeft&&(s-=parseInt(this.nudgeLeft)),this.nudgeRight&&(s+=parseInt(this.nudgeRight)),this.calcXOverflow(s,this.dimensions.content.width)+"px"},calculatedTop(){const{activator:t,content:e}=this.dimensions,i=!1!==this.attach?t.offsetTop:t.top;let a=0;return this.top||this.bottom?a=i+(this.bottom?t.height:-e.height)+(this.bottom?10:-10):(this.left||this.right)&&(a=i+t.height/2-e.height/2),this.nudgeTop&&(a-=parseInt(this.nudgeTop)),this.nudgeBottom&&(a+=parseInt(this.nudgeBottom)),!1===this.attach&&(a+=this.pageYOffset),this.calcYOverflow(a)+"px"},classes(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY(){return this.top||this.bottom},offsetX(){return this.left||this.right},styles(){return{left:this.calculatedLeft,maxWidth:Object(l["h"])(this.maxWidth),minWidth:Object(l["h"])(this.minWidth),top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount(){this.$nextTick(()=>{this.value&&this.callActivate()})},mounted(){"v-slot"===Object(l["t"])(this,"activator",!0)&&Object(c["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate(){this.runDelay("close")},genActivatorListeners(){const t=a["a"].options.methods.genActivatorListeners.call(this);return this.openOnFocus&&(t.focus=t=>{this.getActivator(t),this.runDelay("open")},t.blur=t=>{this.getActivator(t),this.runDelay("close")}),t.keydown=t=>{t.keyCode===l["y"].esc&&(this.getActivator(t),this.runDelay("close"))},t},genActivatorAttributes(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition(){const t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:{[this.contentClass]:!0,menuable__content__active:this.isActive,"v-tooltip__content--fixed":this.activatorFixed},style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render(t){return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent(()=>[this.genTransition()]),this.genActivator()])}})},5311:function(t,e,i){"use strict";i("14d9");var a=i("5607"),s=i("2b0e");e["a"]=s["default"].extend({name:"rippleable",directives:{ripple:a["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(t={}){return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}})},"5f47":function(t,e,i){"use strict";var a=i("c6a6"),s=i("8212"),n=i("8336"),r=i("b0af"),o=i("99d9"),l=i("ac7c"),c=i("cc20"),u=i("62ad"),d=i("8fea"),h=i("132d"),p=i("adda"),m=i("5d23"),v=i("0fd9"),f=i("8654"),g=i("3a2f"),b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(r["a"],[i(o["c"],[i(v["a"],[i(u["a"],{attrs:{cols:"12",md:"4",sm:"6"}},[i(a["a"],{attrs:{dense:"",label:"Filter by Event",items:t.events,"item-text":"name","item-value":"id","hide-details":"","search-input":t.eventSearchInput,loading:t.findingEvents,"no-data-text":"No Result Found! Type here to Search event","menu-props":{contentClass:"list-style"},"return-object":"",clearable:""},on:{"update:searchInput":function(e){t.eventSearchInput=e},"update:search-input":function(e){t.eventSearchInput=e}},scopedSlots:t._u([{key:"selection",fn:function(e){return[i("span",{staticClass:"d-block font-weight-medium text-truncate"},[t._v(" "+t._s(e.item.name)+" ")])]}},{key:"item",fn:function(e){return[i(m["b"],[i(m["d"],{staticClass:"text-sm"},[t._v(" "+t._s(e.item.name)+" ")]),i(m["c"],[t._v(" "+t._s(t.$utils.formatDate(e.item.start_date,"MMM D, YYYY"))+" - "+t._s(t.$utils.formatDate(e.item.end_date,"MMM D, YYYY"))+" ")])],1)]}}]),model:{value:t.selectedEvent,callback:function(e){t.selectedEvent=e},expression:"selectedEvent"}})],1),i(u["a"],{attrs:{cols:"12",md:"4",sm:"6"}},[i(a["a"],{attrs:{disabled:!t.selectedEvent,dense:"",label:"Filter by Race",items:t.races,"item-text":"name","item-value":"id","menu-props":{contentClass:"list-style"},loading:t.loadingRaces,"no-data-text":"No Race Found!","hide-details":"",clearable:"","return-object":""},scopedSlots:t._u([{key:"item",fn:function(e){return[i(m["b"],[i(m["d"],{staticClass:"text-sm"},[t._v(" "+t._s(e.item.name)+" ")]),i(m["c"],[t._v(" "+t._s(t.$utils.formatDate(e.item.start_datetime))+" ")])],1)]}}]),model:{value:t.selectedRace,callback:function(e){t.selectedRace=e},expression:"selectedRace"}})],1),i(u["a"],{attrs:{cols:"12",md:"4",sm:"6"}},[i(a["a"],{attrs:{dense:"",label:"Filter by Organization",items:t.organizations,"item-text":"name","item-value":"id","menu-props":{contentClass:"list-style"},loading:t.loadingOrganizations,"no-data-text":"No Organization Found!","hide-details":"",clearable:"","return-object":""},scopedSlots:t._u([{key:"item",fn:function(e){return[i(m["b"],[i(m["d"],{staticClass:"text-sm"},[t._v(" "+t._s(e.item.name)+" ")]),i(m["c"],[t._v(" "+t._s((t.$const.ORGANIZATION_TYPE_MAP[e.item.type]||{}).title||e.item.type)+" ")])],1)]}}]),model:{value:t.tableFiltering.organization,callback:function(e){t.$set(t.tableFiltering,"organization",e)},expression:"tableFiltering.organization"}})],1),i(u["a"],{attrs:{cols:"12",md:"4",sm:"6"}},[i("div",{staticClass:"d-flex align-center"},[i(f["a"],{staticClass:"me-3 search-input",attrs:{value:t.tableFiltering.search,dense:"",clearable:"","hide-details":"",placeholder:"Search ..."},on:{change:function(e){return t.$set(t.tableFiltering,"search",e)},"click:clear":function(e){return t.$set(t.tableFiltering,"search",null)}}})],1)]),i(u["a"],{attrs:{cols:"12",md:"4",sm:"6"}},[i(l["a"],{staticClass:"mt-0",attrs:{"hide-details":"",label:"Include DNS/DNF?"},model:{value:t.tableFiltering.include_dns_dnf,callback:function(e){t.$set(t.tableFiltering,"include_dns_dnf",e)},expression:"tableFiltering.include_dns_dnf"}})],1)],1)],1),i(d["a"],{staticClass:"text-no-wrap",attrs:{headers:t.tableColumns,items:t.records,options:t.tableOptions,"server-items-length":t.pagination.total,loading:t.loading,"footer-props":{"items-per-page-options":t.$const.DEFAULT_TABLE_PER_PAGE_OPTIONS,"show-current-page":!0,"show-first-last-page":!0}},on:{"update:options":[function(e){t.tableOptions=e},function(e){return t.loadRecords()}]},scopedSlots:t._u([{key:"item.rider",fn:function(e){var a=e.item;return[i("div",{staticClass:"d-flex align-center"},[i(s["a"],{staticClass:"v-avatar-light-bg success--text",attrs:{color:"success",size:"30"}},[a._rider&&a._rider._user.avatar?i(p["a"],{attrs:{src:a._rider._user.avatar}}):i("span",{staticClass:"font-weight-medium"},[t._v(" "+t._s(t.avatarText(a._rider?a._rider.first_name:a.more_data.first_name||"N/A"))+" ")])],1),i("div",{staticClass:"d-flex flex-column pl-1"},[a.rider?i("router-link",{tag:"a",staticClass:"font-weight-semibold text-truncate text-decoration-none",attrs:{to:t.getRiderRoute(a.rider)}},[a._rider?i(h["a"],{attrs:{small:""}},[t._v(t._s(t.icons.mdiAccountCheck))]):t._e(),t._v(" "+t._s(t.displayRiderName(a))+" ")],1):i("span",{staticClass:"font-weight-semibold text-truncate text-decoration-none"},[t._v(" "+t._s(t.displayRiderName(a))+" ")])],1)],1)]}},{key:"item.race",fn:function(e){var a=e.item;return[i("div",{staticClass:"d-flex flex-column"},[i("span",{staticClass:"font-weight-semibold text-truncate"},[t._v(" "+t._s(a._race.name)+" ")]),i("span",{staticClass:"text-xs text-truncate"},[t._v(" "+t._s(a._race._event.name)+" ")])])]}},{key:"item.create_datetime",fn:function(e){var a=e.item;return[i("span",{staticClass:"pr-1"},[t._v(t._s(t.$utils.formatDate(a.create_datetime,"M/D/YY")))]),i("span",{staticClass:"text-caption"},[t._v(t._s(t.$utils.formatDate(a.create_datetime,"HH:mm")))])]}},{key:"item.place",fn:function(e){var a=e.item;return["ok"==a.finish_status?[i("span",{staticClass:"font-weight-semibold"},[t._v(t._s(a.place||"N/A"))]),1==a.place?i(h["a"],{staticClass:"ml-1",attrs:{size:"20",color:"warning"}},[t._v(t._s(t.icons.mdiPodiumGold))]):t._e()]:i(c["a"],{attrs:{outlined:"",color:(t.$const.RACE_FINISH_STATUS_MAP[a.finish_status]||{}).css,small:""}},[t._v(" "+t._s((t.$const.RACE_FINISH_STATUS_MAP[a.finish_status]||{}).title||a.finish_status)+" ")])]}},{key:"item.actions",fn:function(e){var a=e.item;return[i("div",{staticClass:"d-flex align-end justify-end"},[i(g["a"],{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[i(n["a"],t._g(t._b({attrs:{icon:"",small:""},on:{click:function(e){return t.$refs.formDialogRef.show(a)}}},"v-btn",r,!1),s),[i(h["a"],{attrs:{size:"18"}},[t._v(" "+t._s(t.icons.mdiPencilOutline)+" ")])],1)]}}],null,!0)},[i("span",[t._v("Edit")])])],1)]}}])})],1)},_=[],y=i("94ed"),C=i("ed09"),x=i("bb36"),O=i("cbec"),A=i("0e20"),k=i("2ef0"),I=i.n(k),S=i("2405"),j=i("a18c"),R={components:{},props:{apiParams:{type:Object,required:!1},hiddenColumns:{type:Array,required:!1},riderRoute:{type:String,default:j["b"].PUBLIC_RIDER_PROFILE}},setup(t,e){const{route:i}=Object(S["e"])(),a=Object(C["J"])([]),s=Object(C["J"])({total:0}),n=Object(C["J"])(!1),r=Object(C["J"])(!1),o=Object(C["J"])(!1),l=Object(C["J"])({}),c=Object(C["J"])(i.value.query||{}),u=[{text:"#ID",value:"id",align:"start"},{text:"RIDER",value:"rider"},{text:"RACE",value:"race",cellClass:"race-td"},{text:"PLACE",value:"place"},{text:"CREATED AT",value:"create_datetime"}].filter(e=>(t.hiddenColumns||[]).findIndex(t=>e.value===t)<0),d=Object(C["J"])([]),h=Object(C["J"])([]),p=Object(C["J"])([]),m=Object(C["J"])(""),v=Object(C["J"])(null),f=Object(C["J"])(null),g=Object(C["J"])(!1);Object(C["Y"])(m,()=>{_(m.value)}),Object(C["Y"])(v,()=>{f.value=null,j(1),R()}),Object(C["Y"])(f,t=>{t&&(l.value.sortBy=["place"]),j(1)});const b=t=>{g.value?d.value=[]:(g.value=!0,x["a"].get("cycling_org/event/",{params:{search:t}}).then(t=>{g.value=!1,d.value=t.data.results},t=>{g.value=!1,Object(O["notifyDefaultServerError"])(t,!0)}))},_=I.a.debounce(b,500),k=t=>{var e="";return e=t._rider?`${t._rider.first_name} ${t._rider.last_name}`.trim():`${t.more_data.first_name||""} ${t.more_data.last_name||""}`.trim(),e||"N/A"},j=e=>{e&&(l.value.page=e);const i=Object.assign({exfields:"more_data"},c.value,t.apiParams,Object(O["refineVTableOptions"])(l.value));i.include_dns_dnf||(i.finish_status="ok"),delete i.include_dns_dnf,f.value?i.race=f.value.id:v.value&&(i.event=v.value.id),n.value=!0,i.organization&&"object"===typeof i.organization&&(i.organization=i.organization.id),x["a"].get("cycling_org/race_result/",{params:i}).then(t=>{n.value=!1,a.value=t.data.results,s.value=t.data.pagination},t=>{n.value=!1,Object(O["notifyDefaultServerError"])(t,!0)})},R=()=>{v.value?(r.value=!0,x["a"].get("cycling_org/race/",{params:{event:v.value.id,page_size:0}}).then(t=>{r.value=!1,h.value=t.data.results},t=>{r.value=!1,Object(O["notifyDefaultServerError"])(t,!0)})):h.value=[]},E=()=>{o.value=!0,x["a"].get("cycling_org/organization/",{params:{page_size:0}}).then(t=>{o.value=!1,p.value=t.data.results,i.value.query.organization&&(c.value.organization=I.a.find(p.value,{id:1*i.value.query.organization}))},t=>{o.value=!1,Object(O["notifyDefaultServerError"])(t,!0)})},D=e=>t.riderRoute?{name:t.riderRoute,params:{record_id:e}}:{};return Object(C["Y"])(()=>c,(t,e)=>{j(1)},{deep:!0}),Object(C["A"])(()=>{E()}),{records:a,eventSearchInput:m,events:d,races:h,organizations:p,selectedEvent:v,selectedRace:f,findEvents:b,findEventsDebounce:_,findingEvents:g,displayRiderName:k,tableColumns:u,tableOptions:l,tableFiltering:c,loading:n,loadingRaces:r,loadingOrganizations:o,pagination:s,avatarText:A["a"],getRiderRoute:D,loadRecords:j,loadRaces:R,icons:{mdiPencilOutline:y["Mb"],mdiEyeOutline:y["bb"],mdiAccountGroupOutline:y["g"],mdiAccountMultipleOutline:y["h"],mdiClose:y["O"],mdiCheck:y["A"],mdiInformationOutline:y["xb"],mdiRefresh:y["Ub"],mdiAccountCheck:y["c"],mdiFileExcelOutline:y["fb"],mdiPodiumGold:y["Rb"]}}}},E=R,D=i("2877"),$=Object(D["a"])(E,b,_,!1,null,"65320110",null);e["a"]=$.exports},"6ca7":function(t,e,i){},9734:function(t,e,i){},ac7c:function(t,e,i){"use strict";i("6ca7"),i("ec29");var a=i("9d26"),s=i("c37a"),n=i("fe09");e["a"]=n["a"].extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data(){return{inputIndeterminate:this.indeterminate}},computed:{classes(){return{...s["a"].options.computed.classes.call(this),"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate}},computedIcon(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate(t){this.$nextTick(()=>this.inputIndeterminate=t)},inputIndeterminate(t){this.$emit("update:indeterminate",t)},isActive(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox(){const{title:t,...e}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(a["a"],this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",{...e,"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()}),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot(){return[this.genCheckbox(),this.genLabel()]}}})},ec29:function(t,e,i){},ec37:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("race-results-cmp")},s=[],n=i("5f47"),r={components:{RaceResultsCmp:n["a"]},props:{},setup(t,e){return{}}},o=r,l=i("2877"),c=Object(l["a"])(o,a,s,!1,null,null,null);e["default"]=c.exports},fe09:function(t,e,i){"use strict";i.d(e,"b",(function(){return o}));i("14d9");var a=i("c37a"),s=i("5311"),n=i("8547"),r=i("58df");function o(t){t.preventDefault()}e["a"]=Object(r["a"])(a["a"],s["a"],n["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const t=this.value,e=this.internalValue;return this.isMultiple?!!Array.isArray(e)&&e.some(e=>this.valueComparator(e,t)):void 0===this.trueValue||void 0===this.falseValue?t?this.valueComparator(t,e):Boolean(e):this.valueComparator(e,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel(){const t=a["a"].options.methods.genLabel.call(this);return t?(t.data.on={click:o},t):t},genInput(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:o},ref:"input"})},onClick(t){this.onChange(),this.$emit("click",t)},onChange(){if(!this.isInteractive)return;const t=this.value;let e=this.internalValue;if(this.isMultiple){Array.isArray(e)||(e=[]);const i=e.length;e=e.filter(e=>!this.valueComparator(e,t)),e.length===i&&e.push(t)}else e=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(e,this.trueValue)?this.falseValue:this.trueValue:t?this.valueComparator(e,t)?null:t:!e;this.validate(!0,e),this.internalValue=e,this.hasColor=e},onFocus(t){this.isFocused=!0,this.$emit("focus",t)},onBlur(t){this.isFocused=!1,this.$emit("blur",t)},onKeydown(t){}}})}}]);
//# sourceMappingURL=chunk-cd0ca820.f6e25355.js.map