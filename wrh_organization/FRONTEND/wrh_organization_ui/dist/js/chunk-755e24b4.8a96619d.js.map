{"version":3,"sources":["webpack:///./src/views/dashboard/organizationProfile/OrganizationMembershipFormTab.vue?cf8c","webpack:///./src/views/dashboard/organizationProfile/OrganizationRaceSeriesTab.vue?55b7","webpack:///./src/views/dashboard/organizationProfile/OrganizationRacesTab.vue?e268","webpack:///./src/views/dashboard/organizationProfile/OrganizationImportRaceSeriesResultsDialog.vue?b5a4","webpack:///./src/views/dashboard/organizationProfile/OrganizationMemberOrgsTab.vue?a14e","webpack:///./src/views/dashboard/organizationProfile/OrganizationMemberFormDialog.vue?e27b","webpack:///./src/views/public/EventsCalendarWidget.vue?f7b3","webpack:///./src/views/public/EventsTableWidget.vue?2656","webpack:///src/views/public/EventsTableWidget.vue","webpack:///./src/views/public/EventsTableWidget.vue?337e","webpack:///./src/views/public/EventsTableWidget.vue","webpack:///./src/views/public/EventsCalendarWidget.vue?c4dd","webpack:///./node_modules/@fullcalendar/vue/node_modules/tslib/tslib.es6.js","webpack:///./node_modules/@fullcalendar/core/node_modules/tslib/tslib.es6.js","webpack:///./node_modules/preact/dist/preact.module.js","webpack:///./node_modules/preact/hooks/dist/hooks.module.js","webpack:///./node_modules/preact/compat/dist/compat.module.js","webpack:///./node_modules/@fullcalendar/core/vdom.js","webpack:///./node_modules/@fullcalendar/common/node_modules/tslib/tslib.es6.js","webpack:///./node_modules/@fullcalendar/common/vdom.js","webpack:///./node_modules/@fullcalendar/common/main.js","webpack:///./node_modules/@fullcalendar/core/main.js","webpack:///./node_modules/@fullcalendar/vue/dist/options.js","webpack:///./node_modules/@fullcalendar/vue/dist/utils.js","webpack:///./node_modules/@fullcalendar/vue/dist/custom-content-type.js","webpack:///./node_modules/@fullcalendar/vue/dist/FullCalendar.js","webpack:///./node_modules/@fullcalendar/vue/dist/main.js","webpack:///./node_modules/@fullcalendar/daygrid/node_modules/tslib/tslib.es6.js","webpack:///./node_modules/@fullcalendar/daygrid/main.js","webpack:///./node_modules/@fullcalendar/list/node_modules/tslib/tslib.es6.js","webpack:///./node_modules/@fullcalendar/list/main.js","webpack:///src/views/public/EventsCalendarWidget.vue","webpack:///./src/views/public/EventsCalendarWidget.vue?cd06","webpack:///./src/views/public/EventsCalendarWidget.vue?d28d","webpack:///./node_modules/core-js/modules/es.object.entries.js","webpack:///./src/views/dashboard/organizationProfile/OrganizationCategoriesTab.vue?ee4f","webpack:///./src/views/dashboard/organizationProfile/OrganizationMembersTab.vue?1f2b","webpack:///./src/views/dashboard/organizationProfile/OrganizationMemberFieldsSettingDialog.vue?dbbb","webpack:///./src/components/GoogleMap.vue?ed1e","webpack:///./src/components/GoogleMap.vue?d9d4","webpack:///src/components/GoogleMap.vue","webpack:///./src/components/GoogleMap.vue?56ae","webpack:///./src/components/GoogleMap.vue?b217","webpack:///./src/views/dashboard/organizationProfile/EventSharedOrgsDialog.vue?323c","webpack:///./src/views/dashboard/organizationProfile/OrganizationProfile.vue?da2f","webpack:///./src/views/dashboard/organizationProfile/OrganizationImportMemberOrgsDialog.vue?e51c","webpack:///./src/views/dashboard/organizationProfile/OrganizationBioPanel.vue?1554","webpack:///./src/views/dashboard/organizationProfile/OrganizationRaceSeriesStandingsTab.vue?0edd","webpack:///./src/views/dashboard/organizationProfile/OrganizationConstantContactList.vue?5a91","webpack:///./src/views/dashboard/organizationProfile/OrganizationMemberOrgFormDialog.vue?15ab","webpack:///./src/views/dashboard/organizationProfile/OrganizationEventFormDialog.vue?bb28","webpack:///./src/views/dashboard/organizationProfile/OrganizationRaceSeriesResultsTab.vue?9f6c","webpack:///./src/views/dashboard/organizationProfile/OrganizationImportMembersDialog.vue?8cfd","webpack:///./src/views/dashboard/organizationProfile/OrganizationProfile.vue?5c0b","webpack:///./src/views/dashboard/organizationProfile/OrganizationBioPanel.vue?0398","webpack:///src/views/dashboard/organizationProfile/OrganizationBioPanel.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationBioPanel.vue?4190","webpack:///./src/views/dashboard/organizationProfile/OrganizationBioPanel.vue?28c1","webpack:///./src/views/dashboard/organizationProfile/OrganizationRacesTab.vue?08b1","webpack:///./src/views/dashboard/organizationProfile/OrganizationRaceFormDialog.vue?01e0","webpack:///src/views/dashboard/organizationProfile/OrganizationRaceFormDialog.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationRaceFormDialog.vue?a9f6","webpack:///./src/views/dashboard/organizationProfile/OrganizationRaceFormDialog.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationRaceTemplate.vue?3c4e","webpack:///src/views/dashboard/organizationProfile/OrganizationRaceTemplate.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationRaceTemplate.vue?bc6d","webpack:///./src/views/dashboard/organizationProfile/OrganizationRaceTemplate.vue","webpack:///src/views/dashboard/organizationProfile/OrganizationRacesTab.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationRacesTab.vue?cdf4","webpack:///./src/views/dashboard/organizationProfile/OrganizationRacesTab.vue?46b5","webpack:///./src/views/dashboard/organizationProfile/OrganizationMembersTab.vue?1d58","webpack:///./src/views/dashboard/organizationProfile/OrganizationMemberFormDialog.vue?af8b","webpack:///src/views/dashboard/organizationProfile/OrganizationMemberFormDialog.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationMemberFormDialog.vue?7f07","webpack:///../../../src/components/VExpansionPanel/VExpansionPanel.ts","webpack:///../../../src/components/VExpansionPanel/VExpansionPanelContent.ts","webpack:///../../../src/components/VExpansionPanel/VExpansionPanelHeader.ts","webpack:///../../../src/components/VExpansionPanel/VExpansionPanels.ts","webpack:///./src/views/dashboard/organizationProfile/OrganizationMemberFormDialog.vue?876f","webpack:///./src/views/dashboard/organizationProfile/OrganizationImportMembersDialog.vue?7e43","webpack:///src/views/dashboard/organizationProfile/OrganizationImportMembersDialog.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationImportMembersDialog.vue?a45f","webpack:///./src/views/dashboard/organizationProfile/OrganizationImportMembersDialog.vue?2d13","webpack:///src/views/dashboard/organizationProfile/OrganizationMembersTab.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationMembersTab.vue?6d9d","webpack:///./src/views/dashboard/organizationProfile/OrganizationMembersTab.vue?7ce7","webpack:///./src/views/dashboard/organizationProfile/OrganizationConstantContactList.vue?8a6d","webpack:///src/views/dashboard/organizationProfile/OrganizationConstantContactList.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationConstantContactList.vue?4ceb","webpack:///./src/views/dashboard/organizationProfile/OrganizationConstantContactList.vue?5293","webpack:///./src/views/dashboard/organizationProfile/OrganizationMemberOrgsTab.vue?b040","webpack:///./src/views/dashboard/organizationProfile/OrganizationMemberOrgFormDialog.vue?1064","webpack:///src/views/dashboard/organizationProfile/OrganizationMemberOrgFormDialog.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationMemberOrgFormDialog.vue?855e","webpack:///./src/views/dashboard/organizationProfile/OrganizationMemberOrgFormDialog.vue?f6a8","webpack:///./src/views/dashboard/organizationProfile/OrganizationImportMemberOrgsDialog.vue?8182","webpack:///src/views/dashboard/organizationProfile/OrganizationImportMemberOrgsDialog.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationImportMemberOrgsDialog.vue?adf6","webpack:///./src/views/dashboard/organizationProfile/OrganizationImportMemberOrgsDialog.vue?5cb4","webpack:///src/views/dashboard/organizationProfile/OrganizationMemberOrgsTab.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationMemberOrgsTab.vue?704d","webpack:///./src/views/dashboard/organizationProfile/OrganizationMemberOrgsTab.vue?b282","webpack:///./src/views/dashboard/organizationProfile/OrganizationMembershipFormTab.vue?c35f","webpack:///./src/views/dashboard/organizationProfile/OrganizationMemberFieldsSettingDialog.vue?ed2c","webpack:///src/views/dashboard/organizationProfile/OrganizationMemberFieldsSettingDialog.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationMemberFieldsSettingDialog.vue?7869","webpack:///./src/views/dashboard/organizationProfile/OrganizationMemberFieldsSettingDialog.vue?35d4","webpack:///src/views/dashboard/organizationProfile/OrganizationMembershipFormTab.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationMembershipFormTab.vue?6e85","webpack:///./src/views/dashboard/organizationProfile/OrganizationMembershipFormTab.vue?d9f4","webpack:///./src/views/dashboard/organizationProfile/OrganizationRaceSeriesTab.vue?17ff","webpack:///./src/views/dashboard/organizationProfile/OrganizationRaceSeriesFormDialog.vue?6952","webpack:///src/views/dashboard/organizationProfile/OrganizationRaceSeriesFormDialog.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationRaceSeriesFormDialog.vue?51c7","webpack:///./src/views/dashboard/organizationProfile/OrganizationRaceSeriesFormDialog.vue","webpack:///src/views/dashboard/organizationProfile/OrganizationRaceSeriesTab.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationRaceSeriesTab.vue?8125","webpack:///./src/views/dashboard/organizationProfile/OrganizationRaceSeriesTab.vue?6eef","webpack:///./src/views/dashboard/organizationProfile/OrganizationRaceSeriesResultsTab.vue?f6a1","webpack:///./src/views/dashboard/organizationProfile/OrganizationRaceSeriesResultFormDialog.vue?19d0","webpack:///src/views/dashboard/organizationProfile/OrganizationRaceSeriesResultFormDialog.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationRaceSeriesResultFormDialog.vue?a182","webpack:///./src/views/dashboard/organizationProfile/OrganizationRaceSeriesResultFormDialog.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationImportRaceSeriesResultsDialog.vue?4776","webpack:///src/views/dashboard/organizationProfile/OrganizationImportRaceSeriesResultsDialog.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationImportRaceSeriesResultsDialog.vue?22ab","webpack:///./src/views/dashboard/organizationProfile/OrganizationImportRaceSeriesResultsDialog.vue?463f","webpack:///src/views/dashboard/organizationProfile/OrganizationRaceSeriesResultsTab.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationRaceSeriesResultsTab.vue?7005","webpack:///./src/views/dashboard/organizationProfile/OrganizationRaceSeriesResultsTab.vue?386c","webpack:///./src/views/dashboard/organizationProfile/OrganizationRaceSeriesStandingsTab.vue?2d54","webpack:///src/views/dashboard/organizationProfile/OrganizationRaceSeriesStandingsTab.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationRaceSeriesStandingsTab.vue?5760","webpack:///./src/views/dashboard/organizationProfile/OrganizationRaceSeriesStandingsTab.vue?c946","webpack:///./src/views/dashboard/organizationProfile/OrganizationCategoriesTab.vue?5ae0","webpack:///./src/views/dashboard/organizationProfile/OrganizationCategoryFormDialog.vue?694c","webpack:///src/views/dashboard/organizationProfile/OrganizationCategoryFormDialog.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationCategoryFormDialog.vue?7ea1","webpack:///./src/views/dashboard/organizationProfile/OrganizationCategoryFormDialog.vue","webpack:///src/views/dashboard/organizationProfile/OrganizationCategoriesTab.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationCategoriesTab.vue?e0dc","webpack:///./src/views/dashboard/organizationProfile/OrganizationCategoriesTab.vue?69e3","webpack:///./src/views/dashboard/organizationProfile/OrganizationEventsTab.vue?4468","webpack:///./src/views/dashboard/organizationProfile/OrganizationEventFormDialog.vue?49a0","webpack:///./src/views/dashboard/organizationProfile/EventAttachmentsTab.vue?b4f4","webpack:///src/views/dashboard/organizationProfile/EventAttachmentsTab.vue","webpack:///./src/views/dashboard/organizationProfile/EventAttachmentsTab.vue?3f99","webpack:///./src/views/dashboard/organizationProfile/EventAttachmentsTab.vue","webpack:///src/views/dashboard/organizationProfile/OrganizationEventFormDialog.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationEventFormDialog.vue?0e72","webpack:///../../../src/components/VCombobox/VCombobox.ts","webpack:///./src/views/dashboard/organizationProfile/OrganizationEventFormDialog.vue?75c6","webpack:///./src/views/dashboard/organizationProfile/EventSharedOrgsDialog.vue?1fd2","webpack:///src/views/dashboard/organizationProfile/EventSharedOrgsDialog.vue","webpack:///./src/views/dashboard/organizationProfile/EventSharedOrgsDialog.vue?5854","webpack:///./src/views/dashboard/organizationProfile/EventSharedOrgsDialog.vue?a75d","webpack:///src/views/dashboard/organizationProfile/OrganizationEventsTab.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationEventsTab.vue?26e2","webpack:///./src/views/dashboard/organizationProfile/OrganizationEventsTab.vue","webpack:///src/views/dashboard/organizationProfile/OrganizationProfile.vue","webpack:///./src/views/dashboard/organizationProfile/OrganizationProfile.vue?5336","webpack:///./src/views/dashboard/organizationProfile/OrganizationProfile.vue?4ce6","webpack:///./src/views/dashboard/organizationProfile/OrganizationEventFormDialog.vue?8604"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","$event","$emit","_v","_s","icons","mdiCalendarPlus","_e","tableFiltering","search","value","$set","organizations","contentClass","loadingOrganizations","scopedSlots","_u","key","fn","data","item","name","$const","ORGANIZATION_TYPE_MAP","type","title","model","callback","$$v","expression","ref","_g","_b","filterByDate","fromDateMenu","toDateMenu","tableColumns","records","tableOptions","pagination","total","loading","DEFAULT_TABLE_PER_PAGE_OPTIONS","loadRecords","onClickName","logo","$store","state","sitePrefs","site_ui__default_event_logo","avatarText","_t","organization","id","mdiShareVariant","_organization","$utils","formatDate","start_date","end_date","country","city","Object","keys","shared_org_perms","length","mdiPencilOutline","staticRenderFns","components","props","required","eventListUrl","default","apiParams","showActions","setup","context","text","align","sortable","page","params","order_by","endsWith","desc","axios","notifyDefaultServerError","page_size","route","query","router","record_id","watch","deep","onMounted","loadOrganizations","component","VAutocomplete","VAvatar","VBadge","VBtn","VCard","VCardText","VCol","VDataTable","VDatePicker","VIcon","VImg","VList","VListItem","VListItemContent","VListItemSubtitle","VListItemTitle","VMenu","VRow","VTextField","VTooltip","class","editMode","calendarOptions","eventClickRouteName","$rns","PUBLIC_EVENT_PROFILE","event","extendedProps","record","EVENT_SOURCE_MAP","source","css","mdiMapMarker","mdiCalendar","start","mdiHomeOutline","description","__assign","assign","t","s","i","n","arguments","p","prototype","hasOwnProperty","call","apply","create","d","b","setPrototypeOf","__proto__","Array","TypeError","String","__","constructor","f","l","u","a","parentNode","removeChild","h","o","r","children","defaultProps","v","__k","__b","__e","__d","__c","__h","__v","vnode","y","current","_","indexOf","k","base","push","g","__r","debounceRendering","setTimeout","sort","some","__P","j","__n","ownerSVGElement","z","w","c","x","C","isArray","m","A","N","M","e","appendChild","nextSibling","insertBefore","H","$","setProperty","test","style","cssText","replace","toLowerCase","slice","addEventListener","T","I","removeEventListener","setAttribute","removeAttribute","contextType","__E","O","sub","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","forEach","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","L","diffed","localName","nodeType","document","createTextNode","createElementNS","createElement","is","childNodes","dangerouslySetInnerHTML","attributes","__html","innerHTML","checked","unmount","componentWillUnmount","P","firstChild","B","Consumer","Provider","splice","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","shift","__H","__N","__V","requestAnimationFrame","clearTimeout","cancelAnimationFrame","filter","isPureReactComponent","__f","Symbol","for","then","__u","__a","D","__R","map","__O","pop","fallback","delete","revealOrder","size","containerInfo","get","Map","reverse","set","W","isReactComponent","defineProperty","configurable","writable","Z","Y","cancelBubble","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","J","K","multiple","selected","defaultValue","className","enumerable","$$typeof","Q","globalObj","globalThis","window","flushSync","runBeforeFlush","oldDebounceRendering","callbackQ","execCallbackSync","FullCalendarVDom","console","warn","Component","createRef","Fragment","createContext","createPortal","unmountComponentAtNode","_super","FakeComponent","ContextType","origProvider","_this","isNew","subs_1","_props","old","node","to","from","pack","ar","concat","Error","EventSourceApi","internalEventSource","remove","dispatch","sourceId","refetch","sourceIds","isRefetch","publicId","meta","url","format","removeElement","el","elementClosest","selector","closest","documentElement","contains","elementMatches","parentElement","method","matches","matchesSelector","msMatchesSelector","findElements","container","containers","HTMLElement","allMatches","querySelectorAll","PIXEL_PROP_RE","applyStyle","propName","applyStyleProp","val","getEventTargetViaRoot","ev","_a","composedPath","target","guid$1","getUniqueDomId","buildDelegationHandler","handler","matchedChild","listenBySelector","eventType","attachedHandler","listenToHoverBySelector","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave_1","mouseLeaveEv","createAriaClickAttrs","onClick","createAriaKeyboardAttrs","tabIndex","onKeyDown","preventDefault","guidNumber","guid","parseFieldSpecs","input","token","specs","tokens","split","charAt","field","substring","order","func","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","localeCompare","padStart","len","substr","formatWithOrdinals","formatter","args","fallbackText","reduce","str","arg","index","isInt","computeSmallestCellWidth","cellEl","allWidthEl","querySelector","contentWidthEl","getBoundingClientRect","width","DAY_IDS","addWeeks","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","valueOf","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","years","months","days","Math","round","milliseconds","diffWholeWeeks","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","marker","dow","doy","weekOfGivenYear","nextW","min","year","firstWeekStart","firstWeekOffset","dayStart","floor","fwd","fwdlw","getUTCDay","dateToLocalArray","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","arrayToLocalDate","Date","getUTCMilliseconds","UTC","isValidDate","isNaN","createEventInstance","defId","range","forcedStartTzo","forcedEndTzo","instanceId","mergeProps","propObjs","complexPropsMap","dest","name_1","complexObjs","unshift","undefined","name_2","filterHash","hash","filtered","mapHash","newHash","arrayToHash","_i","a_1","hashValuesToArray","obj","isPropsEqual","getUnequalProps","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","startIndex","endIndex","step","res","parseRecurring","refined","defaultAllDay","dateEnv","recurringTypes","parsed","parse","allDay","allDayGuess","duration","typeData","typeId","expandRecurring","eventStore","framingRange","pluginHooks","options","defs","instances","instance","recurringDef","def","defaultAllDayEventDuration","defaultTimedEventDuration","starts","expandRecurringRanges","starts_1","end","add","eventDef","typeDef","markers","expand","subtract","PARSE_RE","createDuration","unit","parseString","parseObject","exec","sign","parseInt","month","day","hours","hour","minutes","minute","seconds","second","millisecond","ms","weeks","week","specifiedWeeks","durationsEqual","d0","d1","subtractDurations","asRoughYears","dur","asRoughDays","asRoughMonths","asRoughMs","greatestDurationDenominator","buildIsoString","timeZoneOffset","stripZeroTime","toISOString","formatTimeZoneOffset","formatDayString","doIso","abs","mins","isArraysEqual","a0","a1","equalityFunc","memoize","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","memoizeObjArg","currentArg","newArg","EXTENDED_SETTINGS_AND_SEVERITIES","separator","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","max","buildFormattingFunc","formatRange","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","defaultSeparator","before","after","getLargestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","weekText","weekTextLong","locale","buildNativeFormattingFunc","sanitizeSettings","timeZone","zeroFormat","normalFormat","Intl","DateTimeFormat","codes","zeroProps","postProcess","injectTzoStr","trim","toLocaleLowerCase","tzoStr","replaced","num","display","parts","simpleNumberFormat","direction","join","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","i0","found0","before0","after0","i1","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","array","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","cmdFormatter","FuncFormatter","createFormatter","BASE_OPTION_REFINERS","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","customButtons","nextDayThreshold","scrollTime","scrollTimeReset","Boolean","slotMinTime","slotMaxTime","dayPopoverFormat","slotDuration","snapDuration","headerToolbar","footerToolbar","defaultRangeSeparator","titleRangeSeparator","forceEventDuration","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","initialView","aspectRatio","Number","weekends","weekNumberCalculation","weekNumbers","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","editable","viewClassNames","viewDidMount","viewWillUnmount","nowIndicator","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","showNonCurrentDates","lazyFetching","startParam","endParam","timeZoneParam","locales","themeSystem","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","eventOrderStrict","handleWindowResize","windowResizeDelay","longPressDelay","eventDragMinDistance","expandRows","height","contentHeight","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","progressiveEventRendering","businessHours","initialDate","now","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","viewHeight","eventSourceFailure","eventSourceSuccess","eventDisplay","eventStartEditable","eventDurationEditable","eventOverlap","eventConstraint","eventAllow","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","eventClassNames","eventContent","eventDidMount","eventWillUnmount","selectConstraint","selectOverlap","selectAllow","droppable","unselectCancel","slotLabelFormat","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelContent","slotLabelDidMount","slotLabelWillUnmount","dayMaxEvents","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayText","allDayClassNames","allDayContent","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","eventTimeFormat","rerenderDelay","moreLinkText","moreLinkHint","selectMinDistance","selectable","selectLongPressDelay","eventLongPressDelay","selectMirror","eventMaxStack","eventMinHeight","eventMinWidth","eventShortHeight","slotEventOverlap","plugins","firstDay","dayCount","dateAlignment","dateIncrement","hiddenDays","monthMode","fixedWeekCount","validRange","visibleRange","titleFormat","eventInteractive","noEventsText","viewHint","navLinkHint","closeHint","timeHint","eventHint","moreLinkClick","moreLinkClassNames","moreLinkContent","moreLinkDidMount","moreLinkWillUnmount","BASE_OPTION_DEFAULTS","center","CALENDAR_LISTENER_REFINERS","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","select","unselect","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","CALENDAR_OPTION_REFINERS","buttonText","buttonHints","views","initialEvents","events","eventSources","COMPLEX_OPTION_COMPARATORS","isMaybeObjectsEqual","VIEW_OPTION_REFINERS","buttonTextKey","dateProfileGeneratorClass","usesMinMaxTime","classNames","content","didMount","willUnmount","mergeRawOptions","optionSets","refineProps","refiners","extra","raw","parseEvents","rawEvents","eventSource","allowOpenRange","createEmptyEventStore","eventRefiners","buildEventRefiners","rawEvents_1","rawEvent","tuple","parseEvent","eventTupleToStore","getRelevantEvents","def_1","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","groupId","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","EVENT_UI_REFINERS","startEditable","durationEditable","constraint","overlap","allow","color","backgroundColor","borderColor","textColor","EMPTY_EVENT_UI","constraints","allows","createEventUi","combineEventUis","uis","combineTwoEventUis","item0","item1","EVENT_NON_DATE_REFINERS","interactive","EVENT_DATE_REFINERS","EVENT_REFINERS","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","singleRes","parseSingle","hasEnd","ui","eventDefMemberAdders","memberAdder","freeze","startMeta","endMeta","startMarker","endMarker","startInput","createMarkerMeta","isTimeUnspecified","forcedTzo","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","diffDates","date0","date1","largeUnit","diffWholeYears","diffWholeMonths","parseRange","createMarker","invertRanges","ranges","constraintRange","dateRange","invertedRanges","compareRanges","range0","range1","intersectRanges","newRange","rangesIntersect","rangeContainsMarker","constrainMarkerToRange","sliceEventStore","eventUiBases","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","compileEventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRanges_1","invertedRange","invertedRanges_2","bg","fg","setElSeg","seg","fcSeg","getElSeg","eventDefs","compileEventUi","sortEventSegs","segs","eventOrderSpecs","objs","buildSegCompareObj","_seg","eventRange","computeSegDraggable","transformers","isDraggableTransformers","transformers_1","transformer","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","eventInstance","wholeEventStart","wholeEventEnd","segStart","segEnd","isStartDay","isEndDay","getSegMeta","todayRange","nowDate","segRange","isPast","isFuture","isToday","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","buildEventRangeKey","getSegAnchorAttrs","href","emitter","hasHandlers","trigger","jsEvent","view","viewApi","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","standardProps","buildDateSpanApi","buildRangeApi","buildRangeApiWithTimeZone","omitTime","toDate","startStr","formatIso","endStr","fabricateEventRange","dateSpan","triggerDateSelect","selection","pev","buildDateSpanApiWithContext","origEvent","calendarApi","triggerDateUnselect","dateSpanTransforms","transform","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","startDelta","endDelta","copy","eventDefMutationAppliers","applier","forceAllDay","clearEnd","datesDelta","ViewApi","getCurrentData","viewTitle","dateProfile","activeRange","currentRange","getOption","EVENT_SOURCE_REFINERS","success","failure","parseEventSource","rawObj","buildEventSourceRefiners","metaRes","buildEventSourceMeta","_raw","isFetching","latestFetchId","fetchRange","sourceDefId","eventSourceRefiners","eventSourceDefs","parseMeta","reduceCurrentDate","currentDate","action","dateMarker","getInitialDate","initialDateInput","getNow","nowInput","createNowMarker","CalendarApi","currentDataManager","batchRendering","updateSize","setOption","optionName","rawOptionValue","currentCalendarOptionsInput","getAvailableLocaleCodes","availableRawLocales","handlerName","currentCalendarOptionsRefiners","off","changeView","viewType","dateOrRange","zoomTo","spec","viewSpecs","getUnitViewSpec","toolbarConfig","viewTypes","header","viewsWithButtons","footer","singleUnit","prev","next","prevYear","addYears","nextYear","today","gotoDate","zonedDateInput","incrementDate","deltaInput","delta","settings","dateOrObj","endDate","selectionInput","dateSelection","addEvent","eventInput","sourceInput","_def","_instance","currentData","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","eventApi","relatedEvents","revert","eventApiToStore","getEventById","getEvents","buildEventApis","removeAllEvents","getEventSources","sourceHash","sourceApis","internalId","addEventSource","sources","removeAllEventSources","refetchEvents","scrollToTime","timeInput","time","EventApi","_context","setProp","mutate","setExtendedProp","setStart","instanceRange","granularity","maintainDuration","setEnd","endInput","setDates","moveStart","moveEnd","moveDates","setAllDay","formatInput","context_1","eventStore_1","relevantEvents","oldEvent","asStore","toPlainObject","collapseColor","collapseExtendedProps","toJSON","excludeInstance","eventApis","excludeInstanceId","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","arr","ISO_RE","DateEnv","isNamedTimeZone","namedTimeZoneImpl","canComputeOffset","weekDow","weekDoy","weekNumberFunc","timestampToMarker","getYear","addMonths","greatestWholeUnit","countDurationsBetween","diff","startOf","startOfYear","startOfMonth","startOfWeek","dateOptions","offsetForMarker","isEndExclusive","extraOptions","omitTimeZoneOffset","timestampToArray","getTimezoneOffset","offsetForArray","globalLocales","MINIMAL_RAW_EN_LOCALE","code","list","RAW_EN_LOCALE","eventCnt","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","en","allRawLocales_1","rawLocale","buildLocale","inputSingular","available","queryLocale","parseLocale","codeArg","queryRawLocale","simpleId","merged","NumberFormat","canVGrowWithinCell","DEF_DEFAULTS","startTime","endTime","daysOfWeek","parseBusinessHours","refineInputs","rawDefs","rawDef","intersectRects","rect1","rect2","left","right","top","bottom","getCanVGrowWithinCell","computeCanVGrowWithinCell","position","body","div","possible","offsetHeight","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventDrag","eventResizes","eventResize","info","buildEventUiForKey","keyInfo","buildEventUi","eventSelection","dateSpans","getKeysForDateSpan","keys_1","getKeysForEventDef","splitStores","splitHashes","interaction","splitStates","affectedStores_1","affectedEvents","mutatedKeysByDefId","mutatedEvents","mutatedStores_1","populate","isEvent","allUi","eventUiForKey","baseParts","stuff","getDateMeta","isDisabled","isOther","getDayClassNames","theme","getClass","DAY_FORMAT","WEEK_FORMAT","buildNavLinkAttrs","isTabbable","dateStr","zonedDate","handleInteraction","customAction","_scrollbarWidths","getScrollbarWidths","computeScrollbarWidths","overflow","computeScrollbarWidthsForEl","clientHeight","offsetWidth","clientWidth","computeClippedClientRect","clippingParents","getClippingParents","rect","clippingParents_1","clippingParent","intersection","parents","computedStyle","getComputedStyle","overflowY","overflowX","unpromisify","isResolved","wrappedSuccess","wrappedFailure","Emitter","handlers","thisContext","setThisContext","setOptions","addToHash","removeFromHash","attachedHandlers","optionHandler","handlers_1","PositionCache","originEl","els","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","scrollTop","scrollLeft","setScrollTop","setScrollLeft","scrollWidth","scrollHeight","WindowScrollController","pageYOffset","pageXOffset","scroll","Theme","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","prefix","iconOverridePrefix","classes","getIconClass","isRtl","rtlIconClasses","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","ScrollResponder","execFunc","handleScrollRequest","request","queuedRequest","drain","fireInitialScroll","detach","update","isDatesNew","ViewContextType","buildViewContext","viewSpec","viewOptions","dateProfileGenerator","registerInteractiveComponent","unregisterInteractiveComponent","addResizeHandler","removeResizeHandler","createScrollResponder","PureComponent","nextProps","nextState","debug","log","propEquality","stateEquality","safeSetState","newState","addPropsEquality","addStateEquality","BaseComponent","setRef","DateComponent","uid","prepareHits","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidSegDownEl","isValidDateDownEl","createPlugin","deps","reducers","isLoadingFuncs","contextInit","eventDragMutationMassagers","dateSelectionTransformers","datePointTransforms","viewPropsTransformers","isPropsValid","externalDefTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","namedTimeZonedImpl","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","contentTypeHandlers","listenerRefiners","optionRefiners","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","isAdded","hooks","addDefs","defs_1","combineHooks","buildBuildPluginHooks","currentHooks","currentOverrideDefs","currentGlobalDefs","overrideDefs","hooks0","hooks1","StandardTheme","compileViewDefs","defaultConfigs","overrideConfigs","ensureViewDef","viewDef","buildViewDef","defaultConfig","overrideConfig","queryProp","theComponent","superType","superDef","defaults","rawOptions","overrides","root","tableCellShaded","buttonGroup","button","buttonActive","close","RenderHook","rootElRef","handleRootEl","elRef","hookProps","ContentHook","defaultContent","backupElRef","innerElRef","innerContent","normalizeClassNames","CustomContentRenderContext","renderId","ContentHookInner","renderInnerContent","updateCustomContent","customContentInfo","destroy","getInnerContent","getContentMeta","contentKey","contentVal","buildLifecycleFuncs","normalizeContent","searchKey","MountHook","rootEl","buildClassNameNormalizer","currentGenerator","currentHookProps","currentClassNames","generator","ViewRoot","customClassNames","parseViewConfigs","inputs","parseViewConfig","createViewHookComponent","viewProps","viewElRef","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","durationUnit","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","queryButtonTitle","buttonKey","optionDefaults","buttonTextOverride","buttonTextDefault","buttonTitleOverride","buttonHint","buttonTitleDefault","durationInputMap","json","JSON","stringify","DateProfileGenerator","initHiddenDays","buildPrev","currentDateProfile","forceToValid","prevDate","currentRangeUnit","build","buildNext","nextDate","currentInfo","isRangeAllDay","renderRange","isValid","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","validRangeInput","simpleInput","refineRange","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","computeRes","isHiddenDay","skipHiddenDays","runningCount","visibleRangeInput","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","reduceViewType","reduceDynamicOptionOverrides","reduceDateProfile","dp","initEventSources","addSources","parseInitialSources","reduceEventSources","removeSource","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","fetchId","reduceEventSourcesNewTimeZone","computeEventSourcesLoading","eventSourceHash","sources_1","isSourceDirty","doesSourceNeedRange","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","fetch","xhr","error","message","rawSources","rawSources_1","rawSource","ignoreRange","reduceEventStore","receiveRawEvents","excludeEventsBySourceId","subset","transformRawEvents","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","rezoneEventStoreDates","oldDateEnv","newDateEnv","reduceDateSelection","currentSelection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","parseToolbar","sectionStrHash","sectionWidgets","hasTitle","sectionName","sectionStr","sectionRes","parseSection","widgets","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","calendarButtonHintOverrides","calendarButtonHints","sectionSubstrs","buttonGroupStr","buttonClick","buttonIcon","click","hint","textFallback","prevOrNext","navUnit","eventSourceDef$2","arrayEventSourcePlugin","eventSourceDef$1","bind","funcEventSourcePlugin","requestJson","successCallback","failureCallback","toUpperCase","injectQueryStringParams","encodeParams","XMLHttpRequest","open","setRequestHeader","onload","status","responseText","err","onerror","send","encodeURIComponent","JSON_FEED_EVENT_SOURCE_REFINERS","extraParams","eventSourceDef","requestParams","buildRequestParams","errorMessage","jsonFeedEventSourcePlugin","customRequestParams","SIMPLE_RECURRING_REFINERS","startRecur","endRecur","recurring","recurringData","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","dowHash","dayMarker","instanceStarts","instanceStart","changeHandlerPlugin","handleEventSources","unfoundSources","newInputs","inputs_1","inputFound","unfoundSources_1","unfoundSource","newInputs_1","newInput","handleDateProfile","handleEventStore","globalPlugins","html","buildHtmlRenderer","domNodes","buildDomNodeRenderer","currentEl","currentHtml","currentDomNodes","newDomNodes","newDomNodes_1","newNode","DelayedRunner","drainedOption","isRunning","isDirty","pauseDepths","timeoutId","delay","isPaused","tryDrain","pause","scope","resume","force","depth","drained","clear","TaskRunner","runTaskOption","queue","delayedRunner","task","completedTasks","runTask","buildTitle","buildTitleFormat","CalendarDataManager","computeOptionsData","_computeOptionsData","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","optionsData","currentViewType","currentViewData","calendarContext","initialState","renderableEventStore","selectionConfig","contextAndState","reducer","computeIsLoading","resetOptions","append","isEventsLoading","eventUiSingleBase","eventUiBySource","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","processRawCalendarOptions","refinedOptions","availableLocaleData","warnUnknownOptions","currentRaw","currentRefined","anyChanges","processRawViewOptions","explicitLocale","ThemeClass","DateProfileGeneratorClass","isLoadingFunc","viewName","CalendarDataProvider","handleData","dataManager","prevProps","newOptionOverrides","NamedTimeZoneImpl","SegHierarchy","strictOrder","allowReslicing","maxCoord","maxStackCnt","levelCoords","entriesByLevel","stackCnts","addSegs","hiddenEntries","insertEntry","entry","findInsertion","isInsertionValid","insertEntryAt","handleInvalidInsertion","levelCoord","thickness","stackCnt","touchingEntry","splitEntry","barrier","partCnt","splitHiddenEntries","entrySpan","barrierSpan","intersectSpans","lateral","insertAt","level","buildEntryKey","newEntry","levelCnt","candidateCoord","touchingLevel","touchingLateral","trackingLevel","trackingCoord","trackingEntries","trackingEntry","searchRes","binarySearch","getEntrySpanEnd","lateralIndex","trackingEntryBottom","destLevel","destLateral","toRects","rects","entries","entries_1","span0","span1","searchVal","getItemVal","middleIndex","middleVal","Interaction","isHitComboAllowed","parseInteractionSettings","useEventCenter","interactionSettingsStore","ElementDragging","setMirrorIsVisible","bool","setMirrorNeedsRevert","setAutoScrollEnabled","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widgetGroup_1","widget","titleId","isPressed","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","buttonClasses","disabled","groupClassName","Toolbar","startContent","endContent","extraClassName","forceLtr","centerContent","renderSection","ViewContainer","availableWidth","handleEl","updateAvailableWidth","handleResize","liquid","paddingBottom","labeledById","EventClicking","handleSegClick","segEl","hasUrlContainer","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","headerRef","footerRef","interactionsStore","viewLabelId","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","TheInteractionClass","listeners","listeners_1","listener","resizeRunner","viewAspectRatio","toolbarProps","viewVGrow","isHeightAuto","forPrint","viewContext","renderView","buildAppendContent","CalendarInteractionClass","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","CalendarRoot","handleBeforePrint","handleAfterPrint","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","renderInner$1","TableDateCell","dayMeta","navLinkAttrs","colCnt","extraHookProps","role","colSpan","extraDataAttrs","isSticky","WEEKDAY_FORMAT","TableDowCell","dateMeta","extraClassNames","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","currentState","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","DayHeader","createDayHeaderFormatter","dates","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","dayIndex","cnt","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","row","col","buildCell","seriesSeg","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","segs_1","eventRanges","eventRanges_1","sliceEventRange","segs_2","isComponentAllDay","VISIBLE_HIDDEN_RE","Scroller","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","marginBottom","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","currentMap","depths","callbackMap","handleValue","removed","added","refCallback","collect","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCells_1","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","isHeader","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","colNodes","cols_1","colProps","sanitizeShrinkWidth","hasShrinkWidth","cols_2","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","sections","microColGroupNode","collapsibleWidth","currentConfig","configCnt","configI","headSectionNodes","bodySectionNodes","footSectionNodes","isBuggy","roleAttrs","outerContent","renderChunkTd","chunk","isLiquid","sectionKey","rowSyncHeights","reportRowHeightChange","scrollerEl","section","getSectionByKey","scrollerElRef","scrollbarWidth","scroller","harnessEl","sections_1","EventRoot","timeText","disableDragging","disableResizing","isDateSelecting","standardClassNames","StandardEvent","defaultTimeFormat","renderInnerContent$1","innerProps","DAY_NUM_FORMAT","DayCellContent","refineDayCellHookProps","showDayNumber","extraProps","dayNumberText","DayCellRoot","refineHookProps","dataAttrs","renderFill","fillType","BgEvent","WeekNumberRoot","defaultFormat","renderInner","PADDING_FROM_VIEWPORT","Popover","handleDocumentMouseDown","handleCloseClick","handleDocumentKeyDown","onClose","extraAttrs","parentEl","alignmentEl","alignGridTop","alignmentRect","popoverDims","popoverTop","popoverLeft","origin_1","offsetParent","MorePopover","startDate","dayClassNames","extraDateSpan","dayEl","layer","MoreLinkRoot","linkElRef","isPopoverOpen","popoverId","handleClick","computeRange","buildPublicSeg","allDayDate","allSegs","hiddenSegs","handlePopoverClose","moreCnt","shortText","renderMoreLinkInner","alignmentElRef","popoverContent","updateParentEl","computeEarliestSegStart","computeLatestSegEnd","pickEarliestStart","seg0","seg1","pickLatestEnd","Calendar","isRendering","isRendered","customContentRenderId","handleAction","renderRunner","handleRenderRequest","currentData_1","setClassNames","setHeight","wasRendering","pauseRendering","resumeRendering","classList","classNames_1","OPTION_IS_COMPLEX","resources","shallowCopy","output","wrapVDomGenerator","vDomGenerator","vue","createVueContentTypePlugin","parent","buildVDomHandler","vDomContent","$destroy","initVue","innerEl","$mount","initialContent","FullCalendar","extend","initData","mounted","internal","$options","scopedSlotOptions","$scopedSlots","calendar","$el","buildOptions","methods","getApi","beforeUpdate","beforeDestroy","buildWatchers","suppliedOptions","watchers","_loop_1","complexOptionName","GlobalVue","installed","install","Vue","use","TableView","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","renderHScrollLayout","ScrollGrid","chunks","colGroups","splitSegsByRow","byRow","splitSegsByFirstCol","byCol","splitInteractionByRow","TableCellTop","renderTopInner","forceDayTop","dayNumberId","DEFAULT_TABLE_EVENT_TIME_FORMAT","hasListItemDisplay","TableBlockEvent","TableListItemEvent","TableCellMoreLink","compileSegs","singlePlacements","invisibleSegs","isForcedInvisible","visibility","isExpanded","singlePlacements_1","placement","isVisible","DEFAULT_WEEK_NUM_FORMAT","TableCell","dayElRef","rootDataAttrs","showWeekNumber","weekElRef","weekClassNames","fgContentElRef","fgContent","marginTop","moreMarginTop","bgContent","computeFgSegPlacement","eventInstanceHeights","maxContentHeight","hierarchy","hiddenConsumes","segInputs","unknownHeightSegs","eventHeight","segRects","placeRects","singleColPlacements","multiColPlacements","leftoverMargins","moreCnts","moreMarginTops","unknownHeightSegs_1","absoluteTop","resliceSeg","hiddenEntries_1","hiddenEntry","hiddenSpan","allRects","rectsByEachCol","groupRectsByEachCol","currentHeight","currentMarginTop","rects_1","multiPlacements","rects_2","isFirstCol","rects_3","spanStart","spanEnd","DayGridSegHierarchy","forceHidden","excludeHidden","touchingEntryId","placeholderEntry","placeholderEntryId","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","businessHoursByCol","bgEventSegsByCol","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","buildMirrorPlacements","showDayNumbers","showWeekNumbers","renderFillSegs","updateSizing","prevState","currentProps","segPlacements","nodes","segPlacements_1","leftRightCss","isExternalSizingChange","frameEls","oldInstanceHeights","newInstanceHeights","queryEventInstanceHeights","limitByContentHeight","computeMaxContentHeight","segElMap","firstKey","fcContainerEl","getCellEls","elMap","mirrorSegs","colPlacements","topsByInstanceId","buildAbsoluteTopHash","colPlacements_1","placements","placements_1","Table","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","rowRefs","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","limitViaBalanced","colGroupNode","renderRowIntro","isSegAllDay","rowPositions","rowObj","colPositions","getCellRange","getCellEl","DayTableSlicer","dayTableModel","DayTable","slicer","tableRef","headerAlignElRef","DayTableView","buildDayTableModel","headerContent","contentArg","TableDateProfileGenerator","endOfWeek","dayGrid","dayGridDay","dayGridWeek","dayGridMonth","ListViewHeaderRow","textId","cellId","dayDate","listDayFormat","sideText","listDaySideFormat","sideNavLinkAttrs","DEFAULT_TIME_FORMAT","ListViewEventRow","timeHeaderId","eventHeaderId","dateHeaderId","renderEventInnerContent","buildTimeContent","headers","interactiveAttrs","doAllDay","renderAllDayInner","ListView","computeDateVars","eventStoreToSegs","_eventStoreToSegs","dateHeaderIdRoot","setRootEl","dayDates","dayRanges","renderSegList","renderEmptyMessage","noEventsClassNames","noEventsContent","renderNoEventsInner","noEventsDidMount","noEventsWillUnmount","segsByDay","groupSegsByDay","innerNodes","daySegs","dayStr","daySegs_1","eventRangesToSegs","eventRangeToSegs","viewEnd","OPTION_REFINERS","createFalsableFormatter","listDay","listWeek","listMonth","listYear","calendarRef","response","results","suppressDatesSetEvent","calView","calendarView","minDate","activeStart","maxDate","loadEvents","start_date__lte","start_date__gte","refreshCalendar","refreshView","VChip","VOverlay","VProgressCircular","VSheet","$entries","stat","readonly","searchResult","selectAddress","address","lat","latitude","lng","longitude","updateCoordinates","latLng","apiKey","mapStyle","emits","googleSearch","googleMapsApiInitializer","libraries","geolocation","nextTick","getCurrentLocation","my_level","is_admin","$refs","editDialogRef","show","tab","_l","tabIdx","icon","mdiChevronUp","mdiChevronDown","childTab","admin_required","selectedTab","loadOrganization","readOnly","mdiOfficeBuildingCog","mdiAccountMultipleOutline","orgSummary","members_count","races_count","domProps","about","website","email","phone","formatPhone","COUNTRY_MAP","social_media","mdiHomeEditOutline","loadOrgSummary","mdiCheckboxBlankCircle","mdiKeyboardBackspace","mdiAccountStarOutline","VCardTitle","VDivider","eventSearchInput","findingEvents","eventFiltering","eventFromDate","eventToDate","proxy","selectedEvent","mdiRefresh","formDialogRef","mdiPlus","_event","start_datetime","create_datetime","isEditMode","save","currentEvent","mdiClock","mdiAlert","deleting","deleteRecord","confirmDelete","mdiDelete","hide","saving","notifySuccess","httpMethod","successMsg","VAlert","VCardActions","VContainer","VDialog","VForm","VSpacer","dialog","raceTemplate","createRacesFromRaceTemplate","core_backend__global_race_template","template_name","races","previewRaceTemplate","dialogLoader","post","race_template","raceHeaders","VSubheader","OrganizationRaceFormDialog","OrganizationRaceTemplate","cellClass","findEventsDebounce","findEvents","from_date","to_date","include_org_private","mdiEyeOutline","mdiAccountGroupOutline","mdiClose","mdiCheck","mdiInformationOutline","mdiAccountCheck","mdiFileExcelOutline","mdiPodiumGold","mdiAccountPlus","importDialogRef","tableRowClass","datetime","exp_date","org_member_uid","mdiCheckCircleOutline","mdiCloseCircleOutline","mdiSyncCircle","mdiAccountCheckOutline","tag","PUBLIC_RIDER_PROFILE","member","_member","_user","avatar","first_name","mdiAccountCancel","last_name","removeTrailingZero","weight","zipcode","address1","address2","license","license_number","license_type","license_status","race_age","race_gender","sex","license_expiration","local_association","formValid","memberSearchInput","findingMembers","members","rules","startDateMenu","expDateMenu","schema","private","choices","cIdx","member_fields","_n","mdiClockOutline","uiFieldsData","appendIcon","AppCardActions","findMembersDebounce","exfields","fields","loadSchema","is_active","findMembers","panel","mdiPhoneOutline","mdiEmailOutline","mdiEarth","mdiHomeCity","mdiHomeCityOutline","mixins","GroupableFactory","RegistrableProvide","nextIsActive","computed","isActive","groupClasses","expansionPanels","isReadonly","registerContent","vm","unregisterContent","registerHeader","$on","unregisterHeader","detail","blur","toggle","$nextTick","getSlot","baseMixins","Bootable","Colorable","RegistrableInject","parentIsActive","expansionPanel","immediate","oldVal","isBooted","created","VExpandTransition","showLazyContent","setBackgroundColor","directives","ripple","disableIconRotate","expandIcon","hideActions","hasMousedown","genIcon","VFadeTransition","tabindex","$listeners","mousedown","mouseup","BaseItemGroup","provide","accordion","flat","hover","focusable","inset","popout","tile","$attrs","breaking","updateItem","getValue","nextValue","toggleMethod","VCheckbox","VExpansionPanel","VExpansionPanelContent","VExpansionPanelHeader","VExpansionPanels","VListItemAvatar","VRadio","VRadioGroup","VSwitch","VTextarea","VTimePicker","importCsv","mdiFileExcel","onChangeFile","failedRecords","mdiAlertOutline","importing","csvFile","formData","FormData","orgId","notifyInfo","csvFileRef","csvColsCardRef","isContentCollapsed","VFileInput","OrganizationImportMembersDialog","OrganizationMemberFormDialog","signOutFromCC","mdiMagnify","ccList","loadCCListDetails","ccListSelect","color_chip","match_type","getCCStatus","isSingin","loadCCList","mdiHomePlus","PUBLIC_ORG_PROFILE","member_org","_member_org","memberOrgSearchInput","findingMemberOrgs","memberOrgs","findMemberOrgsDebounce","findMemberOrgs","OrganizationImportMemberOrgsDialog","OrganizationMemberOrgFormDialog","idx","ORGANIZATION_MEMBERSHIP_PLAN_OPTIONS","insertAfter","membershipPlans","moveUp","mdiArrowUpThin","mdiPlusCircleOutline","MEMBER_FIELDS_SCHEMA_TYPE_OPTIONS","fieldsSettingDialogRef","mdiCogOutline","loadRecord","fieldData","nameLocked","mdiLockOff","mdiLockOpen","choice","toString","originFieldData","_fieldData","clonedFieldData","origin","newChoice","VSimpleTable","OrganizationMemberFieldsSettingDialog","memberFields","plans","postData","member_fields_schema","membership_plans","fieldTitleToName","VSelect","_events","_races","mdiCheckboxMultipleMarkedOutline","mdiCheckboxMultipleBlankOutline","categories","_categories","points_map","pointsMapCount","ids","loadRaces","loadCategories","VTab","VTabItem","VTabs","OrganizationRaceSeriesFormDialog","raceSeries","raceSeriesSearchInput","findingRaceSeries","selectedRaceSeries","_race_result","_rider","more_data","displayRiderName","_race","_race_series","_category","place","currentRaceSeries","raceSeriesId","OrganizationImportRaceSeriesResultsDialog","OrganizationRaceSeriesResultFormDialog","findRaceSeriesDebounce","refineVTableOptions","findRaceSeries","loadingCategories","selectedCategory","points","rider","user","_create_by","username","OrganizationCategoryFormDialog","tableWidgetRef","mdiTable","calendarWidgetRef","eventFormDialogRef","eventSharedOrgsDialogRef","refreshCurrentTab","logoChosenFileData","logoImageRef","mdiCloudUploadOutline","onChangeLogoFile","logoChosenFile","clearChosenLogo","endDateMenu","EVENT_PUBLISH_TYPE_OPTIONS","core_backend__event_tags","COUNTRY_OPTIONS","gmapApiKey","location_lat","location_lon","bannerChosenFileData","prefs","banner_image","site_ui__default_event_banner_image","bannerImageRef","onChangeBannerFile","bannerChosenFile","clearChosenBanner","editor","DEFAULT_CKEDITOR_CONFIG","savePrefs","savingPrefs","newRecord","uploading","files","uploadFiles","_upload_by","file","mdiDownload","ckeditor","GoogleMap","EventAttachmentsTab","prefsData","loadGmapApiKey","delimiters","returnObject","editingIndex","computedCounterValue","selectedItems","internalSearch","hasSlot","isAnyValueAllowed","menuCanShow","isFocused","hasDisplayedItems","$slots","hideNoData","searchIsDirty","onInternalSearchChanged","delimiter","find","updateTags","updateMenuDimensions","genInput","paste","onPaste","genChipSelection","chip","componentOptions","dblclick","getText","selectedIndex","onChipInput","onEnterDown","getMenuIndex","updateSelf","keyCode","ctrlKey","keyCodes","home","includes","selectionStart","enter","changeSelectedIndex","onTabDown","stopPropagation","selectItem","updateEditing","setSelectedItems","internalValue","setValue","findIndex","updateCombobox","isUsingSlot","hasChips","menuIndex","itemToSelect","pastedItemText","clipboardData","_event$clipboardData","getData","findExistingIndex","clearableCallback","VCombobox","EVENT_SHARED_ACCESS_OPTIONS","access","sharedOrgs","sharedOrgsPerms","loadSharedOrgs","EventSharedOrgsDialog","OrganizationEventFormDialog","EventsTableWidget","EventsCalendarWidget","tabNumber","VTabsItems","OrganizationEventsTab","OrganizationCategoriesTab","OrganizationRaceSeriesResultsTab","OrganizationRaceSeriesStandingsTab","OrganizationRaceSeriesTab","OrganizationMembershipFormTab","OrganizationMemberOrgsTab","ProfileOrganizationFormDialog","OrganizationRaceResultsTab","OrganizationMembersTab","OrganizationRacesTab","OrganizationBioPanel","OrganizationConstantContactList","tabs","mdiCalendarMultiple","mdiCheckerboard","mdiGold","mdiHomeGroup","mdiFormatListText","mdiFlagCheckered","mdiMenu","mdiFamilyTree"],"mappings":"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","file":"js/chunk-755e24b4.8a96619d.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationMembershipFormTab.vue?vue&type=style&index=0&id=5bb8e828&prod&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationRaceSeriesTab.vue?vue&type=style&index=0&id=cef68508&prod&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationRacesTab.vue?vue&type=style&index=0&id=8fcf9e22&prod&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationImportRaceSeriesResultsDialog.vue?vue&type=style&index=0&id=2e3df0d2&prod&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationMemberOrgsTab.vue?vue&type=style&index=0&id=0151bdec&prod&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationMemberFormDialog.vue?vue&type=style&index=0&id=4da4cf7b&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventsCalendarWidget.vue?vue&type=style&index=0&id=1818cb20&prod&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\",\"sm\":\"6\"}},[_c('div',{staticClass:\"d-flex align-center\"},[(_vm.showActions)?_c('v-btn',{staticClass:\"mr-5\",attrs:{\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$emit('add-action-clicked')}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(_vm._s(_vm.icons.mdiCalendarPlus))]),_vm._v(\" New Event \")],1):_vm._e(),_c('v-text-field',{staticClass:\"me-3 search-input\",attrs:{\"value\":_vm.tableFiltering.search,\"dense\":\"\",\"clearable\":\"\",\"hide-details\":\"\",\"placeholder\":\"Search ...\"},on:{\"change\":function (value) { return _vm.$set(_vm.tableFiltering, 'search', value); },\"click:clear\":function($event){return _vm.$set(_vm.tableFiltering, 'search', null)}}})],1)]),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\",\"sm\":\"6\"}},[_c('v-autocomplete',{attrs:{\"dense\":\"\",\"label\":\"Filter by Organization\",\"items\":_vm.organizations,\"item-text\":\"name\",\"item-value\":\"id\",\"menu-props\":{contentClass:'list-style'},\"loading\":_vm.loadingOrganizations,\"no-data-text\":\"No Organization Found!\",\"hide-details\":\"\",\"clearable\":\"\",\"return-object\":\"\"},scopedSlots:_vm._u([{key:\"item\",fn:function(data){return [_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"text-sm\"},[_vm._v(\" \"+_vm._s(data.item.name)+\" \")]),_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s((_vm.$const.ORGANIZATION_TYPE_MAP[data.item.type] || {}).title || data.item.type)+\" \")])],1)]}}]),model:{value:(_vm.tableFiltering.organization),callback:function ($$v) {_vm.$set(_vm.tableFiltering, \"organization\", $$v)},expression:\"tableFiltering.organization\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\",\"sm\":\"6\"}},[_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"color\":\"primary\",\"dark\":\"\",\"small\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\" Filter by time period \")])]}}])},[_c('v-list',[_c('v-list-item',{on:{\"click\":function($event){return _vm.filterByDate('today')}}},[_c('v-list-item-title',[_vm._v(\"Today\")])],1),_c('v-list-item',{on:{\"click\":function($event){return _vm.filterByDate('next_7_days')}}},[_c('v-list-item-title',[_vm._v(\"Next 7 Days\")])],1),_c('v-list-item',[_c('v-list-item-title',[_vm._v(\"Custom:\")])],1),_c('v-list-item',{staticClass:\"mt-2\"},[_c('v-menu',{attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({staticClass:\"pt-0 pb-0\",attrs:{\"label\":\"From Date\",\"hide-details\":\"\",\"dense\":\"\",\"readonly\":\"\",\"clearable\":\"\"},model:{value:(_vm.tableFiltering.start_date__gte),callback:function ($$v) {_vm.$set(_vm.tableFiltering, \"start_date__gte\", $$v)},expression:\"tableFiltering.start_date__gte\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.fromDateMenu),callback:function ($$v) {_vm.fromDateMenu=$$v},expression:\"fromDateMenu\"}},[_c('v-date-picker',{attrs:{\"color\":\"primary\",\"no-title\":\"\"},on:{\"input\":function($event){_vm.fromDateMenu = false}},model:{value:(_vm.tableFiltering.start_date__gte),callback:function ($$v) {_vm.$set(_vm.tableFiltering, \"start_date__gte\", $$v)},expression:\"tableFiltering.start_date__gte\"}})],1),_c('v-menu',{staticClass:\"pl-2\",attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({staticClass:\"pt-0 pb-0\",attrs:{\"label\":\"To Date\",\"hide-details\":\"\",\"dense\":\"\",\"readonly\":\"\",\"clearable\":\"\"},model:{value:(_vm.tableFiltering.start_date__lte),callback:function ($$v) {_vm.$set(_vm.tableFiltering, \"start_date__lte\", $$v)},expression:\"tableFiltering.start_date__lte\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.toDateMenu),callback:function ($$v) {_vm.toDateMenu=$$v},expression:\"toDateMenu\"}},[_c('v-date-picker',{attrs:{\"color\":\"primary\"},on:{\"input\":function($event){_vm.toDateMenu = false}},model:{value:(_vm.tableFiltering.start_date__lte),callback:function ($$v) {_vm.$set(_vm.tableFiltering, \"start_date__lte\", $$v)},expression:\"tableFiltering.start_date__lte\"}})],1)],1)],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\",\"sm\":\"6\"}}),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\",\"sm\":\"6\"}})],1)],1),_c('v-data-table',{staticClass:\"text-no-wrap\",attrs:{\"headers\":_vm.tableColumns,\"items\":_vm.records,\"options\":_vm.tableOptions,\"server-items-length\":_vm.pagination.total,\"loading\":_vm.loading,\"footer-props\":{'items-per-page-options': _vm.$const.DEFAULT_TABLE_PER_PAGE_OPTIONS, 'show-current-page': true, 'show-first-last-page': true}},on:{\"update:options\":[function($event){_vm.tableOptions=$event},function($event){return _vm.loadRecords()}]},scopedSlots:_vm._u([{key:\"item.name\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('a',{staticClass:\"text-decoration-none\",on:{\"click\":function($event){return _vm.onClickName(item)}}},[_c('div',{staticClass:\"d-flex align-center\"},[_c('v-avatar',{staticClass:\"v-avatar-light-bg success--text\",attrs:{\"color\":\"success\",\"size\":\"30\"}},[(item.logo)?_c('v-img',{attrs:{\"src\":item.logo}}):(_vm.$store.state.sitePrefs.site_ui__default_event_logo)?_c('v-img',{attrs:{\"src\":_vm.$store.state.sitePrefs.site_ui__default_event_logo}}):_c('span',{staticClass:\"font-weight-medium\"},[_vm._v(\" \"+_vm._s(_vm.avatarText(item.name))+\" \")])],1),_c('div',{staticClass:\"d-flex flex-column pl-1\"},[_vm._t(\"table-name-section\",function(){return [_c('span',{staticClass:\"font-weight-semibold text-truncate text-decoration-none\"},[_vm._v(\" \"+_vm._s(item.name)+\" \")])]},{\"item\":item}),_vm._t(\"table-org-section\",function(){return [(item.organization)?_c('small',{staticClass:\"text--secondary\"},[(_vm.organization && (item.organization != _vm.organization.id))?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({attrs:{\"size\":\"14\",\"color\":\"warning\"}},'v-icon',attrs,false),on),[_vm._v(_vm._s(_vm.icons.mdiShareVariant))])]}}],null,true)},[_c('span',[_vm._v(\"Shared with your organization!\")])]):_vm._e(),_vm._v(\" \"+_vm._s(item._organization.name)+\" \")],1):_vm._e()]},{\"item\":item})],2)],1)])]}},{key:\"item.start_date\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(_vm.$utils.formatDate(item.start_date, 'MMM D, YYYY'))+\" \")]}},{key:\"item.end_date\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(_vm.$utils.formatDate(item.end_date, 'MMM D, YYYY', '-'))+\" \")]}},{key:\"item.location\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{staticClass:\"font-weight-medium\"},[_vm._v(_vm._s(item.country || '')+_vm._s(item.state? (\", \" + (item.state)):'')+_vm._s(item.city? (\", \" + (item.city)):''))])]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"d-flex align-end justify-end\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [(!_vm.organization || _vm.organization.id == item.organization)?_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-2\",attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.$emit('shared-orgs-action-clicked', item)}}},'v-btn',attrs,false),on),[_c('v-badge',{attrs:{\"overlap\":\"\",\"color\":\"warning\",\"content\":Object.keys(item.shared_org_perms || {}).length,\"value\":Object.keys(item.shared_org_perms || {}).length}},[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiShareVariant))])],1)],1):_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-2\",attrs:{\"icon\":\"\",\"small\":\"\",\"disabled\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiShareVariant))])],1)]}}],null,true)},[_c('span',[_vm._v(\"Share it with other organizations\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.$emit('edit-action-clicked', item)}}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"size\":\"18\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiPencilOutline)+\" \")])],1)]}}],null,true)},[_c('span',[_vm._v(\"Edit\")])])],1)]}}],null,true)})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<style scoped>\n</style>\n\n<template>\n  <v-card>\n    <v-card-text>\n      <v-row>\n        <v-col cols=\"12\" md=\"3\" sm=\"6\">\n          <div class=\"d-flex align-center\">\n            <v-btn small color=\"primary\" class=\"mr-5\" @click=\"$emit('add-action-clicked')\" v-if=\"showActions\">\n              <v-icon left>{{icons.mdiCalendarPlus}}</v-icon>\n              New Event\n            </v-btn>\n            <v-text-field\n                :value=\"tableFiltering.search\"\n                @change=\"value => $set(tableFiltering, 'search', value)\"\n                @click:clear=\"$set(tableFiltering, 'search', null)\"\n                dense clearable hide-details\n                placeholder=\"Search ...\" class=\"me-3 search-input\"\n            ></v-text-field>\n          </div>\n        </v-col>\n        <v-col cols=\"12\" md=\"3\" sm=\"6\">\n          <v-autocomplete\n              v-model=\"tableFiltering.organization\"\n              dense\n              label=\"Filter by Organization\"\n              :items=\"organizations\"\n              item-text=\"name\"\n              item-value=\"id\"\n              :menu-props=\"{contentClass:'list-style'}\"\n              :loading=\"loadingOrganizations\"\n              no-data-text=\"No Organization Found!\"\n              hide-details\n              clearable\n              return-object\n          >\n            <template #item=\"data\">\n              <v-list-item-content>\n                <v-list-item-title class=\"text-sm\">\n                  {{ data.item.name }}\n                </v-list-item-title>\n                <v-list-item-subtitle>\n                  {{ ($const.ORGANIZATION_TYPE_MAP[data.item.type] || {}).title || data.item.type }}\n                </v-list-item-subtitle>\n              </v-list-item-content>\n            </template>\n          </v-autocomplete>\n        </v-col>\n        <v-col cols=\"12\" md=\"3\" sm=\"6\">\n          <v-menu offset-y>\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                color=\"primary\"\n                dark\n                v-bind=\"attrs\"\n                small\n                v-on=\"on\"\n              >\n                Filter by time period\n              </v-btn>\n            </template>\n            <v-list>\n              <v-list-item @click=\"filterByDate('today')\">\n                <v-list-item-title>Today</v-list-item-title>\n              </v-list-item>\n              <v-list-item @click=\"filterByDate('next_7_days')\">\n                <v-list-item-title>Next 7 Days</v-list-item-title>\n              </v-list-item>\n              <v-list-item >\n                <v-list-item-title>Custom:</v-list-item-title>\n              </v-list-item>\n              <v-list-item class=\"mt-2\">\n                  <v-menu v-model=\"fromDateMenu\" :close-on-content-click=\"false\"\n                      :nudge-right=\"40\" transition=\"scale-transition\" offset-y min-width=\"auto\">\n                    <template v-slot:activator=\"{ on, attrs }\">\n                      <v-text-field class=\"pt-0 pb-0\" v-model=\"tableFiltering.start_date__gte\" label=\"From Date\" hide-details\n                                    v-bind=\"attrs\" v-on=\"on\" dense readonly clearable>\n                      </v-text-field>\n                    </template>\n                    <v-date-picker v-model=\"tableFiltering.start_date__gte\" color=\"primary\" no-title @input=\"fromDateMenu = false\">\n                    </v-date-picker>\n                  </v-menu>\n                  <v-menu class=\"pl-2\" v-model=\"toDateMenu\" :close-on-content-click=\"false\"\n                      :nudge-right=\"40\" transition=\"scale-transition\" offset-y min-width=\"auto\">\n                    <template v-slot:activator=\"{ on, attrs }\">\n                      <v-text-field class=\"pt-0 pb-0\" v-model=\"tableFiltering.start_date__lte\" label=\"To Date\" hide-details\n                                    v-bind=\"attrs\" v-on=\"on\" dense readonly clearable>\n                      </v-text-field>\n                    </template>\n                    <v-date-picker v-model=\"tableFiltering.start_date__lte\" color=\"primary\"  @input=\"toDateMenu = false\">\n                    </v-date-picker>\n                  </v-menu>\n              </v-list-item>\n              \n            </v-list>\n          </v-menu>\n        </v-col>\n\n        <v-col cols=\"12\" md=\"3\" sm=\"6\">\n          \n        </v-col>\n        <v-col cols=\"12\" md=\"3\" sm=\"6\">\n          \n        </v-col>\n\n      </v-row>\n    </v-card-text>\n\n    <v-data-table\n      :headers=\"tableColumns\"\n      :items=\"records\"\n      :options.sync=\"tableOptions\"\n      @update:options=\"loadRecords()\"\n      :server-items-length=\"pagination.total\"\n      :loading=\"loading\"\n      class=\"text-no-wrap\"\n      :footer-props=\"{'items-per-page-options': $const.DEFAULT_TABLE_PER_PAGE_OPTIONS, 'show-current-page': true, 'show-first-last-page': true}\"\n    >\n      <template #item.name=\"{item}\">\n        <a @click=\"onClickName(item)\" class=\"text-decoration-none\">\n          <div class=\"d-flex align-center\">\n            <v-avatar color=\"success\" class=\"v-avatar-light-bg success--text\" size=\"30\">\n              <v-img v-if=\"item.logo\" :src=\"item.logo\"></v-img>\n              <v-img v-else-if=\"$store.state.sitePrefs.site_ui__default_event_logo\" :src=\"$store.state.sitePrefs.site_ui__default_event_logo\"></v-img>\n              <span v-else class=\"font-weight-medium\">\n                {{ avatarText(item.name) }}\n              </span>\n            </v-avatar>\n\n            <div class=\"d-flex flex-column pl-1\">\n              <slot name=\"table-name-section\" :item=\"item\">\n                <span class=\"font-weight-semibold text-truncate text-decoration-none\">\n                  {{ item.name }}\n                </span>\n              </slot>\n              <slot name=\"table-org-section\" :item=\"item\">\n                <small class=\"text--secondary\" v-if=\"item.organization\">\n                  <v-tooltip bottom v-if=\"organization && (item.organization != organization.id)\">\n                    <template #activator=\"{ on, attrs }\">\n                      <v-icon size=\"14\" v-bind=\"attrs\" v-on=\"on\" color=\"warning\">{{icons.mdiShareVariant}}</v-icon>\n                    </template>\n                    <span>Shared with your organization!</span>\n                  </v-tooltip>\n\n                  {{ item._organization.name }}\n                </small>\n              </slot>\n            </div>\n          </div>\n        </a>\n\n      </template>\n      <template #item.start_date=\"{item}\">\n        {{$utils.formatDate(item.start_date, 'MMM D, YYYY')}}\n      </template>\n      <template #item.end_date=\"{item}\">\n        {{$utils.formatDate(item.end_date, 'MMM D, YYYY', '-')}}\n      </template>\n      <template #item.location=\"{item}\">\n        <span class=\"font-weight-medium\">{{ item.country || '' }}{{ item.state? `, ${item.state}`:'' }}{{item.city? `, ${item.city}`:'' }}</span>\n      </template>\n      <template #item.actions=\"{item}\">\n        <div class=\"d-flex align-end justify-end\">\n          <v-tooltip bottom>\n            <template #activator=\"{ on, attrs }\">\n              <v-btn icon small v-bind=\"attrs\" v-on=\"on\" @click=\"$emit('shared-orgs-action-clicked', item)\" v-if=\"!organization || organization.id == item.organization\" class=\"mr-2\">\n                <v-badge overlap color=\"warning\" :content=\"Object.keys(item.shared_org_perms || {}).length\"\n                         :value=\"Object.keys(item.shared_org_perms || {}).length\">\n                  <v-icon>{{ icons.mdiShareVariant }}</v-icon>\n                </v-badge>\n              </v-btn>\n              <v-btn v-else icon small v-bind=\"attrs\" v-on=\"on\" disabled class=\"mr-2\">\n                <v-icon>{{ icons.mdiShareVariant }}</v-icon>\n              </v-btn>\n            </template>\n            <span>Share it with other organizations</span>\n          </v-tooltip>\n          <v-tooltip bottom>\n            <template #activator=\"{ on, attrs }\">\n              <v-btn icon small v-bind=\"attrs\" v-on=\"on\" @click=\"$emit('edit-action-clicked', item)\">\n                <v-icon size=\"18\">\n                  {{ icons.mdiPencilOutline }}\n                </v-icon>\n              </v-btn>\n            </template>\n            <span>Edit</span>\n          </v-tooltip>\n        </div>\n      </template>\n\n    </v-data-table>\n  </v-card>\n</template>\n\n<script>\nimport {\n  mdiPencilOutline,\n  mdiCalendarPlus,\n  mdiShareVariant,\n} from '@mdi/js'\n\nimport { ref, watch, onMounted } from '@vue/composition-api'\nimport axios from \"@/axios\";\nimport {avatarText} from \"@core/utils/filter\";\nimport {notifyDefaultServerError, refineVTableOptions} from \"@/composables/utils\";\nimport {useRouter} from \"@core/utils\";\nimport {routeNames} from \"@/router\";\nimport _ from \"lodash\";\n\nexport default {\n  components: {},\n  props: {\n    organization: {\n      type: Object,\n      required: false\n    },\n    eventListUrl: {\n      type: String,\n      default: 'cycling_org/event'\n    },\n    apiParams: {\n      type: Object,\n      required: false\n    },\n    showActions: {\n      type: Boolean,\n      default: false\n    },\n  },\n  setup(props, context) {\n    const { route, router } = useRouter();\n    const records = ref([]);\n    const pagination = ref({total: 0});\n    const loading = ref(false);\n    const loadingOrganizations = ref(false);\n    const tableOptions = ref({});\n    const tableFiltering = ref(route.value.query || {});\n    const organizations = ref([]);\n    const fromDateMenu = ref();\n    const toDateMenu = ref();\n    const tableColumns = [\n      {text: '#ID', value: 'id', align: 'start',},\n      {text: 'TITLE', value: 'name'},\n      {text: 'START', value: 'start_date'},\n      {text: 'END', value: 'end_date'},\n      {text: 'LOCATION', value: 'location'},\n    ];\n    if (props.showActions) {\n      tableColumns.push({text: 'ACTIONS', value: 'actions', align: 'end', sortable: false,})\n    }\n    const filterByDate = (filter) => {\n        var today = new Date().toISOString().split('T')[0]\n        if(filter == 'today'){\n          tableFiltering.value.start_date = today;\n          tableFiltering.value.end_date = today;\n        }\n        else if('next_7_days'){\n          var end_Date = new Date(new Date().setDate(new Date().getDate() + 7));\n          tableFiltering.value.start_date = today;\n          tableFiltering.value.end_date = end_Date.toISOString().split('T')[0];\n        }\n        loadRecords(1)\n    }\n    const loadRecords = (page) => {\n      if (page) {\n        tableOptions.value.page = page;\n      }\n      const params = Object.assign({}, tableFiltering.value, props.apiParams, refineVTableOptions(tableOptions.value));\n      if (params.organization && typeof params.organization === \"object\") {\n        params.organization = params.organization.id;\n      }\n      if ((params.order_by || '').endsWith('location')) {\n        var desc = params.order_by[0] === '-'? '-': '';\n        params.order_by = ['country', 'city', 'state'].map(f => `${desc}${f}`).join(',');\n      }\n      loading.value = true;\n      axios.get(props.eventListUrl, {params: params}).then((response) => {\n        loading.value = false;\n        records.value = response.data.results;\n        pagination.value = response.data.pagination;\n      }, (error) => {\n        loading.value = false;\n        notifyDefaultServerError(error, true)\n      });\n\n    };\n\n    const loadOrganizations = () => {\n      loadingOrganizations.value = true;\n      axios.get(\"cycling_org/organization/\", {params: {page_size: 0}}).then((response) => {\n        loadingOrganizations.value = false;\n        organizations.value = response.data.results;\n        if (route.value.query.organization) {\n          tableFiltering.value.organization = _.find(organizations.value, {id: route.value.query.organization * 1});\n        }\n      }, (error) => {\n        loadingOrganizations.value = false;\n        notifyDefaultServerError(error, true)\n      });\n\n    };\n\n    const onClickName = (item) => {\n      if (props.showActions) {\n        context.emit('edit-action-clicked', item);\n      } else {\n        router.push({name: routeNames.PUBLIC_EVENT_PROFILE, params: {record_id: item.id}})\n      }\n    };\n\n    watch(() => tableFiltering, (currentValue, oldValue) => {\n        loadRecords(1);\n      },\n      { deep: true }\n    );\n\n    onMounted(() => {\n      loadOrganizations();\n    });\n\n    return {\n      records,\n      tableColumns,\n      tableOptions,\n      tableFiltering,\n      filterByDate,\n      loading,\n      pagination,\n      loadRecords,\n      loadingOrganizations,\n      organizations,\n      avatarText,\n      onClickName,\n      fromDateMenu,\n      toDateMenu,\n      icons: {\n        mdiPencilOutline,\n        mdiCalendarPlus,\n        mdiShareVariant,\n      },\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventsTableWidget.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventsTableWidget.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventsTableWidget.vue?vue&type=template&id=d1ce1a12&scoped=true&\"\nimport script from \"./EventsTableWidget.vue?vue&type=script&lang=js&\"\nexport * from \"./EventsTableWidget.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d1ce1a12\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBadge } from 'vuetify/lib/components/VBadge';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VAutocomplete,VAvatar,VBadge,VBtn,VCard,VCardText,VCol,VDataTable,VDatePicker,VIcon,VImg,VList,VListItem,VListItemContent,VListItemSubtitle,VListItemTitle,VMenu,VRow,VTextField,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-sheet',{staticClass:\"rounded event-calendar-widget\",class:{'edit-mode': _vm.editMode}},[_c('full-calendar',{ref:\"calendarRef\",attrs:{\"options\":_vm.calendarOptions},scopedSlots:_vm._u([{key:\"eventContent\",fn:function(item){return [_c('v-tooltip',{attrs:{\"bottom\":\"\",\"z-index\":\"9999\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('router-link',{attrs:{\"to\":{name: _vm.eventClickRouteName || _vm.$rns.PUBLIC_EVENT_PROFILE, params: {record_id: item.event.id}}}},[_c('div',_vm._g(_vm._b({staticClass:\"fc-event-main text-truncate\"},'div',attrs,false),on),[_c('div',{staticClass:\"fc-event-main-frame\"},[_c('div',{staticClass:\"fc-event-title-container\"},[_c('div',{staticClass:\"fc-event-title fc-sticky\"},[(item.event.extendedProps.record.source)?_c('span',{staticClass:\"pa-1 mr-1 rounded-circle d-inline-block rounded-circle\",class:(_vm.$const.EVENT_SOURCE_MAP[item.event.extendedProps.record.source] || {}).css}):_vm._e(),_vm._v(\" \"+_vm._s(item.event.title)+\" \")])])])])])]}}],null,true)},[_c('div',[_c('div',{staticClass:\"mb-1 font-weight-bold\"},[_c('span',{staticClass:\"mr-1\"},[_vm._v(_vm._s(item.event.title))]),(item.event.extendedProps.record.source)?_c('v-chip',{attrs:{\"x-small\":\"\",\"color\":(_vm.$const.EVENT_SOURCE_MAP[item.event.extendedProps.record.source] || {}).css}},[_vm._v(\" \"+_vm._s((_vm.$const.EVENT_SOURCE_MAP[item.event.extendedProps.record.source] || {}).title || item.event.extendedProps.record.source)+\" \")]):_vm._e()],1),_c('div',{staticClass:\"small mb-1 text-caption\"},[_c('v-icon',{attrs:{\"size\":\"14\",\"color\":\"info\"}},[_vm._v(_vm._s(_vm.icons.mdiMapMarker))]),_vm._v(\" \"+_vm._s(item.event.extendedProps.record.country || '')+_vm._s(item.event.extendedProps.record.state? (\", \" + (item.event.extendedProps.record.state)):'')+_vm._s(item.event.extendedProps.record.city? (\", \" + (item.event.extendedProps.record.city)):'')+\" \")],1),_c('div',{staticClass:\"small mb-1\"},[_c('v-icon',{attrs:{\"size\":\"14\",\"color\":\"info\"}},[_vm._v(_vm._s(_vm.icons.mdiCalendar))]),_vm._v(\" \"+_vm._s(_vm.$utils.formatDate(item.event.start, 'MMM D, YYYY'))+_vm._s(item.event.extendedProps.record.end_date? (\" - \" + (_vm.$utils.formatDate(item.event.extendedProps.record.end_date, 'MMM D, YYYY'))):'')+\" \")],1),(item.event.extendedProps.record.organization)?_c('div',{staticClass:\"small mb-1\"},[_c('v-icon',{attrs:{\"size\":\"14\",\"color\":\"info\"}},[_vm._v(_vm._s(_vm.icons.mdiHomeOutline))]),_vm._v(\" \"+_vm._s(item.event.extendedProps.record._organization.name)+\" \")],1):_vm._e(),_c('div',{staticClass:\"mt-3 mb-3\"},[_vm._v(\" \"+_vm._s(item.event.extendedProps.record.description || '[No-Description]')+\" \")])])])]}}])}),_c('v-overlay',{attrs:{\"value\":_vm.loading,\"absolute\":true,\"opacity\":\"0.3\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","var n,l,u,i,t,o,r,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(n,l){for(var u in l)n[u]=l[u];return n}function a(n){var l=n.parentNode;l&&l.removeChild(n)}function h(l,u,i){var t,o,r,f={};for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return v(l,f,t,o,null)}function v(n,i,t,o,r){var f={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u:r};return null==r&&null!=l.vnode&&l.vnode(f),f}function y(){return{current:null}}function p(n){return n.children}function d(n,l){this.props=n,this.context=l}function _(n,l){if(null==l)return n.__?_(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?_(n):null}function k(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k(n)}}function b(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||setTimeout)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=s({},t)).__v=t.__v+1,j(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?_(t):o,t.__h),z(u,t),t.__e!=o&&k(t)))})}function w(n,l,u,i,t,o,r,c,s,a){var h,y,d,k,b,g,w,x=i&&i.__k||e,C=x.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(k=u.__k[h]=null==(k=l[h])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k||\"bigint\"==typeof k?v(null,k,null,null,k):Array.isArray(k)?v(p,{children:k},null,null,null):k.__b>0?v(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(d=x[h])||d&&k.key==d.key&&k.type===d.type)x[h]=void 0;else for(y=0;y<C;y++){if((d=x[y])&&k.key==d.key&&k.type===d.type){x[y]=void 0;break}d=null}j(n,k,d=d||f,t,o,r,c,s,a),b=k.__e,(y=k.ref)&&d.ref!=y&&(w||(w=[]),d.ref&&w.push(d.ref,null,k),w.push(y,k.__c||b,k)),null!=b?(null==g&&(g=b),\"function\"==typeof k.type&&k.__k===d.__k?k.__d=s=m(k,s,n):s=A(n,k,d,x,b,s),\"function\"==typeof u.type&&(u.__d=s)):s&&d.__e==s&&s.parentNode!=n&&(s=_(d))}for(u.__e=g,h=C;h--;)null!=x[h]&&(\"function\"==typeof u.type&&null!=x[h].__e&&x[h].__e==u.__d&&(u.__d=_(i,h+1)),N(x[h],x[h]));if(w)for(h=0;h<w.length;h++)M(w[h],w[++h],w[++h])}function m(n,l,u){for(var i,t=n.__k,o=0;t&&o<t.length;o++)(i=t[o])&&(i.__=n,l=\"function\"==typeof i.type?m(i,l,u):A(u,i,i,t,i.__e,l));return l}function x(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){x(n,l)}):l.push(n)),l}function A(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function C(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||H(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||H(n,o,l[o],u[o],i)}function $(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||c.test(l)?u:u+\"px\"}function H(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?T:I,o):n.removeEventListener(l,o?T:I,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,o,r,f,e,c){var a,h,v,y,_,k,b,g,m,x,A,C,$,H=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=l.__b)&&a(u);try{n:if(\"function\"==typeof H){if(g=u.props,m=(a=H.contextType)&&t[a.__c],x=a?m?m.props.value:a.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in H&&H.prototype.render?u.__c=h=new H(g,x):(u.__c=h=new d(g,x),h.constructor=H,h.render=O),m&&m.sub(h),h.props=g,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=H.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=s({},h.__s)),s(h.__s,H.getDerivedStateFromProps(g,h.__s))),y=h.props,_=h.state,v)null==H.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==H.getDerivedStateFromProps&&g!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(g,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(g,h.__s,x)||u.__v===i.__v){h.props=g,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(g,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,_,k)})}if(h.context=x,h.props=g,h.__v=u,h.__P=n,A=l.__r,C=0,\"prototype\"in H&&H.prototype.render)h.state=h.__s,h.__d=!1,A&&A(u),a=h.render(h.props,h.state,h.context);else do{h.__d=!1,A&&A(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++C<25);h.state=h.__s,null!=h.getChildContext&&(t=s(s({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,_)),$=null!=a&&a.type===p&&null==a.key?a.props.children:a,w(n,Array.isArray($)?$:[$],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,o,r,f,c);(a=l.diffed)&&a(u)}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,o,r,e,c){var s,h,v,y=i.props,p=u.props,d=u.type,k=0;if(\"svg\"===d&&(o=!0),null!=r)for(;k<r.length;k++)if((s=r[k])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,r[k]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),r=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(r=r&&n.call(l.childNodes),h=(y=i.props||f).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=r)for(y={},k=0;k<l.attributes.length;k++)y[l.attributes[k].name]=l.attributes[k].value;(v||h)&&(v&&(h&&v.__html==h.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"))}if(C(l,p,y,o,c),v)u.__k=[];else if(k=u.props.children,w(l,Array.isArray(k)?k:[k],u,i,t,o&&\"foreignObject\"!==d,r,e,r?r[0]:i.__k&&_(i,0),c),null!=r)for(k=r.length;k--;)null!=r[k]&&a(r[k]);c||(\"value\"in p&&void 0!==(k=p.value)&&(k!==l.value||\"progress\"===d&&!k||\"option\"===d&&k!==y.value)&&H(l,\"value\",k,y.value,!1),\"checked\"in p&&void 0!==(k=p.checked)&&k!==l.checked&&H(l,\"checked\",k,y.checked,!1))}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,o;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&N(t[o],u,\"function\"!=typeof n.type);i||null==n.__e||a(n.__e),n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function P(u,i,t){var o,r,e;l.__&&l.__(u,i),r=(o=\"function\"==typeof t)?null:t&&t.__k||i.__k,e=[],j(i,u=(!o&&t||i).__k=h(p,null,[u]),r||f,f,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?n.call(i.childNodes):null,e,!o&&t?t:r?r.__e:i.firstChild,o),z(e,u)}function S(n,l){P(n,l,S)}function q(l,u,i){var t,o,r,f=s({},l.props);for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),v(l.type,f,t||l.key,o||l.ref,null)}function B(n,l){var u={__c:l=\"__cC\"+r++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(b)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=e.slice,l={__e:function(n,l,u,i){for(var t,o,r;l=l.__;)if((t=l.__c)&&!t.__)try{if((o=t.constructor)&&null!=o.getDerivedStateFromError&&(t.setState(o.getDerivedStateFromError(n)),r=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),r=t.__d),r)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},d.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),\"function\"==typeof n&&(n=n(s({},u),this.props)),n&&s(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),b(this))},d.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),b(this))},d.prototype.render=p,t=[],g.__r=0,r=0;export{P as render,S as hydrate,h as createElement,h,p as Fragment,y as createRef,i as isValidElement,d as Component,q as cloneElement,B as createContext,x as toChildArray,l as options};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n}from\"preact\";var t,r,u,i,o=0,c=[],f=[],e=n.__b,a=n.__r,v=n.diffed,l=n.__c,m=n.unmount;function d(t,u){n.__h&&n.__h(r,t,o||u),o=0;var i=r.__H||(r.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:f}),i.__[t]}function p(n){return o=1,y(z,n)}function y(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):z(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){r.u=!0;var c=r.shouldComponentUpdate;r.shouldComponentUpdate=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!!i&&(!c||c.call(this,n,t,r))}}return o.__N||o.__}function h(u,i){var o=d(t++,3);!n.__s&&w(o.__H,i)&&(o.__=u,o.i=i,r.__H.__h.push(o))}function s(u,i){var o=d(t++,4);!n.__s&&w(o.__H,i)&&(o.__=u,o.i=i,r.__h.push(o))}function _(n){return o=5,F(function(){return{current:n}},[])}function A(n,t,r){o=6,s(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function F(n,r){var u=d(t++,7);return w(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function T(n,t){return o=8,F(function(){return n},t)}function q(n){var u=r.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function x(t,r){n.useDebugValue&&n.useDebugValue(r?r(t):t)}function V(n){var u=d(t++,10),i=p();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n){u.__&&u.__(n),i[1](n)}),[i[0],function(){i[1](void 0)}]}function b(){for(var t;t=c.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(j),t.__H.__h.forEach(k),t.__H.__h=[]}catch(r){t.__H.__h=[],n.__e(r,t.__v)}}n.__b=function(n){r=null,e&&e(n)},n.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=f,n.__N=n.i=void 0})):(i.__h.forEach(j),i.__h.forEach(k),i.__h=[])),u=r},n.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==c.push(o)&&i===n.requestAnimationFrame||((i=n.requestAnimationFrame)||function(n){var t,r=function(){clearTimeout(u),g&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);g&&(t=requestAnimationFrame(r))})(b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==f&&(n.__=n.__V),n.i=void 0,n.__V=f})),u=r=null},n.__c=function(t,r){r.some(function(t){try{t.__h.forEach(j),t.__h=t.__h.filter(function(n){return!n.__||k(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],n.__e(u,t.__v)}}),l&&l(t,r)},n.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{j(n)}catch(n){r=n}}),r&&n.__e(r,u.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function k(n){var t=r;n.__c=n.__(),r=t}function w(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function z(n,t){return\"function\"==typeof t?t(n):t}export{p as useState,y as useReducer,h as useEffect,s as useLayoutEffect,_ as useRef,A as useImperativeHandle,F as useMemo,T as useCallback,q as useContext,x as useDebugValue,V as useErrorBoundary};\n//# sourceMappingURL=hooks.module.js.map\n","import{useState as n,useReducer as t,useEffect as e,useLayoutEffect as r,useRef as u,useImperativeHandle as o,useMemo as i,useCallback as l,useContext as c,useDebugValue as f}from\"preact/hooks\";export*from\"preact/hooks\";import{Component as a,createElement as s,options as h,toChildArray as v,Fragment as d,render as p,hydrate as m,cloneElement as y,createRef as _,createContext as b}from\"preact\";export{createElement,createContext,createRef,Fragment,Component}from\"preact\";function S(n,t){for(var e in t)n[e]=t[e];return n}function g(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function C(n){this.props=n}function E(n,t){function e(n){var e=this.props.ref,r=e==n.ref;return!r&&e&&(e.call?e(null):e.current=null),t?!t(this.props,n)||!r:g(this.props,n)}function r(t){return this.shouldComponentUpdate=e,s(n,t)}return r.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",r.prototype.isReactComponent=!0,r.__f=!0,r}(C.prototype=new a).isPureReactComponent=!0,C.prototype.shouldComponentUpdate=function(n,t){return g(this.props,n)||g(this.state,t)};var w=h.__b;h.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),w&&w(n)};var x=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function R(n){function t(t){var e=S({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=x,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var N=function(n,t){return null==n?null:v(v(n).map(t))},k={map:N,forEach:N,count:function(n){return n?v(n).length:0},only:function(n){var t=v(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:v},A=h.__e;h.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);A(n,t,e,r)};var O=h.unmount;function T(){this.__u=0,this.t=null,this.__b=null}function L(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function U(n){var t,e,r;function u(u){if(t||(t=n()).then(function(n){e=n.default||n},function(n){r=n}),r)throw r;if(!e)throw t;return s(e,u)}return u.displayName=\"Lazy\",u.__f=!0,u}function D(){this.u=null,this.o=null}h.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),O&&O(n)},(T.prototype=new a).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=L(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=function n(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},T.prototype.componentWillUnmount=function(){this.t=[]},T.prototype.render=function(n,t){if(this.__b){if(this.__v.__k){var e=document.createElement(\"div\"),r=this.__v.__k[0].__c;this.__v.__k[0]=function n(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),t.__c.__H=null),null!=(t=S({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)})),t}(this.__b,e,r.__O=r.__P)}this.__b=null}var u=t.__a&&s(d,null,n.fallback);return u&&(u.__h=null),[s(d,null,t.__a?null:n.children),u]};var F=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function I(n){return this.getChildContext=function(){return n.context},n.children}function M(n){var t=this,e=n.i;t.componentWillUnmount=function(){p(null,t.l),t.l=null,t.i=null},t.i&&t.i!==e&&t.componentWillUnmount(),n.__v?(t.l||(t.i=e,t.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n)},insertBefore:function(n,e){this.childNodes.push(n),t.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n)}}),p(s(I,{context:t.context},n.__v),t.l)):t.l&&t.componentWillUnmount()}function V(n,t){var e=s(M,{__v:n,i:t});return e.containerInfo=t,e}(D.prototype=new a).__a=function(n){var t=this,e=L(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),F(t,n,r)):u()};e?e(o):o()}},D.prototype.render=function(n){this.u=null,this.o=new Map;var t=v(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},D.prototype.componentDidUpdate=D.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){F(n,e,t)})};var W=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,P=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,$=\"undefined\"!=typeof document,j=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function z(n,t,e){return null==t.__k&&(t.textContent=\"\"),p(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function B(n,t,e){return m(n,t),\"function\"==typeof e&&e(),n?n.__c:null}a.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(n){Object.defineProperty(a.prototype,n,{configurable:!0,get:function(){return this[\"UNSAFE_\"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t})}})});var H=h.event;function Z(){}function Y(){return this.cancelBubble}function q(){return this.defaultPrevented}h.event=function(n){return H&&(n=H(n)),n.persist=Z,n.isPropagationStopped=Y,n.isDefaultPrevented=q,n.nativeEvent=n};var G,J={configurable:!0,get:function(){return this.class}},K=h.vnode;h.vnode=function(n){var t=n.type,e=n.props,r=e;if(\"string\"==typeof t){var u=-1===t.indexOf(\"-\");for(var o in r={},e){var i=e[o];$&&\"children\"===o&&\"noscript\"===t||\"value\"===o&&\"defaultValue\"in e&&null==i||(\"defaultValue\"===o&&\"value\"in e&&null==e.value?o=\"value\":\"download\"===o&&!0===i?i=\"\":/ondoubleclick/i.test(o)?o=\"ondblclick\":/^onchange(textarea|input)/i.test(o+t)&&!j(e.type)?o=\"oninput\":/^onfocus$/i.test(o)?o=\"onfocusin\":/^onblur$/i.test(o)?o=\"onfocusout\":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():u&&P.test(o)?o=o.replace(/[A-Z0-9]/g,\"-$&\").toLowerCase():null===i&&(i=void 0),/^oninput$/i.test(o)&&(o=o.toLowerCase(),r[o]&&(o=\"oninputCapture\")),r[o]=i)}\"select\"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=v(e.children).forEach(function(n){n.props.selected=-1!=r.value.indexOf(n.props.value)})),\"select\"==t&&null!=r.defaultValue&&(r.value=v(e.children).forEach(function(n){n.props.selected=r.multiple?-1!=r.defaultValue.indexOf(n.props.value):r.defaultValue==n.props.value})),n.props=r,e.class!=e.className&&(J.enumerable=\"className\"in e,null!=e.className&&(r.class=e.className),Object.defineProperty(r,\"className\",J))}n.$$typeof=W,K&&K(n)};var Q=h.__r;h.__r=function(n){Q&&Q(n),G=n.__c};var X={ReactCurrentDispatcher:{current:{readContext:function(n){return G.__n[n.__c].props.value}}}},nn=\"17.0.2\";function tn(n){return s.bind(null,n)}function en(n){return!!n&&n.$$typeof===W}function rn(n){return en(n)?y.apply(null,arguments):n}function un(n){return!!n.__k&&(p(null,n),!0)}function on(n){return n&&(n.base||1===n.nodeType&&n)||null}var ln=function(n,t){return n(t)},cn=function(n,t){return n(t)},fn=d;function an(n){n()}function sn(n){return n}function hn(){return[!1,an]}var vn=r;function dn(t,u){var o=u(),i=n({s:{__:o,h:u}}),l=i[0].s,c=i[1];return r(function(){l.__=o,l.h=u,l.__!==u()&&c({s:l})},[t,o,u]),e(function(){return l.__!==l.h()&&c({s:l}),t(function(){l.__!==l.h()&&c({s:l})})},[t]),o}export default{useState:n,useReducer:t,useEffect:e,useLayoutEffect:r,useInsertionEffect:r,useTransition:hn,useDeferredValue:sn,useSyncExternalStore:dn,startTransition:an,useRef:u,useImperativeHandle:o,useMemo:i,useCallback:l,useContext:c,useDebugValue:f,version:\"17.0.2\",Children:k,render:z,hydrate:B,unmountComponentAtNode:un,createPortal:V,createElement:s,createContext:b,createFactory:tn,cloneElement:rn,createRef:_,Fragment:d,isValidElement:en,findDOMNode:on,Component:a,PureComponent:C,memo:E,forwardRef:R,flushSync:cn,unstable_batchedUpdates:ln,StrictMode:d,Suspense:T,SuspenseList:D,lazy:U,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:X};export{an as startTransition,sn as useDeferredValue,hn as useTransition,vn as useInsertionEffect,dn as useSyncExternalStore,nn as version,k as Children,z as render,B as hydrate,un as unmountComponentAtNode,V as createPortal,tn as createFactory,rn as cloneElement,en as isValidElement,on as findDOMNode,C as PureComponent,E as memo,R as forwardRef,cn as flushSync,ln as unstable_batchedUpdates,fn as StrictMode,T as Suspense,D as SuspenseList,U as lazy,X as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED};\n//# sourceMappingURL=compat.module.js.map\n","import { __extends } from 'tslib';\nimport * as preact from 'preact';\nimport * as preactCompat from 'preact/compat';\n\nvar globalObj = typeof globalThis !== 'undefined' ? globalThis : window; // // TODO: streamline when killing IE11 support\nif (globalObj.FullCalendarVDom) {\n    console.warn('FullCalendar VDOM already loaded');\n}\nelse {\n    globalObj.FullCalendarVDom = {\n        Component: preact.Component,\n        createElement: preact.createElement,\n        render: preact.render,\n        createRef: preact.createRef,\n        Fragment: preact.Fragment,\n        createContext: createContext,\n        createPortal: preactCompat.createPortal,\n        flushSync: flushSync,\n        unmountComponentAtNode: unmountComponentAtNode,\n    };\n}\n// HACKS...\n// TODO: lock version\n// TODO: link gh issues\nfunction flushSync(runBeforeFlush) {\n    runBeforeFlush();\n    var oldDebounceRendering = preact.options.debounceRendering; // orig\n    var callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    preact.options.debounceRendering = execCallbackSync;\n    preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    preact.options.debounceRendering = oldDebounceRendering;\n}\nvar FakeComponent = /** @class */ (function (_super) {\n    __extends(FakeComponent, _super);\n    function FakeComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FakeComponent.prototype.render = function () { return preact.createElement('div', {}); };\n    FakeComponent.prototype.componentDidMount = function () { this.setState({}); };\n    return FakeComponent;\n}(preact.Component));\nfunction createContext(defaultValue) {\n    var ContextType = preact.createContext(defaultValue);\n    var origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        var _this = this;\n        var isNew = !this.getChildContext;\n        var children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            var subs_1 = [];\n            this.shouldComponentUpdate = function (_props) {\n                if (_this.props.value !== _props.value) {\n                    subs_1.forEach(function (c) {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = function (c) {\n                subs_1.push(c);\n                var old = c.componentWillUnmount;\n                c.componentWillUnmount = function () {\n                    subs_1.splice(subs_1.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\nfunction unmountComponentAtNode(node) {\n    preact.render(null, node);\n}\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","/// <reference types=\"@fullcalendar/core-preact\" />\nif (typeof FullCalendarVDom === 'undefined') {\n    throw new Error('Please import the top-level fullcalendar lib before attempting to import a plugin.');\n}\nvar Component = FullCalendarVDom.Component;\nvar createElement = FullCalendarVDom.createElement;\nvar render = FullCalendarVDom.render;\nvar createRef = FullCalendarVDom.createRef;\nvar Fragment = FullCalendarVDom.Fragment;\nvar createContext = FullCalendarVDom.createContext;\nvar createPortal = FullCalendarVDom.createPortal;\nvar flushSync = FullCalendarVDom.flushSync;\nvar unmountComponentAtNode = FullCalendarVDom.unmountComponentAtNode;\n/* eslint-enable */\n\nexport { Component, Fragment, createContext, createElement, createPortal, createRef, flushSync, render, unmountComponentAtNode };\n","/*!\nFullCalendar v5.11.3\nDocs & License: https://fullcalendar.io/\n(c) 2022 Adam Shaw\n*/\nimport './main.css';\n\nimport { __assign, __spreadArray, __extends } from 'tslib';\nimport { createContext, Component, createRef, createElement, Fragment, createPortal } from './vdom.js';\nexport * from './vdom.js';\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar EventSourceApi = /** @class */ (function () {\n    function EventSourceApi(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    EventSourceApi.prototype.remove = function () {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    };\n    EventSourceApi.prototype.refetch = function () {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n            isRefetch: true,\n        });\n    };\n    Object.defineProperty(EventSourceApi.prototype, \"id\", {\n        get: function () {\n            return this.internalEventSource.publicId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"url\", {\n        get: function () {\n            return this.internalEventSource.meta.url;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"format\", {\n        get: function () {\n            return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EventSourceApi;\n}());\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    var method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    var containers = container instanceof HTMLElement ? [container] : container;\n    var allMatches = [];\n    for (var i = 0; i < containers.length; i += 1) {\n        var matches = containers[i].querySelectorAll(selector);\n        for (var j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    var parents = parent instanceof HTMLElement ? [parent] : parent;\n    var allMatches = [];\n    for (var i = 0; i < parents.length; i += 1) {\n        var childNodes = parents[i].children; // only ever elements\n        for (var j = 0; j < childNodes.length; j += 1) {\n            var childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nvar PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (var propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = val + \"px\";\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n// Event Handling\n// ----------------------------------------------------------------------------------------------------------------\n// if intercepting bubbled events at the document/window/body level,\n// and want to see originating element (the 'target'), use this util instead\n// of `ev.target` because it goes within web-component boundaries.\nfunction getEventTargetViaRoot(ev) {\n    var _a, _b;\n    return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n}\n// Shadow DOM consuderations\n// ----------------------------------------------------------------------------------------------------------------\nfunction getElRoot(el) {\n    return el.getRootNode ? el.getRootNode() : document;\n}\n// Unique ID for DOM attribute\nvar guid$1 = 0;\nfunction getUniqueDomId() {\n    guid$1 += 1;\n    return 'fc-dom-' + guid$1;\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return function (ev) {\n        var matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    var attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return function () {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    var currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, function (mouseOverEv, matchedChild) {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            var realOnMouseLeave_1 = function (mouseLeaveEv) {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave_1);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave_1);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nvar transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    var realCallback = function (ev) {\n        callback(ev);\n        transitionEventNames.forEach(function (eventName) {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach(function (eventName) {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n// ARIA workarounds\n// ----------------------------------------------------------------------------------------------------------------\nfunction createAriaClickAttrs(handler) {\n    return __assign({ onClick: handler }, createAriaKeyboardAttrs(handler));\n}\nfunction createAriaKeyboardAttrs(handler) {\n    return {\n        tabIndex: 0,\n        onKeyDown: function (ev) {\n            if (ev.key === 'Enter' || ev.key === ' ') {\n                handler(ev);\n                ev.preventDefault(); // if space, don't scroll down page\n            }\n        },\n    };\n}\n\nvar guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.classList.add('fc-unselectable');\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.classList.remove('fc-unselectable');\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    var specs = [];\n    var tokens = [];\n    var i;\n    var token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    var i;\n    var cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    var s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\nfunction formatWithOrdinals(formatter, args, fallbackText) {\n    if (typeof formatter === 'function') {\n        return formatter.apply(void 0, args);\n    }\n    if (typeof formatter === 'string') { // non-blank string\n        return args.reduce(function (str, arg, index) { return (str.replace('$' + index, arg || '')); }, formatter);\n    }\n    return fallbackText;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    var allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    var contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nvar DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    var a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    var m0day = startOfDay(m0);\n    var m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    var d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    var y = marker.getUTCFullYear();\n    var w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    var nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    var firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    var dayStart = startOfDay(marker);\n    var days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    var fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    var fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC.apply(Date, a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId: defId,\n        range: range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    var dest = {};\n    if (complexPropsMap) {\n        for (var name_1 in complexPropsMap) {\n            var complexObjs = [];\n            // collect the trailing object values, stopping when a non-object is discovered\n            for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n                var val = propObjs[i][name_1];\n                if (typeof val === 'object' && val) { // non-null object\n                    complexObjs.unshift(val);\n                }\n                else if (val !== undefined) {\n                    dest[name_1] = val; // if there were no objects, this value will be used\n                    break;\n                }\n            }\n            // if the trailing values were objects, use the merged value\n            if (complexObjs.length) {\n                dest[name_1] = mergeProps(complexObjs);\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n        var props = propObjs[i];\n        for (var name_2 in props) {\n            if (!(name_2 in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name_2] = props[name_2];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    var filtered = {};\n    for (var key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    var newHash = {};\n    for (var key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    var hash = {};\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var item = a_1[_i];\n        hash[item] = true;\n    }\n    return hash;\n}\nfunction buildHashFromArray(a, func) {\n    var hash = {};\n    for (var i = 0; i < a.length; i += 1) {\n        var tuple = func(a[i], i);\n        hash[tuple[0]] = tuple[1];\n    }\n    return hash;\n}\nfunction hashValuesToArray(obj) {\n    var a = [];\n    for (var key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    var keys = [];\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs) {\n    if (equalityFuncs === void 0) { equalityFuncs = {}; }\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (var key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (var key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex, endIndex, step) {\n    if (startIndex === void 0) { startIndex = 0; }\n    if (step === void 0) { step = 1; }\n    var res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (var i = startIndex; i < endIndex; i += step) {\n        var val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (var i = 0; i < recurringTypes.length; i += 1) {\n        var parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            var allDay = refined.allDay;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay: allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    var dateEnv = context.dateEnv, pluginHooks = context.pluginHooks, options = context.options;\n    var defs = eventStore.defs, instances = eventStore.instances;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, function (instance) { return !defs[instance.defId].recurringDef; });\n    for (var defId in defs) {\n        var def = defs[defId];\n        if (def.recurringDef) {\n            var duration = def.recurringDef.duration;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            var starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (var _i = 0, starts_1 = starts; _i < starts_1.length; _i++) {\n                var start = starts_1[_i];\n                var instance = createEventInstance(defId, {\n                    start: start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs: defs, instances: instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    var typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    var markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nvar INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nvar PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    var _a;\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject((_a = {}, _a[unit || 'milliseconds'] = input, _a));\n    }\n    return null;\n}\nfunction parseString(s) {\n    var m = PARSE_RE.exec(s);\n    if (m) {\n        var sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    var duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n    };\n    var weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    var res = null;\n    for (var i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        var unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            var localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    var ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime) {\n    if (stripZeroTime === void 0) { stripZeroTime = false; }\n    var s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso) {\n    if (doIso === void 0) { doIso = false; }\n    var sign = minutes < 0 ? '-' : '+';\n    var abs = Math.abs(minutes);\n    var hours = Math.floor(abs / 60);\n    var mins = Math.round(abs % 60);\n    if (doIso) {\n        return sign + padStart(hours, 2) + \":\" + padStart(mins, 2);\n    }\n    return \"GMT\" + sign + hours + (mins ? \":\" + padStart(mins, 2) : '');\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    var removeCnt = 0;\n    var i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    var len = a0.length;\n    var i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    var currentArgs;\n    var currentRes;\n    return function () {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArg;\n    var currentRes;\n    return function (newArg) {\n        if (!currentArg) {\n            currentRes = workerFunc.call(_this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.call(_this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgSets = [];\n    var currentResults = [];\n    return function (newArgSets) {\n        var currentLen = currentArgSets.length;\n        var newLen = newArgSets.length;\n        var i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                var res = workerFunc.apply(_this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(_this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(workerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgHash = {};\n    var currentResHash = {};\n    return function (newArgHash) {\n        var newResHash = {};\n        for (var key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(_this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                var res = workerFunc.apply(_this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nvar EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0,\n};\nvar STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nvar MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nvar COMMA_RE = /,/g; // we need re for globalness\nvar MULTI_SPACE_RE = /\\s+/g;\nvar LTR_RE = /\\u200e/g; // control character\nvar UTC_RE = /UTC|GMT/;\nvar NativeFormatter = /** @class */ (function () {\n    function NativeFormatter(formatSettings) {\n        var standardDateProps = {};\n        var extendedSettings = {};\n        var severity = 0;\n        for (var name_1 in formatSettings) {\n            if (name_1 in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name_1] = formatSettings[name_1];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1], severity);\n            }\n            else {\n                standardDateProps[name_1] = formatSettings[name_1];\n                if (name_1 in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    NativeFormatter.prototype.format = function (date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    };\n    NativeFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        var _a = this, standardDateProps = _a.standardDateProps, extendedSettings = _a.extendedSettings;\n        var diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        var biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        var full0 = this.format(start, context);\n        var full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        var partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        var partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        var partial0 = partialFormattingFunc(start);\n        var partial1 = partialFormattingFunc(end);\n        var insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        var separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    };\n    NativeFormatter.prototype.getLargestUnit = function () {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    };\n    return NativeFormatter;\n}());\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    var standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return function (date) { return (formatTimeZoneOffset(date.timeZoneOffset)); };\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return function (date) { return (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.weekTextLong, context.locale, extendedSettings.week)); };\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = __assign({}, standardDateProps); // copy\n    extendedSettings = __assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    var normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    var zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        var zeroProps = __assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return function (date) {\n        var marker = date.marker;\n        var format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        var s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase(); });\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase() + \"m\"; });\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, function (m0) { return m0.toLocaleLowerCase(); });\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    var replaced = false;\n    s = s.replace(UTC_RE, function () {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += \" \" + tzoStr;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, weekTextLong, locale, display) {\n    var parts = [];\n    if (display === 'long') {\n        parts.push(weekTextLong);\n    }\n    else if (display === 'short' || display === 'narrow') {\n        parts.push(weekText);\n    }\n    if (display === 'long' || display === 'short') {\n        parts.push(' ');\n    }\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    var partialOptions = {};\n    for (var name_2 in options) {\n        if (!(name_2 in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name_2] <= biggestUnit) {\n            partialOptions[name_2] = options[name_2];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    var i0 = 0;\n    while (i0 < full0.length) {\n        var found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        var before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        var after0 = full0.substr(i0);\n        var i1 = 0;\n        while (i1 < full1.length) {\n            var found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            var before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            var after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    var a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    var startInfo = expandZonedMarker(start, context.calendarSystem);\n    var endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nvar CmdFormatter = /** @class */ (function () {\n    function CmdFormatter(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    CmdFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    CmdFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return CmdFormatter;\n}());\n\nvar FuncFormatter = /** @class */ (function () {\n    function FuncFormatter(func) {\n        this.func = func;\n    }\n    FuncFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    FuncFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return FuncFormatter;\n}());\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nvar BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    scrollTimeReset: Boolean,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    eventOrderStrict: Boolean,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    weekTextLong: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    moreLinkHint: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMaxStack: Number,\n    eventMinHeight: Number,\n    eventMinWidth: Number,\n    eventShortHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    monthMode: Boolean,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    eventInteractive: Boolean,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n    viewHint: identity,\n    navLinkHint: identity,\n    closeHint: String,\n    timeHint: String,\n    eventHint: String,\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nvar BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    scrollTimeReset: true,\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n    eventMinHeight: 15,\n    eventMinWidth: 30,\n    eventShortHeight: 30,\n};\n// calendar listeners\n// ------------------\nvar CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nvar CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    buttonHints: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nvar COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isMaybeObjectsEqual,\n    footerToolbar: isMaybeObjectsEqual,\n    buttonText: isMaybeObjectsEqual,\n    buttonHints: isMaybeObjectsEqual,\n    buttonIcons: isMaybeObjectsEqual,\n    dateIncrement: isMaybeObjectsEqual,\n};\nfunction isMaybeObjectsEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nvar VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    var refined = {};\n    var extra = {};\n    for (var propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (var propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined: refined, extra: extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange) {\n    var eventStore = createEmptyEventStore();\n    var eventRefiners = buildEventRefiners(context);\n    for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n        var rawEvent = rawEvents_1[_i];\n        var tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore) {\n    if (eventStore === void 0) { eventStore = createEmptyEventStore(); }\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    var instance = eventStore.instances[instanceId];\n    if (instance) {\n        var def_1 = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        var newStore = filterEventStoreDefs(eventStore, function (lookDef) { return isEventDefsGrouped(def_1, lookDef); });\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def_1.defId] = def_1;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: __assign(__assign({}, store0.defs), store1.defs),\n        instances: __assign(__assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    var defs = filterHash(eventStore.defs, filterFunc);\n    var instances = filterHash(eventStore.instances, function (instance) { return (defs[instance.defId] // still exists?\n    ); });\n    return { defs: defs, instances: instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    var defs = master.defs, instances = master.instances;\n    var filteredDefs = {};\n    var filteredInstances = {};\n    for (var defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (var instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nvar EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nvar EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    var constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nvar EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n    interactive: Boolean,\n};\nvar EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nvar EVENT_REFINERS = __assign(__assign(__assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    var _a = refineEventDef(raw, context, refiners), refined = _a.refined, extra = _a.extra;\n    var defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    var recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def: def, instance: null };\n    }\n    var singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context);\n        var instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        return { def: def, instance: instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context) {\n    var def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: guid(),\n        sourceId: sourceId,\n        allDay: allDay,\n        hasEnd: hasEnd,\n        interactive: refined.interactive,\n        ui: createEventUi(refined, context),\n        extendedProps: __assign(__assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (var _i = 0, _a = context.pluginHooks.eventDefMemberAdders; _i < _a.length; _i++) {\n        var memberAdder = _a[_i];\n        __assign(def, memberAdder(refined));\n    }\n    // help out EventApi from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    var allDay = refined.allDay;\n    var startMeta;\n    var startMarker = null;\n    var hasEnd = false;\n    var endMeta;\n    var endMarker = null;\n    var startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay: allDay,\n        hasEnd: hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    var res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    var dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    var start = startOfDay(timedRange.start);\n    var end = addDays(start, dayCnt);\n    return { start: start, end: end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold) {\n    if (nextDayThreshold === void 0) { nextDayThreshold = createDuration(0); }\n    var startDay = null;\n    var endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        var endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    var visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nfunction parseRange(input, dateEnv) {\n    var start = null;\n    var end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start: start, end: end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    var invertedRanges = [];\n    var start = constraintRange.start; // the end of the previous range. the start of the new range\n    var i;\n    var dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start: start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start: start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    var start = range0.start, end = range0.end;\n    var newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start: start, end: end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    var inverseBgByGroupId = {};\n    var inverseBgByDefId = {};\n    var defByGroupId = {};\n    var bgRanges = [];\n    var fgRanges = [];\n    var eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        var ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = eventStore.defs[instance.defId];\n        var ui = eventUis[def.defId];\n        var origRange = instance.range;\n        var normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        var slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def: def,\n                    ui: ui,\n                    instance: instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (var groupId in inverseBgByGroupId) { // BY GROUP\n        var ranges = inverseBgByGroupId[groupId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _i = 0, invertedRanges_1 = invertedRanges; _i < invertedRanges_1.length; _i++) {\n            var invertedRange = invertedRanges_1[_i];\n            var def = defByGroupId[groupId];\n            var ui = eventUis[def.defId];\n            bgRanges.push({\n                def: def,\n                ui: ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (var defId in inverseBgByDefId) {\n        var ranges = inverseBgByDefId[defId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _a = 0, invertedRanges_2 = invertedRanges; _a < invertedRanges_2.length; _a++) {\n            var invertedRange = invertedRanges_2[_a];\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, function (eventDef) { return compileEventUi(eventDef, eventUiBases); });\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    var uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    var objs = segs.map(buildSegCompareObj);\n    objs.sort(function (obj0, obj1) { return compareByFieldSpecs(obj0, obj1, eventOrderSpecs); });\n    return objs.map(function (c) { return c._seg; });\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    var eventRange = seg.eventRange;\n    var eventDef = eventRange.def;\n    var range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    var start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    var end = range.end ? range.end.valueOf() : 0; // \"\n    return __assign(__assign(__assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start: start,\n        end: end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    var pluginHooks = context.pluginHooks;\n    var transformers = pluginHooks.isDraggableTransformers;\n    var _a = seg.eventRange, def = _a.def, ui = _a.ui;\n    var val = ui.startEditable;\n    for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n        var transformer = transformers_1[_i];\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var displayEventTime = options.displayEventTime, displayEventEnd = options.displayEventEnd;\n    var eventDef = seg.eventRange.def;\n    var eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    var wholeEventStart = eventInstance.range.start;\n    var wholeEventEnd = eventInstance.range.end;\n    var segStart = startOverride || seg.start || seg.eventRange.range.start;\n    var segEnd = endOverride || seg.end || seg.eventRange.range.end;\n    var isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n    var isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n    if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n        segStart = isStartDay ? wholeEventStart : segStart;\n        segEnd = isEndDay ? wholeEventEnd : segEnd;\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    var segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end < (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    var classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : eventRange.def.defId + \":\" + eventRange.range.start.toISOString();\n    // inverse-background events don't have specific instances. TODO: better solution\n}\nfunction getSegAnchorAttrs(seg, context) {\n    var _a = seg.eventRange, def = _a.def, instance = _a.instance;\n    var url = def.url;\n    if (url) {\n        return { href: url };\n    }\n    var emitter = context.emitter, options = context.options;\n    var eventInteractive = options.eventInteractive;\n    if (eventInteractive == null) {\n        eventInteractive = def.interactive;\n        if (eventInteractive == null) {\n            eventInteractive = Boolean(emitter.hasHandlers('eventClick'));\n        }\n    }\n    // mock what happens in EventClicking\n    if (eventInteractive) {\n        // only attach keyboard-related handlers because click handler is already done in EventClicking\n        return createAriaKeyboardAttrs(function (ev) {\n            emitter.trigger('eventClick', {\n                el: ev.target,\n                event: new EventApi(context, def, instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        });\n    }\n    return {};\n}\n\nvar STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    var span = parseOpenDateSpan(raw, dateEnv);\n    var range = span.range;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    var _a = refineProps(raw, STANDARD_PROPS), standardProps = _a.refined, extra = _a.extra;\n    var startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    var endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    var allDay = standardProps.allDay;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return __assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay: allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (var propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (var propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return __assign(__assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return __assign(__assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime: omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime: omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    var res = refineEventDef({ editable: false }, context);\n    var def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def: def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', __assign(__assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.dateSpanTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    var eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    var dest = createEmptyEventStore();\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    var standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    var copy = __assign(__assign(__assign({}, eventDef), standardProps), { ui: __assign(__assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = __assign(__assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (var _i = 0, _a = context.pluginHooks.eventDefMutationAppliers; _i < _a.length; _i++) {\n        var applier = _a[_i];\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    var dateEnv = context.dateEnv;\n    var forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    var clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    var copy = __assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar ViewApi = /** @class */ (function () {\n    function ViewApi(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    Object.defineProperty(ViewApi.prototype, \"calendar\", {\n        get: function () {\n            return this.getCurrentData().calendarApi;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"title\", {\n        get: function () {\n            return this.getCurrentData().viewTitle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ViewApi.prototype.getOption = function (name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    };\n    return ViewApi;\n}());\n\nvar EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventSourceRefiners(context); }\n    var rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        var _a = refineProps(rawObj, refiners), refined = _a.refined, extra = _a.extra;\n        var metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    for (var i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        var def = defs[i];\n        var meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta: meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    var initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return getNow(options.now, dateEnv); // getNow already returns unzoned\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nvar CalendarApi = /** @class */ (function () {\n    function CalendarApi() {\n    }\n    CalendarApi.prototype.getCurrentData = function () {\n        return this.currentDataManager.getCurrentData();\n    };\n    CalendarApi.prototype.dispatch = function (action) {\n        return this.currentDataManager.dispatch(action);\n    };\n    Object.defineProperty(CalendarApi.prototype, \"view\", {\n        get: function () { return this.getCurrentData().viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    CalendarApi.prototype.batchRendering = function (callback) {\n        callback();\n    };\n    CalendarApi.prototype.updateSize = function () {\n        this.trigger('_resize', true);\n    };\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.setOption = function (name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    };\n    CalendarApi.prototype.getOption = function (name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    };\n    CalendarApi.prototype.getAvailableLocaleCodes = function () {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    };\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.on = function (handlerName, handler) {\n        var currentDataManager = this.currentDataManager;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(\"Unknown listener name '\" + handlerName + \"'\");\n        }\n    };\n    CalendarApi.prototype.off = function (handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    };\n    // not meant for public use\n    CalendarApi.prototype.trigger = function (handlerName) {\n        var _a;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (_a = this.currentDataManager.emitter).trigger.apply(_a, __spreadArray([handlerName], args));\n    };\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.changeView = function (viewType, dateOrRange) {\n        var _this = this;\n        this.batchRendering(function () {\n            _this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                    });\n                    _this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    var dateEnv = _this.getCurrentData().dateEnv;\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                _this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType: viewType,\n                });\n            }\n        });\n    };\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    CalendarApi.prototype.zoomTo = function (dateMarker, viewType) {\n        var state = this.getCurrentData();\n        var spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker: dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: dateMarker,\n            });\n        }\n    };\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    CalendarApi.prototype.getUnitViewSpec = function (unit) {\n        var _a = this.getCurrentData(), viewSpecs = _a.viewSpecs, toolbarConfig = _a.toolbarConfig;\n        var viewTypes = [].concat(toolbarConfig.header ? toolbarConfig.header.viewsWithButtons : [], toolbarConfig.footer ? toolbarConfig.footer.viewsWithButtons : []);\n        var i;\n        var spec;\n        for (var viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    };\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.prev = function () {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    };\n    CalendarApi.prototype.next = function () {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    };\n    CalendarApi.prototype.prevYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    };\n    CalendarApi.prototype.nextYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    };\n    CalendarApi.prototype.today = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n        });\n    };\n    CalendarApi.prototype.gotoDate = function (zonedDateInput) {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    };\n    CalendarApi.prototype.incrementDate = function (deltaInput) {\n        var state = this.getCurrentData();\n        var delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    };\n    // for external API\n    CalendarApi.prototype.getDate = function () {\n        var state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    };\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.formatDate = function (d, formatter) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    };\n    // `settings` is for formatter AND isEndExclusive\n    CalendarApi.prototype.formatRange = function (d0, d1, settings) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    };\n    CalendarApi.prototype.formatIso = function (d, omitTime) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime: omitTime });\n    };\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    // this public method receives start/end dates in any format, with any timezone\n    // NOTE: args were changed from v3\n    CalendarApi.prototype.select = function (dateOrObj, endDate) {\n        var selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        var state = this.getCurrentData();\n        var selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection: selection });\n            triggerDateSelect(selection, null, state);\n        }\n    };\n    // public method\n    CalendarApi.prototype.unselect = function (pev) {\n        var state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    };\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.addEvent = function (eventInput, sourceInput) {\n        if (eventInput instanceof EventApi) {\n            var def = eventInput._def;\n            var instance = eventInput._instance;\n            var currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def: def, instance: instance }), // TODO: better util for two args?\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        var state = this.getCurrentData();\n        var eventSource;\n        if (sourceInput instanceof EventSourceApi) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                eventSource = hashValuesToArray(state.eventSources)[0];\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            var sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(\"Could not find an event source with ID \\\"\" + sourceInput + \"\\\"\"); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        var tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            var newEventApi = new EventApi(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    };\n    CalendarApi.prototype.triggerEventAdd = function (eventApi) {\n        var _this = this;\n        var emitter = this.getCurrentData().emitter;\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: function () {\n                _this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    };\n    // TODO: optimize\n    CalendarApi.prototype.getEventById = function (id) {\n        var state = this.getCurrentData();\n        var _a = state.eventStore, defs = _a.defs, instances = _a.instances;\n        id = String(id);\n        for (var defId in defs) {\n            var def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventApi(state, def, null);\n                }\n                for (var instanceId in instances) {\n                    var instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventApi(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.getEvents = function () {\n        var currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    };\n    CalendarApi.prototype.removeAllEvents = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    };\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.getEventSources = function () {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        var sourceApis = [];\n        for (var internalId in sourceHash) {\n            sourceApis.push(new EventSourceApi(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    };\n    CalendarApi.prototype.getEventSourceById = function (id) {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        id = String(id);\n        for (var sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceApi(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.addEventSource = function (sourceInput) {\n        var state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceApi) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        var eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceApi(state, eventSource);\n        }\n        return null;\n    };\n    CalendarApi.prototype.removeAllEventSources = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    };\n    CalendarApi.prototype.refetchEvents = function () {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n    };\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.scrollToTime = function (timeInput) {\n        var time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time: time });\n        }\n    };\n    return CalendarApi;\n}());\n\nvar EventApi = /** @class */ (function () {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    function EventApi(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    EventApi.prototype.setProp = function (name, val) {\n        var _a, _b;\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n            // TODO: make proper aliasing system?\n        }\n        else if (name === 'id') {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { publicId: val }, // hardcoded internal name\n            });\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: (_a = {}, _a[name] = val, _a),\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            var ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = (_b = {}, _b[name] = val, _b);\n            }\n            this.mutate({\n                standardProps: { ui: ui },\n            });\n        }\n        else {\n            console.warn(\"Could not set prop '\" + name + \"'. Use setExtendedProp instead.\");\n        }\n    };\n    EventApi.prototype.setExtendedProp = function (name, val) {\n        var _a;\n        this.mutate({\n            extendedProps: (_a = {}, _a[name] = val, _a),\n        });\n    };\n    EventApi.prototype.setStart = function (startInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            var instanceRange = this._instance.range;\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta: startDelta });\n            }\n        }\n    };\n    EventApi.prototype.setEnd = function (endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                var endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta: endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    };\n    EventApi.prototype.setDates = function (startInput, endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var standardProps = { allDay: options.allDay };\n        var start = dateEnv.createMarker(startInput);\n        var end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            var instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                var endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n                }\n                else {\n                    this.mutate({ startDelta: startDelta, endDelta: endDelta, standardProps: standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n            }\n        }\n    };\n    EventApi.prototype.moveStart = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    };\n    EventApi.prototype.moveEnd = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    };\n    EventApi.prototype.moveDates = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    };\n    EventApi.prototype.setAllDay = function (allDay, options) {\n        if (options === void 0) { options = {}; }\n        var standardProps = { allDay: allDay };\n        var maintainDuration = options.maintainDuration;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps: standardProps });\n    };\n    EventApi.prototype.formatRange = function (formatInput) {\n        var dateEnv = this._context.dateEnv;\n        var instance = this._instance;\n        var formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    };\n    EventApi.prototype.mutate = function (mutation) {\n        var instance = this._instance;\n        if (instance) {\n            var def = this._def;\n            var context_1 = this._context;\n            var eventStore_1 = context_1.getCurrentData().eventStore;\n            var relevantEvents = getRelevantEvents(eventStore_1, instance.instanceId);\n            var eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context_1);\n            var oldEvent = new EventApi(context_1, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context_1.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context_1.emitter.trigger('eventChange', {\n                oldEvent: oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context_1, instance),\n                revert: function () {\n                    context_1.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore: eventStore_1,\n                    });\n                },\n            });\n        }\n    };\n    EventApi.prototype.remove = function () {\n        var context = this._context;\n        var asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert: function () {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    };\n    Object.defineProperty(EventApi.prototype, \"source\", {\n        get: function () {\n            var sourceId = this._def.sourceId;\n            if (sourceId) {\n                return new EventSourceApi(this._context, this._context.getCurrentData().eventSources[sourceId]);\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"start\", {\n        get: function () {\n            return this._instance ?\n                this._context.dateEnv.toDate(this._instance.range.start) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"end\", {\n        get: function () {\n            return (this._instance && this._def.hasEnd) ?\n                this._context.dateEnv.toDate(this._instance.range.end) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance) {\n                return this._context.dateEnv.formatIso(instance.range.start, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedStartTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"endStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance && this._def.hasEnd) {\n                return this._context.dateEnv.formatIso(instance.range.end, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedEndTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"id\", {\n        // computable props that all access the def\n        // TODO: find a TypeScript-compatible way to do this at scale\n        get: function () { return this._def.publicId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"groupId\", {\n        get: function () { return this._def.groupId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allDay\", {\n        get: function () { return this._def.allDay; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"title\", {\n        get: function () { return this._def.title; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"url\", {\n        get: function () { return this._def.url; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"display\", {\n        get: function () { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startEditable\", {\n        get: function () { return this._def.ui.startEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"durationEditable\", {\n        get: function () { return this._def.ui.durationEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"constraint\", {\n        get: function () { return this._def.ui.constraints[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"overlap\", {\n        get: function () { return this._def.ui.overlap; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allow\", {\n        get: function () { return this._def.ui.allows[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"backgroundColor\", {\n        get: function () { return this._def.ui.backgroundColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"borderColor\", {\n        get: function () { return this._def.ui.borderColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"textColor\", {\n        get: function () { return this._def.ui.textColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"classNames\", {\n        // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n        get: function () { return this._def.ui.classNames; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"extendedProps\", {\n        get: function () { return this._def.extendedProps; },\n        enumerable: false,\n        configurable: true\n    });\n    EventApi.prototype.toPlainObject = function (settings) {\n        if (settings === void 0) { settings = {}; }\n        var def = this._def;\n        var ui = def.ui;\n        var _a = this, startStr = _a.startStr, endStr = _a.endStr;\n        var res = {};\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                __assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    };\n    EventApi.prototype.toJSON = function () {\n        return this.toPlainObject();\n    };\n    return EventApi;\n}());\nfunction eventApiToStore(eventApi) {\n    var _a, _b;\n    var def = eventApi._def;\n    var instance = eventApi._instance;\n    return {\n        defs: (_a = {}, _a[def.defId] = def, _a),\n        instances: instance\n            ? (_b = {}, _b[instance.instanceId] = instance, _b) : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    var defs = eventStore.defs, instances = eventStore.instances;\n    var eventApis = [];\n    var excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (var id in instances) {\n        var instance = instances[id];\n        var def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventApi(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\nvar calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nvar GregorianCalendarSystem = /** @class */ (function () {\n    function GregorianCalendarSystem() {\n    }\n    GregorianCalendarSystem.prototype.getMarkerYear = function (d) {\n        return d.getUTCFullYear();\n    };\n    GregorianCalendarSystem.prototype.getMarkerMonth = function (d) {\n        return d.getUTCMonth();\n    };\n    GregorianCalendarSystem.prototype.getMarkerDay = function (d) {\n        return d.getUTCDate();\n    };\n    GregorianCalendarSystem.prototype.arrayToMarker = function (arr) {\n        return arrayToUtcDate(arr);\n    };\n    GregorianCalendarSystem.prototype.markerToArray = function (marker) {\n        return dateToUtcArray(marker);\n    };\n    return GregorianCalendarSystem;\n}());\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nvar ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    var m = ISO_RE.exec(str);\n    if (m) {\n        var marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(\"0.\" + m[12]) * 1000 : 0));\n        if (isValidDate(marker)) {\n            var timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker: marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset: timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nvar DateEnv = /** @class */ (function () {\n    function DateEnv(settings) {\n        var timeZone = this.timeZone = settings.timeZone;\n        var isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.weekTextLong = (settings.weekTextLong != null ? settings.weekTextLong : settings.locale.options.weekTextLong) || this.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    DateEnv.prototype.createMarker = function (input) {\n        var meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    };\n    DateEnv.prototype.createNowMarker = function () {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    };\n    DateEnv.prototype.createMarkerMeta = function (input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        var marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker: marker, isTimeUnspecified: false, forcedTzo: null };\n    };\n    DateEnv.prototype.parse = function (s) {\n        var parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        var marker = parts.marker;\n        var forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker: marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo: forcedTzo };\n    };\n    // Accessors\n    DateEnv.prototype.getYear = function (marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    };\n    DateEnv.prototype.getMonth = function (marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    };\n    // Adding / Subtracting\n    DateEnv.prototype.add = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.subtract = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addYears = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addMonths = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    // Diffing Whole Units\n    DateEnv.prototype.diffWholeYears = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    };\n    DateEnv.prototype.diffWholeMonths = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    };\n    // Range / Duration\n    DateEnv.prototype.greatestWholeUnit = function (m0, m1) {\n        var n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    };\n    DateEnv.prototype.countDurationsBetween = function (m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        var diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    };\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    DateEnv.prototype.startOf = function (m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    };\n    DateEnv.prototype.startOfYear = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    };\n    DateEnv.prototype.startOfMonth = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    };\n    DateEnv.prototype.startOfWeek = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    };\n    // Week Number\n    DateEnv.prototype.computeWeekNumber = function (marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    };\n    // TODO: choke on timeZoneName: long\n    DateEnv.prototype.format = function (marker, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        return formatter.format({\n            marker: marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    };\n    DateEnv.prototype.formatRange = function (start, end, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    };\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    DateEnv.prototype.formatIso = function (marker, extraOptions) {\n        if (extraOptions === void 0) { extraOptions = {}; }\n        var timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    };\n    // TimeZone\n    DateEnv.prototype.timestampToMarker = function (ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    };\n    DateEnv.prototype.offsetForMarker = function (m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    };\n    // Conversion\n    DateEnv.prototype.toDate = function (m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    };\n    return DateEnv;\n}());\n\nvar globalLocales = [];\n\nvar MINIMAL_RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    weekTextLong: 'Week',\n    closeHint: 'Close',\n    timeHint: 'Time',\n    eventHint: 'Event',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nvar RAW_EN_LOCALE = __assign(__assign({}, MINIMAL_RAW_EN_LOCALE), { \n    // Includes things we don't want other locales to inherit,\n    // things that derive from other translatable strings.\n    buttonHints: {\n        prev: 'Previous $0',\n        next: 'Next $0',\n        today: function (buttonText, unit) {\n            return (unit === 'day')\n                ? 'Today'\n                : \"This \" + buttonText;\n        },\n    }, viewHint: '$0 view', navLinkHint: 'Go to $0', moreLinkHint: function (eventCnt) {\n        return \"Show \" + eventCnt + \" more event\" + (eventCnt === 1 ? '' : 's');\n    } });\nfunction organizeRawLocales(explicitRawLocales) {\n    var defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    var allRawLocales = globalLocales.concat(explicitRawLocales);\n    var rawLocaleMap = {\n        en: RAW_EN_LOCALE,\n    };\n    for (var _i = 0, allRawLocales_1 = allRawLocales; _i < allRawLocales_1.length; _i++) {\n        var rawLocale = allRawLocales_1[_i];\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode: defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    var codes = [].concat(codeArg || []); // will convert to array\n    var raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (var i = 0; i < codes.length; i += 1) {\n        var parts = codes[i].toLocaleLowerCase().split('-');\n        for (var j = parts.length; j > 0; j -= 1) {\n            var simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    var merged = mergeProps([MINIMAL_RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    var week = merged.week;\n    delete merged.week;\n    return {\n        codeArg: codeArg,\n        codes: codes,\n        week: week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\nfunction formatDate(dateInput, options) {\n    if (options === void 0) { options = {}; }\n    var dateEnv = buildDateEnv$1(options);\n    var formatter = createFormatter(options);\n    var dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    var dateEnv = buildDateEnv$1(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    var formatter = createFormatter(options);\n    var startMeta = dateEnv.createMarkerMeta(startInput);\n    var endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv$1(settings) {\n    var locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(__assign(__assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale: locale }));\n}\n\nvar DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours', // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    var rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter(function (rawDef) { return rawDef.daysOfWeek; });\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map(function (rawDef) { return (__assign(__assign({}, DEF_DEFAULTS), rawDef)); });\n    return rawDefs;\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    var res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nvar canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    var el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    var div = el.querySelector('div');\n    var possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nvar EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nvar Splitter = /** @class */ (function () {\n    function Splitter() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    Splitter.prototype.splitProps = function (props) {\n        var _this = this;\n        var keyInfos = this.getKeyInfo(props);\n        var defKeys = this.getKeysForEventDefs(props.eventStore);\n        var dateSelections = this.splitDateSelection(props.dateSelection);\n        var individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        var eventStores = this.splitEventStore(props.eventStore, defKeys);\n        var eventDrags = this.splitEventDrag(props.eventDrag);\n        var eventResizes = this.splitEventResize(props.eventResize);\n        var splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, function (info, key) { return _this.eventUiBuilders[key] || memoize(buildEventUiForKey); });\n        for (var key in keyInfos) {\n            var keyInfo = keyInfos[key];\n            var eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            var buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore: eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    };\n    Splitter.prototype._splitDateSpan = function (dateSpan) {\n        var dateSpans = {};\n        if (dateSpan) {\n            var keys = this.getKeysForDateSpan(dateSpan);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    };\n    Splitter.prototype._getKeysForEventDefs = function (eventStore) {\n        var _this = this;\n        return mapHash(eventStore.defs, function (eventDef) { return _this.getKeysForEventDef(eventDef); });\n    };\n    Splitter.prototype._splitEventStore = function (eventStore, defKeys) {\n        var defs = eventStore.defs, instances = eventStore.instances;\n        var splitStores = {};\n        for (var defId in defs) {\n            for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (var instanceId in instances) {\n            var instance = instances[instanceId];\n            for (var _b = 0, _c = defKeys[instance.defId]; _b < _c.length; _b++) {\n                var key = _c[_b];\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    };\n    Splitter.prototype._splitIndividualUi = function (eventUiBases, defKeys) {\n        var splitHashes = {};\n        for (var defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    };\n    Splitter.prototype._splitInteraction = function (interaction) {\n        var splitStates = {};\n        if (interaction) {\n            var affectedStores_1 = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            var mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            var mutatedStores_1 = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            var populate = function (key) {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores_1[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores_1[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (var key in affectedStores_1) {\n                populate(key);\n            }\n            for (var key in mutatedStores_1) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    };\n    return Splitter;\n}());\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    var baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    var stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        __assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    var classNames = [\n        'fc-day',\n        \"fc-day-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    var classNames = [\n        'fc-slot',\n        \"fc-slot-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nvar DAY_FORMAT = createFormatter({ year: 'numeric', month: 'long', day: 'numeric' });\nvar WEEK_FORMAT = createFormatter({ week: 'long' });\nfunction buildNavLinkAttrs(context, dateMarker, viewType, isTabbable) {\n    if (viewType === void 0) { viewType = 'day'; }\n    if (isTabbable === void 0) { isTabbable = true; }\n    var dateEnv = context.dateEnv, options = context.options, calendarApi = context.calendarApi;\n    var dateStr = dateEnv.format(dateMarker, viewType === 'week' ? WEEK_FORMAT : DAY_FORMAT);\n    if (options.navLinks) {\n        var zonedDate = dateEnv.toDate(dateMarker);\n        var handleInteraction = function (ev) {\n            var customAction = viewType === 'day' ? options.navLinkDayClick :\n                viewType === 'week' ? options.navLinkWeekClick : null;\n            if (typeof customAction === 'function') {\n                customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n            }\n            else {\n                if (typeof customAction === 'string') {\n                    viewType = customAction;\n                }\n                calendarApi.zoomTo(dateMarker, viewType);\n            }\n        };\n        return __assign({ title: formatWithOrdinals(options.navLinkHint, [dateStr, zonedDate], dateStr), 'data-navlink': '' }, (isTabbable\n            ? createAriaClickAttrs(handleInteraction)\n            : { onClick: handleInteraction }));\n    }\n    return { 'aria-label': dateStr };\n}\n\nvar _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    var outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    var innerEl = outerEl.firstChild;\n    var res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nvar _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    var el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    var res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding) {\n    if (getPadding === void 0) { getPadding = false; }\n    var computedStyle = window.getComputedStyle(el);\n    var borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    var borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    var borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    var borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    var badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    var scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    var scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    var res = {\n        borderLeft: borderLeft,\n        borderRight: borderRight,\n        borderTop: borderTop,\n        borderBottom: borderBottom,\n        scrollbarBottom: scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding, doFromWindowViewport) {\n    if (goWithinPadding === void 0) { goWithinPadding = false; }\n    var outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    var edges = computeEdges(el, goWithinPadding);\n    var res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    var rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset,\n    };\n}\nfunction computeClippedClientRect(el) {\n    var clippingParents = getClippingParents(el);\n    var rect = el.getBoundingClientRect();\n    for (var _i = 0, clippingParents_1 = clippingParents; _i < clippingParents_1.length; _i++) {\n        var clippingParent = clippingParents_1[_i];\n        var intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n        if (intersection) {\n            rect = intersection;\n        }\n        else {\n            return null;\n        }\n    }\n    return rect;\n}\nfunction computeHeightAndMargins(el) {\n    return el.getBoundingClientRect().height + computeVMargins(el);\n}\nfunction computeVMargins(el) {\n    var computed = window.getComputedStyle(el);\n    return parseInt(computed.marginTop, 10) +\n        parseInt(computed.marginBottom, 10);\n}\n// does not return window\nfunction getClippingParents(el) {\n    var parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        var computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n// given a function that resolves a result asynchronously.\n// the function can either call passed-in success and failure callbacks,\n// or it can return a promise.\n// if you need to pass additional params to func, bind them first.\nfunction unpromisify(func, success, failure) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    var isResolved = false;\n    var wrappedSuccess = function () {\n        if (!isResolved) {\n            isResolved = true;\n            success.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        }\n    };\n    var wrappedFailure = function () {\n        if (!isResolved) {\n            isResolved = true;\n            if (failure) {\n                failure.apply(this, arguments); // eslint-disable-line prefer-rest-params\n            }\n        }\n    };\n    var res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nvar Emitter = /** @class */ (function () {\n    function Emitter() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    Emitter.prototype.setThisContext = function (thisContext) {\n        this.thisContext = thisContext;\n    };\n    Emitter.prototype.setOptions = function (options) {\n        this.options = options;\n    };\n    Emitter.prototype.on = function (type, handler) {\n        addToHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.off = function (type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.trigger = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var attachedHandlers = this.handlers[type] || [];\n        var optionHandler = this.options && this.options[type];\n        var handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (var _a = 0, handlers_1 = handlers; _a < handlers_1.length; _a++) {\n            var handler = handlers_1[_a];\n            handler.apply(this.thisContext, args);\n        }\n    };\n    Emitter.prototype.hasHandlers = function (type) {\n        return Boolean((this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]));\n    };\n    return Emitter;\n}());\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter(function (func) { return func !== handler; });\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nvar PositionCache = /** @class */ (function () {\n    function PositionCache(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        var originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    PositionCache.prototype.buildElHorizontals = function (originClientLeft) {\n        var lefts = [];\n        var rights = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    };\n    // Populates the top/bottom internal coordinate arrays\n    PositionCache.prototype.buildElVerticals = function (originClientTop) {\n        var tops = [];\n        var bottoms = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    };\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.leftToIndex = function (leftPosition) {\n        var _a = this, lefts = _a.lefts, rights = _a.rights;\n        var len = lefts.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.topToIndex = function (topPosition) {\n        var _a = this, tops = _a.tops, bottoms = _a.bottoms;\n        var len = tops.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Gets the width of the element at the given index\n    PositionCache.prototype.getWidth = function (leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    };\n    // Gets the height of the element at the given index\n    PositionCache.prototype.getHeight = function (topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    };\n    return PositionCache;\n}());\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nvar ScrollController = /** @class */ (function () {\n    function ScrollController() {\n    }\n    ScrollController.prototype.getMaxScrollTop = function () {\n        return this.getScrollHeight() - this.getClientHeight();\n    };\n    ScrollController.prototype.getMaxScrollLeft = function () {\n        return this.getScrollWidth() - this.getClientWidth();\n    };\n    ScrollController.prototype.canScrollVertically = function () {\n        return this.getMaxScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollHorizontally = function () {\n        return this.getMaxScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollUp = function () {\n        return this.getScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollDown = function () {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    };\n    ScrollController.prototype.canScrollLeft = function () {\n        return this.getScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollRight = function () {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    };\n    return ScrollController;\n}());\nvar ElementScrollController = /** @class */ (function (_super) {\n    __extends(ElementScrollController, _super);\n    function ElementScrollController(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    ElementScrollController.prototype.getScrollTop = function () {\n        return this.el.scrollTop;\n    };\n    ElementScrollController.prototype.getScrollLeft = function () {\n        return this.el.scrollLeft;\n    };\n    ElementScrollController.prototype.setScrollTop = function (top) {\n        this.el.scrollTop = top;\n    };\n    ElementScrollController.prototype.setScrollLeft = function (left) {\n        this.el.scrollLeft = left;\n    };\n    ElementScrollController.prototype.getScrollWidth = function () {\n        return this.el.scrollWidth;\n    };\n    ElementScrollController.prototype.getScrollHeight = function () {\n        return this.el.scrollHeight;\n    };\n    ElementScrollController.prototype.getClientHeight = function () {\n        return this.el.clientHeight;\n    };\n    ElementScrollController.prototype.getClientWidth = function () {\n        return this.el.clientWidth;\n    };\n    return ElementScrollController;\n}(ScrollController));\nvar WindowScrollController = /** @class */ (function (_super) {\n    __extends(WindowScrollController, _super);\n    function WindowScrollController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WindowScrollController.prototype.getScrollTop = function () {\n        return window.pageYOffset;\n    };\n    WindowScrollController.prototype.getScrollLeft = function () {\n        return window.pageXOffset;\n    };\n    WindowScrollController.prototype.setScrollTop = function (n) {\n        window.scroll(window.pageXOffset, n);\n    };\n    WindowScrollController.prototype.setScrollLeft = function (n) {\n        window.scroll(n, window.pageYOffset);\n    };\n    WindowScrollController.prototype.getScrollWidth = function () {\n        return document.documentElement.scrollWidth;\n    };\n    WindowScrollController.prototype.getScrollHeight = function () {\n        return document.documentElement.scrollHeight;\n    };\n    WindowScrollController.prototype.getClientHeight = function () {\n        return document.documentElement.clientHeight;\n    };\n    WindowScrollController.prototype.getClientWidth = function () {\n        return document.documentElement.clientWidth;\n    };\n    return WindowScrollController;\n}(ScrollController));\n\nvar Theme = /** @class */ (function () {\n    function Theme(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    Theme.prototype.setIconOverride = function (iconOverrideHash) {\n        var iconClassesCopy;\n        var buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = __assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    };\n    Theme.prototype.applyIconOverridePrefix = function (className) {\n        var prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    };\n    Theme.prototype.getClass = function (key) {\n        return this.classes[key] || '';\n    };\n    Theme.prototype.getIconClass = function (buttonName, isRtl) {\n        var className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return this.baseIconClass + \" \" + className;\n        }\n        return '';\n    };\n    Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\n        var className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return this.baseIconClass + \" \" + this.applyIconOverridePrefix(className);\n            }\n        }\n        return '';\n    };\n    return Theme;\n}());\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\nvar ScrollResponder = /** @class */ (function () {\n    function ScrollResponder(execFunc, emitter, scrollTime, scrollTimeReset) {\n        var _this = this;\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.scrollTimeReset = scrollTimeReset;\n        this.handleScrollRequest = function (request) {\n            _this.queuedRequest = __assign({}, _this.queuedRequest || {}, request);\n            _this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    ScrollResponder.prototype.detach = function () {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    };\n    ScrollResponder.prototype.update = function (isDatesNew) {\n        if (isDatesNew && this.scrollTimeReset) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    };\n    ScrollResponder.prototype.fireInitialScroll = function () {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    };\n    ScrollResponder.prototype.drain = function () {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    };\n    return ScrollResponder;\n}());\n\nvar ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv: dateEnv,\n        options: viewOptions,\n        pluginHooks: pluginHooks,\n        emitter: emitter,\n        dispatch: dispatch,\n        getCurrentData: getCurrentData,\n        calendarApi: calendarApi,\n        viewSpec: viewSpec,\n        viewApi: viewApi,\n        dateProfileGenerator: dateProfileGenerator,\n        theme: theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler: function (handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler: function (handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder: function (execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n        },\n        registerInteractiveComponent: registerInteractiveComponent,\n        unregisterInteractiveComponent: unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nvar PureComponent = /** @class */ (function (_super) {\n    __extends(PureComponent, _super);\n    function PureComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PureComponent.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    };\n    // HACK for freakin' React StrictMode\n    PureComponent.prototype.safeSetState = function (newState) {\n        if (!compareObjs(this.state, __assign(__assign({}, this.state), newState), this.stateEquality)) {\n            this.setState(newState);\n        }\n    };\n    PureComponent.addPropsEquality = addPropsEquality;\n    PureComponent.addStateEquality = addStateEquality;\n    PureComponent.contextType = ViewContextType;\n    return PureComponent;\n}(Component));\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nvar BaseComponent = /** @class */ (function (_super) {\n    __extends(BaseComponent, _super);\n    function BaseComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BaseComponent.contextType = ViewContextType;\n    return BaseComponent;\n}(PureComponent));\nfunction addPropsEquality(propEquality) {\n    var hash = Object.create(this.prototype.propEquality);\n    __assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    var hash = Object.create(this.prototype.stateEquality);\n    __assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nvar DateComponent = /** @class */ (function (_super) {\n    __extends(DateComponent, _super);\n    function DateComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.uid = guid();\n        return _this;\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.prepareHits = function () {\n    };\n    DateComponent.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    };\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isValidSegDownEl = function (el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    };\n    DateComponent.prototype.isValidDateDownEl = function (el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    };\n    return DateComponent;\n}(BaseComponent));\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        contentTypeHandlers: input.contentTypeHandlers || {},\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    var isAdded = {};\n    var hooks = {\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        contentTypeHandlers: {},\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (var _i = 0, defs_1 = defs; _i < defs_1.length; _i++) {\n            var def = defs_1[_i];\n            if (!isAdded[def.id]) {\n                isAdded[def.id] = true;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    var currentOverrideDefs = [];\n    var currentGlobalDefs = [];\n    var currentHooks;\n    return function (overrideDefs, globalDefs) {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: __assign(__assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: __assign(__assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: __assign(__assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: __assign(__assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: __assign(__assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        contentTypeHandlers: __assign(__assign({}, hooks0.contentTypeHandlers), hooks1.contentTypeHandlers),\n        listenerRefiners: __assign(__assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: __assign(__assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: __assign(__assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\n\nvar StandardTheme = /** @class */ (function (_super) {\n    __extends(StandardTheme, _super);\n    function StandardTheme() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StandardTheme;\n}(Theme));\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    var hash = {};\n    var viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    var viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    var defaultConfig = defaultConfigs[viewType];\n    var overrideConfig = overrideConfigs[viewType];\n    var queryProp = function (name) { return ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null)); };\n    var theComponent = queryProp('component');\n    var superType = queryProp('superType');\n    var superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: __assign(__assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: __assign(__assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\n/* eslint max-classes-per-file: off */\n// NOTE: in JSX, you should always use this class with <HookProps> arg. otherwise, will default to any???\nvar RenderHook = /** @class */ (function (_super) {\n    __extends(RenderHook, _super);\n    function RenderHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        return _this;\n    }\n    RenderHook.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var hookProps = props.hookProps;\n        return (createElement(MountHook, { hookProps: hookProps, didMount: props.didMount, willUnmount: props.willUnmount, elRef: this.handleRootEl }, function (rootElRef) { return (createElement(ContentHook, { hookProps: hookProps, content: props.content, defaultContent: props.defaultContent, backupElRef: _this.rootElRef }, function (innerElRef, innerContent) { return props.children(rootElRef, normalizeClassNames(props.classNames, hookProps), innerElRef, innerContent); })); }));\n    };\n    return RenderHook;\n}(BaseComponent));\n// TODO: rename to be about function, not default. use in above type\n// for forcing rerender of components that use the ContentHook\nvar CustomContentRenderContext = createContext(0);\nfunction ContentHook(props) {\n    return (createElement(CustomContentRenderContext.Consumer, null, function (renderId) { return (createElement(ContentHookInner, __assign({ renderId: renderId }, props))); }));\n}\nvar ContentHookInner = /** @class */ (function (_super) {\n    __extends(ContentHookInner, _super);\n    function ContentHookInner() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.innerElRef = createRef();\n        return _this;\n    }\n    ContentHookInner.prototype.render = function () {\n        return this.props.children(this.innerElRef, this.renderInnerContent());\n    };\n    ContentHookInner.prototype.componentDidMount = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentDidUpdate = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentWillUnmount = function () {\n        if (this.customContentInfo && this.customContentInfo.destroy) {\n            this.customContentInfo.destroy();\n        }\n    };\n    ContentHookInner.prototype.renderInnerContent = function () {\n        var customContentInfo = this.customContentInfo; // only populated if using non-[p]react node(s)\n        var innerContent = this.getInnerContent();\n        var meta = this.getContentMeta(innerContent);\n        // initial run, or content-type changing? (from vue -> react for example)\n        if (!customContentInfo || customContentInfo.contentKey !== meta.contentKey) {\n            // clearing old value\n            if (customContentInfo) {\n                if (customContentInfo.destroy) {\n                    customContentInfo.destroy();\n                }\n                customContentInfo = this.customContentInfo = null;\n            }\n            // assigning new value\n            if (meta.contentKey) {\n                customContentInfo = this.customContentInfo = __assign({ contentKey: meta.contentKey, contentVal: innerContent[meta.contentKey] }, meta.buildLifecycleFuncs());\n            }\n            // updating\n        }\n        else if (customContentInfo) {\n            customContentInfo.contentVal = innerContent[meta.contentKey];\n        }\n        return customContentInfo\n            ? [] // signal that something was specified\n            : innerContent; // assume a [p]react vdom node. use it\n    };\n    ContentHookInner.prototype.getInnerContent = function () {\n        var props = this.props;\n        var innerContent = normalizeContent(props.content, props.hookProps);\n        if (innerContent === undefined) { // use the default\n            innerContent = normalizeContent(props.defaultContent, props.hookProps);\n        }\n        return innerContent == null ? null : innerContent; // convert undefined to null (better for React)\n    };\n    ContentHookInner.prototype.getContentMeta = function (innerContent) {\n        var contentTypeHandlers = this.context.pluginHooks.contentTypeHandlers;\n        var contentKey = '';\n        var buildLifecycleFuncs = null;\n        if (innerContent) { // allowed to be null, for convenience to caller\n            for (var searchKey in contentTypeHandlers) {\n                if (innerContent[searchKey] !== undefined) {\n                    contentKey = searchKey;\n                    buildLifecycleFuncs = contentTypeHandlers[searchKey];\n                    break;\n                }\n            }\n        }\n        return { contentKey: contentKey, buildLifecycleFuncs: buildLifecycleFuncs };\n    };\n    ContentHookInner.prototype.updateCustomContent = function () {\n        if (this.customContentInfo) { // for non-[p]react\n            this.customContentInfo.render(this.innerElRef.current || this.props.backupElRef.current, // the element to render into\n            this.customContentInfo.contentVal);\n        }\n    };\n    return ContentHookInner;\n}(BaseComponent));\nvar MountHook = /** @class */ (function (_super) {\n    __extends(MountHook, _super);\n    function MountHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, rootEl);\n            }\n        };\n        return _this;\n    }\n    MountHook.prototype.render = function () {\n        return this.props.children(this.handleRootEl);\n    };\n    MountHook.prototype.componentDidMount = function () {\n        var callback = this.props.didMount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    MountHook.prototype.componentWillUnmount = function () {\n        var callback = this.props.willUnmount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    return MountHook;\n}(BaseComponent));\nfunction buildClassNameNormalizer() {\n    var currentGenerator;\n    var currentHookProps;\n    var currentClassNames = [];\n    return function (generator, hookProps) {\n        if (!currentHookProps || !isPropsEqual(currentHookProps, hookProps) || generator !== currentGenerator) {\n            currentGenerator = generator;\n            currentHookProps = hookProps;\n            currentClassNames = normalizeClassNames(generator, hookProps);\n        }\n        return currentClassNames;\n    };\n}\nfunction normalizeClassNames(classNames, hookProps) {\n    if (typeof classNames === 'function') {\n        classNames = classNames(hookProps);\n    }\n    return parseClassNames(classNames);\n}\nfunction normalizeContent(input, hookProps) {\n    if (typeof input === 'function') {\n        return input(hookProps, createElement); // give the function the vdom-creation func\n    }\n    return input;\n}\n\nvar ViewRoot = /** @class */ (function (_super) {\n    __extends(ViewRoot, _super);\n    function ViewRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    ViewRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = { view: context.viewApi };\n        var customClassNames = this.normalizeClassNames(options.viewClassNames, hookProps);\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, [\"fc-\" + props.viewSpec.type + \"-view\", 'fc-view'].concat(customClassNames)); }));\n    };\n    return ViewRoot;\n}(BaseComponent));\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    var rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    var component = rawOptions.component;\n    if (rawOptions.content) {\n        component = createViewHookComponent(rawOptions);\n        // TODO: remove content/classNames/didMount/etc from options?\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions: rawOptions,\n    };\n}\nfunction createViewHookComponent(options) {\n    return function (viewProps) { return (createElement(ViewContextType.Consumer, null, function (context) { return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (viewElRef, viewClassNames) {\n        var hookProps = __assign(__assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.classNames, content: options.content, didMount: options.didMount, willUnmount: options.willUnmount, elRef: viewElRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"div\", { className: viewClassNames.concat(customClassNames).join(' '), ref: rootElRef }, innerContent)); }));\n    })); })); };\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var defaultConfigs = parseViewConfigs(defaultInputs);\n    var overrideConfigs = parseViewConfigs(optionOverrides.views);\n    var viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, function (viewDef) { return buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults); });\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    var duration = null;\n    var durationUnit = '';\n    var singleUnit = '';\n    var singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            var denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    var queryButtonText = function (optionsSubset) {\n        var buttonTextMap = optionsSubset.buttonText || {};\n        var buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    var queryButtonTitle = function (optionsSubset) {\n        var buttonHints = optionsSubset.buttonHints || {};\n        var buttonKey = viewDef.defaults.buttonTextKey; // use same key as text\n        if (buttonKey != null && buttonHints[buttonKey] != null) {\n            return buttonHints[buttonKey];\n        }\n        if (buttonHints[viewDef.type] != null) {\n            return buttonHints[viewDef.type];\n        }\n        if (buttonHints[singleUnit] != null) {\n            return buttonHints[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration: duration,\n        durationUnit: durationUnit,\n        singleUnit: singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: __assign(__assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type,\n        // not DRY\n        buttonTitleOverride: queryButtonTitle(dynamicOptionOverrides) ||\n            queryButtonTitle(optionOverrides) ||\n            viewDef.overrides.buttonHint,\n        buttonTitleDefault: queryButtonTitle(localeDefaults) ||\n            viewDef.defaults.buttonHint ||\n            queryButtonTitle(BASE_OPTION_DEFAULTS),\n        // will eventually fall back to buttonText\n    };\n}\n// hack to get memoization working\nvar durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    var json = JSON.stringify(durationInput);\n    var res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nvar DateProfileGenerator = /** @class */ (function () {\n    function DateProfileGenerator(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    DateProfileGenerator.prototype.buildPrev = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    };\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    DateProfileGenerator.prototype.buildNext = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    };\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    DateProfileGenerator.prototype.build = function (currentDate, direction, forceToValid) {\n        if (forceToValid === void 0) { forceToValid = true; }\n        var props = this.props;\n        var validRange;\n        var currentInfo;\n        var isRangeAllDay;\n        var renderRange;\n        var activeRange;\n        var isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange: validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay: isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange: activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange: renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid: isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n            // pass a fallback (might be null) ^\n        };\n    };\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildValidRange = function () {\n        var input = this.props.validRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    };\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\n        var props = this.props;\n        var duration = null;\n        var unit = null;\n        var range = null;\n        var dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration: duration, unit: unit, range: range };\n    };\n    DateProfileGenerator.prototype.getFallbackDuration = function () {\n        return createDuration({ day: 1 });\n    };\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    DateProfileGenerator.prototype.adjustActiveRange = function (range) {\n        var _a = this.props, dateEnv = _a.dateEnv, usesMinMaxTime = _a.usesMinMaxTime, slotMinTime = _a.slotMinTime, slotMaxTime = _a.slotMaxTime;\n        var start = range.start, end = range.end;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start: start, end: end };\n    };\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var start;\n        var end;\n        var res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            var dateIncrement = this.props.dateIncrement;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start: start, end: end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    };\n    // Builds the \"current\" range when a dayCount is specified.\n    DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var runningCount = 0;\n        var start = date;\n        var end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start: start, end: end };\n    };\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\n        var props = this.props;\n        var input = props.visibleRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        var range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    };\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    };\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\n        var dateIncrement = this.props.dateIncrement;\n        var customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    };\n    DateProfileGenerator.prototype.refineRange = function (rangeInput) {\n        if (rangeInput) {\n            var range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    };\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    DateProfileGenerator.prototype.initHiddenDays = function () {\n        var hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        var dayCnt = 0;\n        var i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    };\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    DateProfileGenerator.prototype.trimHiddenDays = function (range) {\n        var start = range.start, end = range.end;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start: start, end: end };\n        }\n        return null;\n    };\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    DateProfileGenerator.prototype.isHiddenDay = function (day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    };\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    DateProfileGenerator.prototype.skipHiddenDays = function (date, inc, isExclusive) {\n        if (inc === void 0) { inc = 1; }\n        if (isExclusive === void 0) { isExclusive = false; }\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    };\n    return DateProfileGenerator;\n}());\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    var _a;\n    switch (action.type) {\n        case 'SET_OPTION':\n            return __assign(__assign({}, dynamicOptionOverrides), (_a = {}, _a[action.optionName] = action.rawOptionValue, _a));\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    var dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            return dateProfileGenerator.build(action.dateMarker);\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (var sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    var hash = {};\n    for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\n        var source = sources_1[_i];\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return __assign(__assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, function (eventSource) { return eventSource.sourceId !== sourceId; });\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, function (eventSource) { return isSourceDirty(eventSource, fetchRange, context); }), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    var nextSources = {};\n    for (var sourceId in prevSources) {\n        var source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    var options = context.options, calendarApi = context.calendarApi;\n    var sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    var fetchId = guid();\n    sourceDef.fetch({\n        eventSource: eventSource,\n        range: fetchRange,\n        isRefetch: isRefetch,\n        context: context,\n    }, function (res) {\n        var rawEvents = res.rawEvents;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            rawEvents: rawEvents,\n        });\n    }, function (error) {\n        console.warn(error.message, error);\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            error: error,\n        });\n    });\n    return __assign(__assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    var _a;\n    var eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return __assign(__assign({}, sourceHash), (_a = {}, _a[sourceId] = __assign(__assign({}, eventSource), { isFetching: false, fetchRange: fetchRange }), _a));\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, function (eventSource) { return doesSourceNeedRange(eventSource, context); });\n}\nfunction parseInitialSources(rawOptions, context) {\n    var refiners = buildEventSourceRefiners(context);\n    var rawSources = [].concat(rawOptions.eventSources || []);\n    var sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (var _i = 0, rawSources_1 = rawSources; _i < rawSources_1.length; _i++) {\n        var rawSource = rawSources_1[_i];\n        var source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, function (eventDef) { return (!eventDef.sourceId // only keep events with no source id\n            ); });\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        var subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    var calEachTransform = context.options.eventDataTransform;\n    var sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    var refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n            var rawEvent = rawEvents_1[_i];\n            var refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    var defs = eventStore.defs;\n    var instances = mapHash(eventStore.instances, function (instance) {\n        var def = defs[instance.defId];\n        if (def.allDay || def.recurringDef) {\n            return instance; // isn't dependent on timezone\n        }\n        return __assign(__assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs: defs, instances: instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, function (eventDef) { return eventDef.sourceId !== sourceId; });\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, function (instance) { return !removals[instance.instanceId]; }),\n    };\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    var newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    var newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var header = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    var footer = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    return { header: header, footer: footer };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var sectionWidgets = {};\n    var viewsWithButtons = [];\n    var hasTitle = false;\n    for (var sectionName in sectionStrHash) {\n        var sectionStr = sectionStrHash[sectionName];\n        var sectionRes = parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi);\n        sectionWidgets[sectionName] = sectionRes.widgets;\n        viewsWithButtons.push.apply(viewsWithButtons, sectionRes.viewsWithButtons);\n        hasTitle = hasTitle || sectionRes.hasTitle;\n    }\n    return { sectionWidgets: sectionWidgets, viewsWithButtons: viewsWithButtons, hasTitle: hasTitle };\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, // defaults+overrides, then refined\ncalendarOptionOverrides, // overrides only!, unrefined :(\ntheme, viewSpecs, calendarApi) {\n    var isRtl = calendarOptions.direction === 'rtl';\n    var calendarCustomButtons = calendarOptions.customButtons || {};\n    var calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    var calendarButtonText = calendarOptions.buttonText || {};\n    var calendarButtonHintOverrides = calendarOptionOverrides.buttonHints || {};\n    var calendarButtonHints = calendarOptions.buttonHints || {};\n    var sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    var viewsWithButtons = [];\n    var hasTitle = false;\n    var widgets = sectionSubstrs.map(function (buttonGroupStr) { return (buttonGroupStr.split(',').map(function (buttonName) {\n        if (buttonName === 'title') {\n            hasTitle = true;\n            return { buttonName: buttonName };\n        }\n        var customButtonProps;\n        var viewSpec;\n        var buttonClick;\n        var buttonIcon; // only one of these will be set\n        var buttonText; // \"\n        var buttonHint;\n        // ^ for the title=\"\" attribute, for accessibility\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = function (ev) {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n            buttonHint = customButtonProps.hint || customButtonProps.text;\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = function () {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n            var textFallback = viewSpec.buttonTextOverride ||\n                viewSpec.buttonTextDefault;\n            buttonHint = formatWithOrdinals(viewSpec.buttonTitleOverride ||\n                viewSpec.buttonTitleDefault ||\n                calendarOptions.viewHint, [textFallback, buttonName], // view-name = buttonName\n            textFallback);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = function () {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]); // everything else is considered default\n            if (buttonName === 'prevYear' || buttonName === 'nextYear') {\n                var prevOrNext = buttonName === 'prevYear' ? 'prev' : 'next';\n                buttonHint = formatWithOrdinals(calendarButtonHintOverrides[prevOrNext] ||\n                    calendarButtonHints[prevOrNext], [\n                    calendarButtonText.year || 'year',\n                    'year',\n                ], calendarButtonText[buttonName]);\n            }\n            else {\n                buttonHint = function (navUnit) { return formatWithOrdinals(calendarButtonHintOverrides[buttonName] ||\n                    calendarButtonHints[buttonName], [\n                    calendarButtonText[navUnit] || navUnit,\n                    navUnit,\n                ], calendarButtonText[buttonName]); };\n            }\n        }\n        return { buttonName: buttonName, buttonClick: buttonClick, buttonIcon: buttonIcon, buttonText: buttonText, buttonHint: buttonHint };\n    })); });\n    return { widgets: widgets, viewsWithButtons: viewsWithButtons, hasTitle: hasTitle };\n}\n\nvar eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta: function (refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success) {\n        success({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nvar arrayEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nvar eventSourceDef$1 = {\n    parseMeta: function (refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var dateEnv = arg.context.dateEnv;\n        var func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), function (rawEvents) {\n            success({ rawEvents: rawEvents }); // needs an object response\n        }, failure);\n    },\n};\nvar funcEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nfunction requestJson(method, url, params, successCallback, failureCallback) {\n    method = method.toUpperCase();\n    var body = null;\n    if (method === 'GET') {\n        url = injectQueryStringParams(url, params);\n    }\n    else {\n        body = encodeParams(params);\n    }\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (method !== 'GET') {\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            var parsed = false;\n            var res = void 0;\n            try {\n                res = JSON.parse(xhr.responseText);\n                parsed = true;\n            }\n            catch (err) {\n                // will handle parsed=false\n            }\n            if (parsed) {\n                successCallback(res, xhr);\n            }\n            else {\n                failureCallback('Failure parsing JSON', xhr);\n            }\n        }\n        else {\n            failureCallback('Request failed', xhr);\n        }\n    };\n    xhr.onerror = function () {\n        failureCallback('Request failed', xhr);\n    };\n    xhr.send(body);\n}\nfunction injectQueryStringParams(url, params) {\n    return url +\n        (url.indexOf('?') === -1 ? '?' : '&') +\n        encodeParams(params);\n}\nfunction encodeParams(params) {\n    var parts = [];\n    for (var key in params) {\n        parts.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]));\n    }\n    return parts.join('&');\n}\n\nvar JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nvar eventSourceDef = {\n    parseMeta: function (refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var meta = arg.eventSource.meta;\n        var requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams, function (rawEvents, xhr) {\n            success({ rawEvents: rawEvents, xhr: xhr });\n        }, function (errorMessage, xhr) {\n            failure({ message: errorMessage, xhr: xhr });\n        });\n    },\n};\nvar jsonFeedEventSourcePlugin = createPlugin({\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var startParam;\n    var endParam;\n    var timeZoneParam;\n    var customRequestParams;\n    var params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    __assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nvar SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nvar recurring = {\n    parse: function (refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            var recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            var duration = void 0;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration: duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand: function (typeData, framingRange, dateEnv) {\n        var clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nvar simpleRecurringEventsPlugin = createPlugin({\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    var dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    var dayMarker = startOfDay(framingRange.start);\n    var endMarker = framingRange.end;\n    var instanceStarts = [];\n    while (dayMarker < endMarker) {\n        var instanceStart \n        // if everyday, or this particular day-of-week\n        = void 0;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nvar changeHandlerPlugin = createPlugin({\n    optionChangeHandlers: {\n        events: function (events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    var unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    var newInputs = [];\n    for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n        var input = inputs_1[_i];\n        var inputFound = false;\n        for (var i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (var _a = 0, unfoundSources_1 = unfoundSources; _a < unfoundSources_1.length; _a++) {\n        var unfoundSource = unfoundSources_1[_a];\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (var _b = 0, newInputs_1 = newInputs; _b < newInputs_1.length; _b++) {\n        var newInput = newInputs_1[_b];\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', __assign(__assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    var emitter = context.emitter;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nvar globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        isLoadingFuncs: [\n            function (state) { return computeEventSourcesLoading(state.eventSources); },\n        ],\n        contentTypeHandlers: {\n            html: buildHtmlRenderer,\n            domNodes: buildDomNodeRenderer,\n        },\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\nfunction buildHtmlRenderer() {\n    var currentEl = null;\n    var currentHtml = '';\n    function render(el, html) {\n        if (el !== currentEl || html !== currentHtml) {\n            el.innerHTML = html;\n        }\n        currentEl = el;\n        currentHtml = html;\n    }\n    function destroy() {\n        currentEl.innerHTML = '';\n        currentEl = null;\n        currentHtml = '';\n    }\n    return { render: render, destroy: destroy };\n}\nfunction buildDomNodeRenderer() {\n    var currentEl = null;\n    var currentDomNodes = [];\n    function render(el, domNodes) {\n        var newDomNodes = Array.prototype.slice.call(domNodes);\n        if (el !== currentEl || !isArraysEqual(currentDomNodes, newDomNodes)) {\n            // append first, remove second (for scroll resetting)\n            for (var _i = 0, newDomNodes_1 = newDomNodes; _i < newDomNodes_1.length; _i++) {\n                var newNode = newDomNodes_1[_i];\n                el.appendChild(newNode);\n            }\n            destroy();\n        }\n        currentEl = el;\n        currentDomNodes = newDomNodes;\n    }\n    function destroy() {\n        currentDomNodes.forEach(removeElement);\n        currentDomNodes = [];\n        currentEl = null;\n    }\n    return { render: render, destroy: destroy };\n}\n\nvar DelayedRunner = /** @class */ (function () {\n    function DelayedRunner(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    DelayedRunner.prototype.request = function (delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    };\n    DelayedRunner.prototype.pause = function (scope) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    };\n    DelayedRunner.prototype.resume = function (scope, force) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                var depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    };\n    DelayedRunner.prototype.isPaused = function () {\n        return Object.keys(this.pauseDepths).length;\n    };\n    DelayedRunner.prototype.tryDrain = function () {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    };\n    DelayedRunner.prototype.clear = function () {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    };\n    DelayedRunner.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    };\n    DelayedRunner.prototype.drained = function () {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    };\n    return DelayedRunner;\n}());\n\nvar TaskRunner = /** @class */ (function () {\n    function TaskRunner(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    TaskRunner.prototype.request = function (task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    };\n    TaskRunner.prototype.pause = function (scope) {\n        this.delayedRunner.pause(scope);\n    };\n    TaskRunner.prototype.resume = function (scope, force) {\n        this.delayedRunner.resume(scope, force);\n    };\n    TaskRunner.prototype.drain = function () {\n        var queue = this.queue;\n        while (queue.length) {\n            var completedTasks = [];\n            var task = void 0;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    };\n    TaskRunner.prototype.runTask = function (task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    };\n    TaskRunner.prototype.drained = function (completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    };\n    return TaskRunner;\n}());\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    var range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    var currentRangeUnit = dateProfile.currentRangeUnit;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    var days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nvar CalendarDataManager = /** @class */ (function () {\n    function CalendarDataManager(props) {\n        var _this = this;\n        this.computeOptionsData = memoize(this._computeOptionsData);\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.getCurrentData = function () { return _this.data; };\n        this.dispatch = function (action) {\n            _this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        var dynamicOptionOverrides = {};\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        var currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        var dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (var _i = 0, _a = optionsData.pluginHooks.contextInit; _i < _a.length; _i++) {\n            var callback = _a[_i];\n            callback(calendarContext);\n        }\n        // NOT DRY\n        var eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        var initialState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources: eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), initialState);\n        for (var _b = 0, _c = optionsData.pluginHooks.reducers; _b < _c.length; _b++) {\n            var reducer = _c[_b];\n            __assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    CalendarDataManager.prototype.resetOptions = function (optionOverrides, append) {\n        var props = this.props;\n        props.optionOverrides = append\n            ? __assign(__assign({}, props.optionOverrides), optionOverrides) : optionOverrides;\n        this.actionRunner.request({\n            type: 'NOTHING',\n        });\n    };\n    CalendarDataManager.prototype._handleAction = function (action) {\n        var _a = this, props = _a.props, state = _a.state, emitter = _a.emitter;\n        var dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = reduceViewType(state.currentViewType, action);\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        var currentDate = state.currentDate, dateProfile = state.dateProfile;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n            action.type === 'NEXT' || // \"\n            !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        var eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        var isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        var renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        var _b = this.buildViewUiProps(calendarContext), eventUiSingleBase = _b.eventUiSingleBase, selectionConfig = _b.selectionConfig; // will memoize obj\n        var eventUiBySource = this.buildEventUiBySource(eventSources);\n        var eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        var newState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            eventSources: eventSources,\n            eventStore: eventStore,\n            renderableEventStore: renderableEventStore,\n            selectionConfig: selectionConfig,\n            eventUiBases: eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), newState);\n        for (var _i = 0, _c = optionsData.pluginHooks.reducers; _i < _c.length; _i++) {\n            var reducer = _c[_i];\n            __assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        var wasLoading = computeIsLoading(state, calendarContext);\n        var isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    };\n    CalendarDataManager.prototype.updateData = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var oldData = this.data;\n        var optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        var currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        var data = this.data = __assign(__assign(__assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        var changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        var oldCalendarOptions = oldData && oldData.calendarOptions;\n        var newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (var optionName in changeHandlers) {\n                if (oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        if (props.onData) {\n            props.onData(data);\n        }\n    };\n    CalendarDataManager.prototype._computeOptionsData = function (optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        var _a = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, pluginHooks = _a.pluginHooks, localeDefaults = _a.localeDefaults, availableLocaleData = _a.availableLocaleData, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        var viewSpecs = this.buildViewSpecs(pluginHooks.views, optionOverrides, dynamicOptionOverrides, localeDefaults);\n        var theme = this.buildTheme(refinedOptions, pluginHooks);\n        var toolbarConfig = this.parseToolbars(refinedOptions, optionOverrides, theme, viewSpecs, calendarApi);\n        return {\n            calendarOptions: refinedOptions,\n            pluginHooks: pluginHooks,\n            dateEnv: dateEnv,\n            viewSpecs: viewSpecs,\n            theme: theme,\n            toolbarConfig: toolbarConfig,\n            localeDefaults: localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    };\n    // always called from behind a memoizer\n    CalendarDataManager.prototype.processRawCalendarOptions = function (optionOverrides, dynamicOptionOverrides) {\n        var _a = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]), locales = _a.locales, locale = _a.locale;\n        var availableLocaleData = this.organizeRawLocales(locales);\n        var availableRawLocales = availableLocaleData.map;\n        var localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        var pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        var refiners = this.currentCalendarOptionsRefiners = __assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var extra = {};\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refined = {};\n        var currentRaw = this.currentCalendarOptionsInput;\n        var currentRefined = this.currentCalendarOptionsRefined;\n        var anyChanges = false;\n        for (var optionName in raw) {\n            if (optionName !== 'plugins') { // because plugins is special-cased\n                if (raw[optionName] === currentRaw[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        (optionName in currentRaw) &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName]))) {\n                    refined[optionName] = currentRefined[optionName];\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                    anyChanges = true;\n                }\n                else {\n                    extra[optionName] = currentRaw[optionName];\n                }\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks: pluginHooks,\n            availableLocaleData: availableLocaleData,\n            localeDefaults: localeDefaults,\n            extra: extra,\n        };\n    };\n    CalendarDataManager.prototype._computeCurrentViewData = function (viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        var viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(\"viewType \\\"\" + viewType + \"\\\" is not available. Please make sure you've loaded all neccessary plugins\");\n        }\n        var _a = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            monthMode: refinedOptions.monthMode,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        var viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec: viewSpec, options: refinedOptions, dateProfileGenerator: dateProfileGenerator, viewApi: viewApi };\n    };\n    CalendarDataManager.prototype.processRawViewOptions = function (viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refiners = __assign(__assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var refined = {};\n        var currentRaw = this.currentViewOptionsInput;\n        var currentRefined = this.currentViewOptionsRefined;\n        var anyChanges = false;\n        var extra = {};\n        for (var optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName] ||\n                (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                    COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], currentRaw[optionName]))) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], this.currentCalendarOptionsInput[optionName]))) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra: extra,\n        };\n    };\n    return CalendarDataManager;\n}());\nfunction buildDateEnv(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    var locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone: timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale: locale,\n        weekNumberCalculation: weekNumberCalculation,\n        firstDay: firstDay,\n        weekText: weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator: defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    var ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    var DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewApi(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, function (eventSource) { return eventSource.ui; });\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    var eventUiBases = { '': eventUiSingleBase };\n    for (var defId in eventDefs) {\n        var def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    var options = calendarContext.options;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (var _i = 0, _a = context.pluginHooks.isLoadingFuncs; _i < _a.length; _i++) {\n        var isLoadingFunc = _a[_i];\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (var optionName in options) {\n        console.warn(\"Unknown option '\" + optionName + \"'\" +\n            (viewName ? \" for view '\" + viewName + \"'\" : ''));\n    }\n}\n\n// TODO: move this to react plugin?\nvar CalendarDataProvider = /** @class */ (function (_super) {\n    __extends(CalendarDataProvider, _super);\n    function CalendarDataProvider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleData = function (data) {\n            if (!_this.dataManager) { // still within initial run, before assignment in constructor\n                // eslint-disable-next-line react/no-direct-mutation-state\n                _this.state = data; // can't use setState yet\n            }\n            else {\n                _this.setState(data);\n            }\n        };\n        _this.dataManager = new CalendarDataManager({\n            optionOverrides: props.optionOverrides,\n            calendarApi: props.calendarApi,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    CalendarDataProvider.prototype.render = function () {\n        return this.props.children(this.state);\n    };\n    CalendarDataProvider.prototype.componentDidUpdate = function (prevProps) {\n        var newOptionOverrides = this.props.optionOverrides;\n        if (newOptionOverrides !== prevProps.optionOverrides) { // prevent recursive handleData\n            this.dataManager.resetOptions(newOptionOverrides);\n        }\n    };\n    return CalendarDataProvider;\n}(Component));\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nvar NamedTimeZoneImpl = /** @class */ (function () {\n    function NamedTimeZoneImpl(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n    return NamedTimeZoneImpl;\n}());\n\nvar SegHierarchy = /** @class */ (function () {\n    function SegHierarchy() {\n        // settings\n        this.strictOrder = false;\n        this.allowReslicing = false;\n        this.maxCoord = -1; // -1 means no max\n        this.maxStackCnt = -1; // -1 means no max\n        this.levelCoords = []; // ordered\n        this.entriesByLevel = []; // parallel with levelCoords\n        this.stackCnts = {}; // TODO: use better technique!?\n    }\n    SegHierarchy.prototype.addSegs = function (inputs) {\n        var hiddenEntries = [];\n        for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n            var input = inputs_1[_i];\n            this.insertEntry(input, hiddenEntries);\n        }\n        return hiddenEntries;\n    };\n    SegHierarchy.prototype.insertEntry = function (entry, hiddenEntries) {\n        var insertion = this.findInsertion(entry);\n        if (this.isInsertionValid(insertion, entry)) {\n            this.insertEntryAt(entry, insertion);\n            return 1;\n        }\n        return this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    };\n    SegHierarchy.prototype.isInsertionValid = function (insertion, entry) {\n        return (this.maxCoord === -1 || insertion.levelCoord + entry.thickness <= this.maxCoord) &&\n            (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n    };\n    // returns number of new entries inserted\n    SegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        if (this.allowReslicing && insertion.touchingEntry) {\n            return this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.splitEntry = function (entry, barrier, hiddenEntries) {\n        var partCnt = 0;\n        var splitHiddenEntries = [];\n        var entrySpan = entry.span;\n        var barrierSpan = barrier.span;\n        if (entrySpan.start < barrierSpan.start) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: entrySpan.start, end: barrierSpan.start },\n            }, splitHiddenEntries);\n        }\n        if (entrySpan.end > barrierSpan.end) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: barrierSpan.end, end: entrySpan.end },\n            }, splitHiddenEntries);\n        }\n        if (partCnt) {\n            hiddenEntries.push.apply(hiddenEntries, __spreadArray([{\n                    index: entry.index,\n                    thickness: entry.thickness,\n                    span: intersectSpans(barrierSpan, entrySpan), // guaranteed to intersect\n                }], splitHiddenEntries));\n            return partCnt;\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.insertEntryAt = function (entry, insertion) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        if (insertion.lateral === -1) {\n            // create a new level\n            insertAt(levelCoords, insertion.level, insertion.levelCoord);\n            insertAt(entriesByLevel, insertion.level, [entry]);\n        }\n        else {\n            // insert into existing level\n            insertAt(entriesByLevel[insertion.level], insertion.lateral, entry);\n        }\n        this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n    };\n    SegHierarchy.prototype.findInsertion = function (newEntry) {\n        var _a = this, levelCoords = _a.levelCoords, entriesByLevel = _a.entriesByLevel, strictOrder = _a.strictOrder, stackCnts = _a.stackCnts;\n        var levelCnt = levelCoords.length;\n        var candidateCoord = 0;\n        var touchingLevel = -1;\n        var touchingLateral = -1;\n        var touchingEntry = null;\n        var stackCnt = 0;\n        for (var trackingLevel = 0; trackingLevel < levelCnt; trackingLevel += 1) {\n            var trackingCoord = levelCoords[trackingLevel];\n            // if the current level is past the placed entry, we have found a good empty space and can stop.\n            // if strictOrder, keep finding more lateral intersections.\n            if (!strictOrder && trackingCoord >= candidateCoord + newEntry.thickness) {\n                break;\n            }\n            var trackingEntries = entriesByLevel[trackingLevel];\n            var trackingEntry = void 0;\n            var searchRes = binarySearch(trackingEntries, newEntry.span.start, getEntrySpanEnd); // find first entry after newEntry's end\n            var lateralIndex = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n            while ( // loop through entries that horizontally intersect\n            (trackingEntry = trackingEntries[lateralIndex]) && // but not past the whole entry list\n                trackingEntry.span.start < newEntry.span.end // and not entirely past newEntry\n            ) {\n                var trackingEntryBottom = trackingCoord + trackingEntry.thickness;\n                // intersects into the top of the candidate?\n                if (trackingEntryBottom > candidateCoord) {\n                    candidateCoord = trackingEntryBottom;\n                    touchingEntry = trackingEntry;\n                    touchingLevel = trackingLevel;\n                    touchingLateral = lateralIndex;\n                }\n                // butts up against top of candidate? (will happen if just intersected as well)\n                if (trackingEntryBottom === candidateCoord) {\n                    // accumulate the highest possible stackCnt of the trackingEntries that butt up\n                    stackCnt = Math.max(stackCnt, stackCnts[buildEntryKey(trackingEntry)] + 1);\n                }\n                lateralIndex += 1;\n            }\n        }\n        // the destination level will be after touchingEntry's level. find it\n        var destLevel = 0;\n        if (touchingEntry) {\n            destLevel = touchingLevel + 1;\n            while (destLevel < levelCnt && levelCoords[destLevel] < candidateCoord) {\n                destLevel += 1;\n            }\n        }\n        // if adding to an existing level, find where to insert\n        var destLateral = -1;\n        if (destLevel < levelCnt && levelCoords[destLevel] === candidateCoord) {\n            destLateral = binarySearch(entriesByLevel[destLevel], newEntry.span.end, getEntrySpanEnd)[0];\n        }\n        return {\n            touchingLevel: touchingLevel,\n            touchingLateral: touchingLateral,\n            touchingEntry: touchingEntry,\n            stackCnt: stackCnt,\n            levelCoord: candidateCoord,\n            level: destLevel,\n            lateral: destLateral,\n        };\n    };\n    // sorted by levelCoord (lowest to highest)\n    SegHierarchy.prototype.toRects = function () {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        var levelCnt = entriesByLevel.length;\n        var rects = [];\n        for (var level = 0; level < levelCnt; level += 1) {\n            var entries = entriesByLevel[level];\n            var levelCoord = levelCoords[level];\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var entry = entries_1[_i];\n                rects.push(__assign(__assign({}, entry), { levelCoord: levelCoord }));\n            }\n        }\n        return rects;\n    };\n    return SegHierarchy;\n}());\nfunction getEntrySpanEnd(entry) {\n    return entry.span.end;\n}\nfunction buildEntryKey(entry) {\n    return entry.index + ':' + entry.span.start;\n}\n// returns groups with entries sorted by input order\nfunction groupIntersectingEntries(entries) {\n    var merges = [];\n    for (var _i = 0, entries_2 = entries; _i < entries_2.length; _i++) {\n        var entry = entries_2[_i];\n        var filteredMerges = [];\n        var hungryMerge = {\n            span: entry.span,\n            entries: [entry],\n        };\n        for (var _a = 0, merges_1 = merges; _a < merges_1.length; _a++) {\n            var merge = merges_1[_a];\n            if (intersectSpans(merge.span, hungryMerge.span)) {\n                hungryMerge = {\n                    entries: merge.entries.concat(hungryMerge.entries),\n                    span: joinSpans(merge.span, hungryMerge.span),\n                };\n            }\n            else {\n                filteredMerges.push(merge);\n            }\n        }\n        filteredMerges.push(hungryMerge);\n        merges = filteredMerges;\n    }\n    return merges;\n}\nfunction joinSpans(span0, span1) {\n    return {\n        start: Math.min(span0.start, span1.start),\n        end: Math.max(span0.end, span1.end),\n    };\n}\nfunction intersectSpans(span0, span1) {\n    var start = Math.max(span0.start, span1.start);\n    var end = Math.min(span0.end, span1.end);\n    if (start < end) {\n        return { start: start, end: end };\n    }\n    return null;\n}\n// general util\n// ---------------------------------------------------------------------------------------------------------------------\nfunction insertAt(arr, index, item) {\n    arr.splice(index, 0, item);\n}\nfunction binarySearch(a, searchVal, getItemVal) {\n    var startIndex = 0;\n    var endIndex = a.length; // exclusive\n    if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n        return [0, 0];\n    }\n    if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n        return [endIndex, 0];\n    }\n    while (startIndex < endIndex) {\n        var middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n        var middleVal = getItemVal(a[middleIndex]);\n        if (searchVal < middleVal) {\n            endIndex = middleIndex;\n        }\n        else if (searchVal > middleVal) {\n            startIndex = middleIndex + 1;\n        }\n        else { // equal!\n            return [middleIndex, 1];\n        }\n    }\n    return [startIndex, 0];\n}\n\nvar Interaction = /** @class */ (function () {\n    function Interaction(settings) {\n        this.component = settings.component;\n        this.isHitComboAllowed = settings.isHitComboAllowed || null;\n    }\n    Interaction.prototype.destroy = function () {\n    };\n    return Interaction;\n}());\nfunction parseInteractionSettings(component, input) {\n    return {\n        component: component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n        isHitComboAllowed: input.isHitComboAllowed || null,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    var _a;\n    return _a = {},\n        _a[settings.component.uid] = settings,\n        _a;\n}\n// global state\nvar interactionSettingsStore = {};\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nvar ElementDragging = /** @class */ (function () {\n    function ElementDragging(el, selector) {\n        this.emitter = new Emitter();\n    }\n    ElementDragging.prototype.destroy = function () {\n    };\n    ElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        // optional\n    };\n    return ElementDragging;\n}());\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nvar config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nvar DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    var _a = refineProps(raw, DRAG_META_REFINERS), refined = _a.refined, extra = _a.extra;\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\nvar ToolbarSection = /** @class */ (function (_super) {\n    __extends(ToolbarSection, _super);\n    function ToolbarSection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ToolbarSection.prototype.render = function () {\n        var _this = this;\n        var children = this.props.widgetGroups.map(function (widgetGroup) { return _this.renderWidgetGroup(widgetGroup); });\n        return createElement.apply(void 0, __spreadArray(['div', { className: 'fc-toolbar-chunk' }], children));\n    };\n    ToolbarSection.prototype.renderWidgetGroup = function (widgetGroup) {\n        var props = this.props;\n        var theme = this.context.theme;\n        var children = [];\n        var isOnlyButtons = true;\n        for (var _i = 0, widgetGroup_1 = widgetGroup; _i < widgetGroup_1.length; _i++) {\n            var widget = widgetGroup_1[_i];\n            var buttonName = widget.buttonName, buttonClick = widget.buttonClick, buttonText = widget.buttonText, buttonIcon = widget.buttonIcon, buttonHint = widget.buttonHint;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\", id: props.titleId }, props.title));\n            }\n            else {\n                var isPressed = buttonName === props.activeButton;\n                var isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                var buttonClasses = [\"fc-\" + buttonName + \"-button\", theme.getClass('button')];\n                if (isPressed) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                children.push(createElement(\"button\", { type: \"button\", title: typeof buttonHint === 'function' ? buttonHint(props.navUnit) : buttonHint, disabled: isDisabled, \"aria-pressed\": isPressed, className: buttonClasses.join(' '), onClick: buttonClick }, buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            var groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement.apply(void 0, __spreadArray(['div', { className: groupClassName }], children));\n        }\n        return children[0];\n    };\n    return ToolbarSection;\n}(BaseComponent));\n\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Toolbar.prototype.render = function () {\n        var _a = this.props, model = _a.model, extraClassName = _a.extraClassName;\n        var forceLtr = false;\n        var startContent;\n        var endContent;\n        var sectionWidgets = model.sectionWidgets;\n        var centerContent = sectionWidgets.center;\n        if (sectionWidgets.left) {\n            forceLtr = true;\n            startContent = sectionWidgets.left;\n        }\n        else {\n            startContent = sectionWidgets.start;\n        }\n        if (sectionWidgets.right) {\n            forceLtr = true;\n            endContent = sectionWidgets.right;\n        }\n        else {\n            endContent = sectionWidgets.end;\n        }\n        var classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    };\n    Toolbar.prototype.renderSection = function (key, widgetGroups) {\n        var props = this.props;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, navUnit: props.navUnit, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled, titleId: props.titleId }));\n    };\n    return Toolbar;\n}(BaseComponent));\n\n// TODO: do function component?\nvar ViewContainer = /** @class */ (function (_super) {\n    __extends(ViewContainer, _super);\n    function ViewContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            availableWidth: null,\n        };\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n            _this.updateAvailableWidth();\n        };\n        _this.handleResize = function () {\n            _this.updateAvailableWidth();\n        };\n        return _this;\n    }\n    ViewContainer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var aspectRatio = props.aspectRatio;\n        var classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        var height = '';\n        var paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = (1 / aspectRatio) * 100 + \"%\";\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { \"aria-labelledby\": props.labeledById, ref: this.handleEl, className: classNames.join(' '), style: { height: height, paddingBottom: paddingBottom } }, props.children));\n    };\n    ViewContainer.prototype.componentDidMount = function () {\n        this.context.addResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.updateAvailableWidth = function () {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    };\n    return ViewContainer;\n}(BaseComponent));\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nvar EventClicking = /** @class */ (function (_super) {\n    __extends(EventClicking, _super);\n    function EventClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handleSegClick = function (ev, segEl) {\n            var component = _this.component;\n            var context = component.context;\n            var seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                var hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                var url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventApi(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        _this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        _this.handleSegClick);\n        return _this;\n    }\n    return EventClicking;\n}(Interaction));\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nvar EventHovering = /** @class */ (function (_super) {\n    __extends(EventHovering, _super);\n    function EventHovering(settings) {\n        var _this = _super.call(this, settings) || this;\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        _this.handleEventElRemove = function (el) {\n            if (el === _this.currentSegEl) {\n                _this.handleSegLeave(null, _this.currentSegEl);\n            }\n        };\n        _this.handleSegEnter = function (ev, segEl) {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                _this.currentSegEl = segEl;\n                _this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        _this.handleSegLeave = function (ev, segEl) {\n            if (_this.currentSegEl) {\n                _this.currentSegEl = null;\n                _this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        _this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        _this.handleSegEnter, _this.handleSegLeave);\n        return _this;\n    }\n    EventHovering.prototype.destroy = function () {\n        this.removeHoverListeners();\n    };\n    EventHovering.prototype.triggerEvent = function (publicEvName, ev, segEl) {\n        var component = this.component;\n        var context = component.context;\n        var seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventApi(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    };\n    return EventHovering;\n}(Interaction));\n\nvar CalendarContent = /** @class */ (function (_super) {\n    __extends(CalendarContent, _super);\n    function CalendarContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildViewContext = memoize(buildViewContext);\n        _this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        _this.buildToolbarProps = memoize(buildToolbarProps);\n        _this.headerRef = createRef();\n        _this.footerRef = createRef();\n        _this.interactionsStore = {};\n        // eslint-disable-next-line\n        _this.state = {\n            viewLabelId: getUniqueDomId(),\n        };\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.registerInteractiveComponent = function (component, settingsInput) {\n            var settings = parseInteractionSettings(component, settingsInput);\n            var DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            var interactionClasses = DEFAULT_INTERACTIONS.concat(_this.props.pluginHooks.componentInteractions);\n            var interactions = interactionClasses.map(function (TheInteractionClass) { return new TheInteractionClass(settings); });\n            _this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        _this.unregisterInteractiveComponent = function (component) {\n            var listeners = _this.interactionsStore[component.uid];\n            if (listeners) {\n                for (var _i = 0, listeners_1 = listeners; _i < listeners_1.length; _i++) {\n                    var listener = listeners_1[_i];\n                    listener.destroy();\n                }\n                delete _this.interactionsStore[component.uid];\n            }\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.resizeRunner = new DelayedRunner(function () {\n            _this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            _this.props.emitter.trigger('windowResize', { view: _this.props.viewApi });\n        });\n        _this.handleWindowResize = function (ev) {\n            var options = _this.props.options;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                _this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n        return _this;\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    CalendarContent.prototype.render = function () {\n        var props = this.props;\n        var toolbarConfig = props.toolbarConfig, options = props.options;\n        var toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        var viewVGrow = false;\n        var viewHeight = '';\n        var viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        var viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        var viewLabelId = (toolbarConfig.header && toolbarConfig.header.hasTitle)\n            ? this.state.viewLabelId\n            : '';\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.header && (createElement(Toolbar, __assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.header, titleId: viewLabelId }, toolbarProps))),\n            createElement(ViewContainer, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, labeledById: viewLabelId },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footer && (createElement(Toolbar, __assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footer, titleId: \"\" }, toolbarProps)))));\n    };\n    CalendarContent.prototype.componentDidMount = function () {\n        var props = this.props;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map(function (CalendarInteractionClass) { return new CalendarInteractionClass(props); });\n        window.addEventListener('resize', this.handleWindowResize);\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    };\n    CalendarContent.prototype.componentDidUpdate = function (prevProps) {\n        var props = this.props;\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    };\n    CalendarContent.prototype.componentWillUnmount = function () {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (var _i = 0, _a = this.calendarInteractions; _i < _a.length; _i++) {\n            var interaction = _a[_i];\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    };\n    CalendarContent.prototype.buildAppendContent = function () {\n        var props = this.props;\n        var children = props.pluginHooks.viewContainerAppends.map(function (buildAppendContent) { return buildAppendContent(props); });\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], children));\n    };\n    CalendarContent.prototype.renderView = function (props) {\n        var pluginHooks = props.pluginHooks;\n        var viewSpec = props.viewSpec;\n        var viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        var transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n            var transformer = transformers_1[_i];\n            __assign(viewProps, transformer.transform(viewProps, props));\n        }\n        var ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, __assign({}, viewProps)));\n    };\n    return CalendarContent;\n}(PureComponent));\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    var todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    var prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    var nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title: title,\n        activeButton: viewSpec.type,\n        navUnit: viewSpec.singleUnit,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map(function (TheClass) { return new TheClass(); });\n}\n\nvar CalendarRoot = /** @class */ (function (_super) {\n    __extends(CalendarRoot, _super);\n    function CalendarRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            forPrint: false,\n        };\n        _this.handleBeforePrint = function () {\n            _this.setState({ forPrint: true });\n        };\n        _this.handleAfterPrint = function () {\n            _this.setState({ forPrint: false });\n        };\n        return _this;\n    }\n    CalendarRoot.prototype.render = function () {\n        var props = this.props;\n        var options = props.options;\n        var forPrint = this.state.forPrint;\n        var isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        var height = (!isHeightAuto && options.height != null) ? options.height : '';\n        var classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            \"fc-direction-\" + options.direction,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    };\n    CalendarRoot.prototype.componentDidMount = function () {\n        var emitter = this.props.emitter;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    };\n    CalendarRoot.prototype.componentWillUnmount = function () {\n        var emitter = this.props.emitter;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    };\n    return CalendarRoot;\n}(BaseComponent));\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nvar CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner$1(hookProps) {\n    return hookProps.text;\n}\n\nvar TableDateCell = /** @class */ (function (_super) {\n    __extends(TableDateCell, _super);\n    function TableDateCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDateCell.prototype.render = function () {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options, theme = _a.theme, viewApi = _a.viewApi;\n        var props = this.props;\n        var date = props.date, dateProfile = props.dateProfile;\n        var dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        var navLinkAttrs = (!dayMeta.isDisabled && props.colCnt > 1)\n            ? buildNavLinkAttrs(this.context, date)\n            : {};\n        var hookProps = __assign(__assign(__assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraHookProps), { text: text }), dayMeta);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, role: \"columnheader\", className: classNames.concat(customClassNames).join(' '), \"data-date\": !dayMeta.isDisabled ? formatDayString(date) : undefined, colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(\"a\", __assign({ ref: innerElRef, className: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky ? 'fc-sticky' : '',\n                ].join(' ') }, navLinkAttrs), innerContent))))); }));\n    };\n    return TableDateCell;\n}(BaseComponent));\n\nvar WEEKDAY_FORMAT = createFormatter({ weekday: 'long' });\nvar TableDowCell = /** @class */ (function (_super) {\n    __extends(TableDowCell, _super);\n    function TableDowCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDowCell.prototype.render = function () {\n        var props = this.props;\n        var _a = this.context, dateEnv = _a.dateEnv, theme = _a.theme, viewApi = _a.viewApi, options = _a.options;\n        var date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        var dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dateMeta, theme), props.extraClassNames || []);\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        var hookProps = __assign(__assign(__assign(__assign({ // TODO: make this public?\n            date: date }, dateMeta), { view: viewApi }), props.extraHookProps), { text: text });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, role: \"columnheader\", className: classNames.concat(customClassNames).join(' '), colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n                createElement(\"a\", { \"aria-label\": dateEnv.format(date, WEEKDAY_FORMAT), className: [\n                        'fc-col-header-cell-cushion',\n                        props.isSticky ? 'fc-sticky' : '',\n                    ].join(' '), ref: innerElRef }, innerContent)))); }));\n    };\n    return TableDowCell;\n}(BaseComponent));\n\nvar NowTimer = /** @class */ (function (_super) {\n    __extends(NowTimer, _super);\n    function NowTimer(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        _this.initialNowQueriedMs = new Date().valueOf();\n        _this.state = _this.computeTiming().currentState;\n        return _this;\n    }\n    NowTimer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return props.children(state.nowDate, state.todayRange);\n    };\n    NowTimer.prototype.componentDidMount = function () {\n        this.setTimeout();\n    };\n    NowTimer.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    };\n    NowTimer.prototype.componentWillUnmount = function () {\n        this.clearTimeout();\n    };\n    NowTimer.prototype.computeTiming = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        var currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        var nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        var waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs: waitMs,\n        };\n    };\n    NowTimer.prototype.setTimeout = function () {\n        var _this = this;\n        var _a = this.computeTiming(), nextState = _a.nextState, waitMs = _a.waitMs;\n        this.timeoutId = setTimeout(function () {\n            _this.setState(nextState, function () {\n                _this.setTimeout();\n            });\n        }, waitMs);\n    };\n    NowTimer.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    };\n    NowTimer.contextType = ViewContextType;\n    return NowTimer;\n}(Component));\nfunction buildDayRange(date) {\n    var start = startOfDay(date);\n    var end = addDays(start, 1);\n    return { start: start, end: end };\n}\n\nvar DayHeader = /** @class */ (function (_super) {\n    __extends(DayHeader, _super);\n    function DayHeader() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n        return _this;\n    }\n    DayHeader.prototype.render = function () {\n        var context = this.context;\n        var _a = this.props, dates = _a.dates, dateProfile = _a.dateProfile, datesRepDistinctDays = _a.datesRepDistinctDays, renderIntro = _a.renderIntro;\n        var dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(\"tr\", { role: \"row\" },\n            renderIntro && renderIntro('day'),\n            dates.map(function (date) { return (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))); }))); }));\n    };\n    return DayHeader;\n}(BaseComponent));\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nvar DaySeriesModel = /** @class */ (function () {\n    function DaySeriesModel(range, dateProfileGenerator) {\n        var date = range.start;\n        var end = range.end;\n        var indices = [];\n        var dates = [];\n        var dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    DaySeriesModel.prototype.sliceRange = function (range) {\n        var firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        var lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        var clippedFirstIndex = Math.max(0, firstIndex);\n        var clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    };\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    DaySeriesModel.prototype.getDateDayIndex = function (date) {\n        var indices = this.indices;\n        var dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    };\n    return DaySeriesModel;\n}());\n\nvar DayTableModel = /** @class */ (function () {\n    function DayTableModel(daySeries, breakOnWeeks) {\n        var dates = daySeries.dates;\n        var daysPerRow;\n        var firstDay;\n        var rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    DayTableModel.prototype.buildCells = function () {\n        var rows = [];\n        for (var row = 0; row < this.rowCnt; row += 1) {\n            var cells = [];\n            for (var col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    };\n    DayTableModel.prototype.buildCell = function (row, col) {\n        var date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date: date,\n        };\n    };\n    DayTableModel.prototype.buildHeaderDates = function () {\n        var dates = [];\n        for (var col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    };\n    DayTableModel.prototype.sliceRange = function (range) {\n        var colCnt = this.colCnt;\n        var seriesSeg = this.daySeries.sliceRange(range);\n        var segs = [];\n        if (seriesSeg) {\n            var firstIndex = seriesSeg.firstIndex, lastIndex = seriesSeg.lastIndex;\n            var index = firstIndex;\n            while (index <= lastIndex) {\n                var row = Math.floor(index / colCnt);\n                var nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row: row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    };\n    return DayTableModel;\n}());\n\nvar Slicer = /** @class */ (function () {\n    function Slicer() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    Slicer.prototype.sliceProps = function (props, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        var eventUiBases = props.eventUiBases;\n        var eventSegs = this.sliceEventStore.apply(this, __spreadArray([props.eventStore, eventUiBases, dateProfile, nextDayThreshold], extraArgs));\n        return {\n            dateSelectionSegs: this.sliceDateSelection.apply(this, __spreadArray([props.dateSelection, eventUiBases, context], extraArgs)),\n            businessHourSegs: this.sliceBusinessHours.apply(this, __spreadArray([props.businessHours, dateProfile, nextDayThreshold, context], extraArgs)),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag.apply(this, __spreadArray([props.eventDrag, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventResize: this.sliceEventResize.apply(this, __spreadArray([props.eventResize, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    };\n    Slicer.prototype.sliceNowDate = function (// does not memoize\n    date, context) {\n        var extraArgs = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            extraArgs[_i - 2] = arguments[_i];\n        }\n        return this._sliceDateSpan.apply(this, __spreadArray([{ range: { start: date, end: addMs(date, 1) }, allDay: false },\n            {},\n            context], extraArgs));\n    };\n    Slicer.prototype._sliceBusinessHours = function (businessHours, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore.apply(this, __spreadArray([expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context),\n            {},\n            dateProfile,\n            nextDayThreshold], extraArgs)).bg;\n    };\n    Slicer.prototype._sliceEventStore = function (eventStore, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (eventStore) {\n            var rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    };\n    Slicer.prototype._sliceInteraction = function (interaction, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!interaction) {\n            return null;\n        }\n        var rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    };\n    Slicer.prototype._sliceDateSpan = function (dateSpan, eventUiBases, context) {\n        var extraArgs = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            extraArgs[_i - 3] = arguments[_i];\n        }\n        if (!dateSpan) {\n            return [];\n        }\n        var eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n        var segs = this.sliceRange.apply(this, __spreadArray([dateSpan.range], extraArgs));\n        for (var _a = 0, segs_1 = segs; _a < segs_1.length; _a++) {\n            var seg = segs_1[_a];\n            seg.eventRange = eventRange;\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRanges = function (eventRanges, extraArgs) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRange = function (eventRange, extraArgs) {\n        var dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        var segs = this.sliceRange.apply(this, __spreadArray([dateRange], extraArgs));\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    };\n    return Slicer;\n}());\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    var range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, dateProfile, context) {\n    var instances = interaction.mutatedEvents.instances;\n    for (var instanceId in instances) {\n        if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n            return false;\n        }\n    }\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, dateProfile, context) {\n    if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n        return false;\n    }\n    return isNewPropsValid({ dateSelection: dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    var calendarState = context.getCurrentData();\n    var props = __assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta, filterConfig) {\n    if (dateSpanMeta === void 0) { dateSpanMeta = {}; }\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var currentState = context.getCurrentData();\n    var interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    var subjectEventStore = interaction.mutatedEvents;\n    var subjectDefs = subjectEventStore.defs;\n    var subjectInstances = subjectEventStore.instances;\n    var subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    var otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    var otherDefs = otherEventStore.defs;\n    var otherInstances = otherEventStore.instances;\n    var otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (var subjectInstanceId in subjectInstances) {\n        var subjectInstance = subjectInstances[subjectInstanceId];\n        var subjectRange = subjectInstance.range;\n        var subjectConfig = subjectConfigs[subjectInstance.defId];\n        var subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        var eventOverlap = context.options.eventOverlap;\n        var eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (var otherInstanceId in otherInstances) {\n            var otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                var otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventApi(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventApi(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        var calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (var _i = 0, _a = subjectConfig.allows; _i < _a.length; _i++) {\n            var subjectAllow = _a[_i];\n            var subjectDateSpan = __assign(__assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            var origDef = calendarEventStore.defs[subjectDef.defId];\n            var origInstance = calendarEventStore.instances[subjectInstanceId];\n            var eventApi = void 0;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventApi(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventApi(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var relevantEventStore = state.eventStore;\n    var relevantDefs = relevantEventStore.defs;\n    var relevantInstances = relevantEventStore.instances;\n    var selection = state.dateSelection;\n    var selectionRange = selection.range;\n    var selectionConfig = context.getCurrentData().selectionConfig;\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    var selectOverlap = context.options.selectOverlap;\n    var selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (var relevantInstanceId in relevantInstances) {\n        var relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventApi(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (var _i = 0, _a = selectionConfig.allows; _i < _a.length; _i++) {\n        var selectionAllow = _a[_i];\n        var fullDateSpan = __assign(__assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (var _i = 0, constraints_1 = constraints; _i < constraints_1.length; _i++) {\n        var constraint = constraints_1[_i];\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, function (eventDef) { return eventDef.groupId === constraint; }));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    var instances = eventStore.instances;\n    var ranges = [];\n    for (var instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (var _i = 0, outerRanges_1 = outerRanges; _i < outerRanges_1.length; _i++) {\n        var outerRange = outerRanges_1[_i];\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nvar Scroller = /** @class */ (function (_super) {\n    __extends(Scroller, _super);\n    function Scroller() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    Scroller.prototype.render = function () {\n        var props = this.props;\n        var liquid = props.liquid, liquidIsAbsolute = props.liquidIsAbsolute;\n        var isAbsolute = liquid && liquidIsAbsolute;\n        var className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    };\n    Scroller.prototype.needsXScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.needsYScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.getXScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    Scroller.prototype.getYScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    return Scroller;\n}(BaseComponent));\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nvar RefMap = /** @class */ (function () {\n    function RefMap(masterCallback) {\n        var _this = this;\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = function (val, key) {\n            var _a = _this, depths = _a.depths, currentMap = _a.currentMap;\n            var removed = false;\n            var added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete _this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (_this.masterCallback) {\n                if (removed) {\n                    _this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    _this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    RefMap.prototype.createRef = function (key) {\n        var _this = this;\n        var refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = function (val) {\n                _this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    };\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    RefMap.prototype.collect = function (startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    };\n    RefMap.prototype.getAll = function () {\n        return hashValuesToArray(this.currentMap);\n    };\n    return RefMap;\n}());\n\nfunction computeShrinkWidth(chunkEls) {\n    var shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    var largestWidth = 0;\n    for (var _i = 0, shrinkCells_1 = shrinkCells; _i < shrinkCells_1.length; _i++) {\n        var shrinkCell = shrinkCells_1[_i];\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg, isHeader) {\n    var expandRows = arg.expandRows;\n    var content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            role: 'presentation',\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n            },\n        }, arg.tableColGroupNode, createElement(isHeader ? 'thead' : 'tbody', {\n            role: 'presentation',\n        }, typeof chunkConfig.rowContent === 'function'\n            ? chunkConfig.rowContent(arg)\n            : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    var colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n        var colProps = cols_1[_i];\n        var span = colProps.span || 1;\n        for (var i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement.apply(void 0, __spreadArray(['colgroup', {}], colNodes));\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (var _i = 0, cols_2 = cols; _i < cols_2.length; _i++) {\n        var col = cols_2[_i];\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    var classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    var classNames = [\n        'fc-scrollgrid-section',\n        \"fc-scrollgrid-section-\" + sectionConfig.type,\n        sectionConfig.className, // used?\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    var stickyHeaderDates = options.stickyHeaderDates;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    var stickyFooterScrollbar = options.stickyFooterScrollbar;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nvar SimpleScrollGrid = /** @class */ (function (_super) {\n    __extends(SimpleScrollGrid, _super);\n    function SimpleScrollGrid() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processCols = memoize(function (a) { return a; }, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        _this.renderMicroColGroup = memoize(renderMicroColGroup);\n        _this.scrollerRefs = new RefMap();\n        _this.scrollerElRefs = new RefMap(_this._handleScrollerEl.bind(_this));\n        _this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        _this.handleSizing = function () {\n            _this.safeSetState(__assign({ shrinkWidth: _this.computeShrinkWidth() }, _this.computeScrollerDims()));\n        };\n        return _this;\n    }\n    SimpleScrollGrid.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var sectionConfigs = props.sections || [];\n        var cols = this.processCols(props.cols);\n        var microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        var classNames = getScrollGridClassNames(props.liquid, context);\n        if (props.collapsibleWidth) {\n            classNames.push('fc-scrollgrid-collapsible');\n        }\n        // TODO: make DRY\n        var configCnt = sectionConfigs.length;\n        var configI = 0;\n        var currentConfig;\n        var headSectionNodes = [];\n        var bodySectionNodes = [];\n        var footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode, false));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        var isBuggy = !getCanVGrowWithinCell();\n        var roleAttrs = { role: 'rowgroup' };\n        return createElement('table', {\n            role: 'grid',\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement.apply(void 0, __spreadArray(['thead', roleAttrs], headSectionNodes)), Boolean(!isBuggy && bodySectionNodes.length) && createElement.apply(void 0, __spreadArray(['tbody', roleAttrs], bodySectionNodes)), Boolean(!isBuggy && footSectionNodes.length) && createElement.apply(void 0, __spreadArray(['tfoot', roleAttrs], footSectionNodes)), isBuggy && createElement.apply(void 0, __spreadArray(__spreadArray(__spreadArray(['tbody', roleAttrs], headSectionNodes), bodySectionNodes), footSectionNodes)));\n    };\n    SimpleScrollGrid.prototype.renderSection = function (sectionConfig, microColGroupNode, isHeader) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, role: \"presentation\", className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk, isHeader)));\n    };\n    SimpleScrollGrid.prototype.renderChunkTd = function (sectionConfig, microColGroupNode, chunkConfig, isHeader) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        var props = this.props;\n        var _a = this.state, forceYScrollbars = _a.forceYScrollbars, scrollerClientWidths = _a.scrollerClientWidths, scrollerClientHeights = _a.scrollerClientHeights;\n        var needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        var isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        var overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        var sectionKey = sectionConfig.key;\n        var content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: function () { },\n        }, isHeader);\n        return createElement(isHeader ? 'th' : 'td', {\n            ref: chunkConfig.elRef,\n            role: 'presentation',\n        }, createElement(\"div\", { className: \"fc-scroller-harness\" + (isLiquid ? ' fc-scroller-harness-liquid' : '') },\n            createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                : true }, content)));\n    };\n    SimpleScrollGrid.prototype._handleScrollerEl = function (scrollerEl, key) {\n        var section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    };\n    SimpleScrollGrid.prototype.componentDidMount = function () {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.componentDidUpdate = function () {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    };\n    SimpleScrollGrid.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.computeShrinkWidth = function () {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    };\n    SimpleScrollGrid.prototype.computeScrollerDims = function () {\n        var scrollbarWidth = getScrollbarWidths();\n        var _a = this, scrollerRefs = _a.scrollerRefs, scrollerElRefs = _a.scrollerElRefs;\n        var forceYScrollbars = false;\n        var scrollerClientWidths = {};\n        var scrollerClientHeights = {};\n        for (var sectionKey in scrollerRefs.currentMap) {\n            var scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (var _i = 0, _b = this.props.sections; _i < _b.length; _i++) {\n            var section = _b[_i];\n            var sectionKey = section.key;\n            var scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                var harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars: forceYScrollbars, scrollerClientWidths: scrollerClientWidths, scrollerClientHeights: scrollerClientHeights };\n    };\n    return SimpleScrollGrid;\n}(BaseComponent));\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (var _i = 0, sections_1 = sections; _i < sections_1.length; _i++) {\n        var section = sections_1[_i];\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nvar EventRoot = /** @class */ (function (_super) {\n    __extends(EventRoot, _super);\n    function EventRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.elRef = createRef();\n        return _this;\n    }\n    EventRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var seg = props.seg;\n        var eventRange = seg.eventRange;\n        var ui = eventRange.ui;\n        var hookProps = {\n            event: new EventApi(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        var standardClassNames = getEventClassNames(hookProps).concat(ui.classNames);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.eventClassNames, content: options.eventContent, defaultContent: props.defaultContent, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount, elRef: this.elRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, standardClassNames.concat(customClassNames), innerElRef, innerContent, hookProps); }));\n    };\n    EventRoot.prototype.componentDidMount = function () {\n        setElSeg(this.elRef.current, this.props.seg);\n    };\n    /*\n    need to re-assign seg to the element if seg changes, even if the element is the same\n    */\n    EventRoot.prototype.componentDidUpdate = function (prevProps) {\n        var seg = this.props.seg;\n        if (seg !== prevProps.seg) {\n            setElSeg(this.elRef.current, seg);\n        }\n    };\n    return EventRoot;\n}(BaseComponent));\n\n// should not be a purecomponent\nvar StandardEvent = /** @class */ (function (_super) {\n    __extends(StandardEvent, _super);\n    function StandardEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StandardEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg;\n        var timeFormat = context.options.eventTimeFormat || props.defaultTimeFormat;\n        var timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: seg, timeText: timeText, disableDragging: props.disableDragging, disableResizing: props.disableResizing, defaultContent: props.defaultContent || renderInnerContent$1, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"a\", __assign({ className: props.extraClassNames.concat(classNames).join(' '), style: {\n                borderColor: hookProps.borderColor,\n                backgroundColor: hookProps.backgroundColor,\n            }, ref: rootElRef }, getSegAnchorAttrs(seg, context)),\n            createElement(\"div\", { className: \"fc-event-main\", ref: innerElRef, style: { color: hookProps.textColor } }, innerContent),\n            hookProps.isStartResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" }),\n            hookProps.isEndResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))); }));\n    };\n    return StandardEvent;\n}(BaseComponent));\nfunction renderInnerContent$1(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\n\nvar NowIndicatorRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var options = context.options;\n    var hookProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.nowIndicatorClassNames, content: options.nowIndicatorContent, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount }, props.children));\n})); };\n\nvar DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nvar DayCellContent = /** @class */ (function (_super) {\n    __extends(DayCellContent, _super);\n    function DayCellContent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayCellContent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = refineDayCellHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        return (createElement(ContentHook, { hookProps: hookProps, content: options.dayCellContent, defaultContent: props.defaultContent }, props.children));\n    };\n    return DayCellContent;\n}(BaseComponent));\nfunction refineDayCellHookProps(raw) {\n    var date = raw.date, dateEnv = raw.dateEnv;\n    var dayMeta = getDateMeta(date, raw.todayRange, null, raw.dateProfile);\n    return __assign(__assign(__assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { dayNumberText: raw.showDayNumber ? dateEnv.format(date, DAY_NUM_FORMAT) : '' }), raw.extraProps);\n}\n\nvar DayCellRoot = /** @class */ (function (_super) {\n    __extends(DayCellRoot, _super);\n    function DayCellRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.refineHookProps = memoizeObjArg(refineDayCellHookProps);\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    DayCellRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = this.refineHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        var classNames = getDayClassNames(hookProps, context.theme).concat(hookProps.isDisabled\n            ? [] // don't use custom classNames if disabled\n            : this.normalizeClassNames(options.dayCellClassNames, hookProps));\n        var dataAttrs = hookProps.isDisabled ? {} : {\n            'data-date': formatDayString(props.date),\n        };\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, classNames, dataAttrs, hookProps.isDisabled); }));\n    };\n    return DayCellRoot;\n}(BaseComponent));\n\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: \"fc-\" + fillType }));\n}\nvar BgEvent = function (props) { return (createElement(EventRoot, { defaultContent: renderInnerContent, seg: props.seg /* uselesss i think */, timeText: \"\", disableDragging: true, disableResizing: true, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-bg-event'].concat(classNames).join(' '), style: {\n        backgroundColor: hookProps.backgroundColor,\n    } }, innerContent)); })); };\nfunction renderInnerContent(props) {\n    var title = props.event.title;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\n\nvar WeekNumberRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var date = props.date;\n    var format = options.weekNumberFormat || props.defaultFormat;\n    var num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    var text = dateEnv.format(date, format);\n    var hookProps = { num: num, text: text, date: date };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.weekNumberClassNames, content: options.weekNumberContent, defaultContent: renderInner, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount }, props.children));\n})); };\nfunction renderInner(innerProps) {\n    return innerProps.text;\n}\n\nvar PADDING_FROM_VIEWPORT = 10;\nvar Popover = /** @class */ (function (_super) {\n    __extends(Popover, _super);\n    function Popover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            titleId: getUniqueDomId(),\n        };\n        _this.handleRootEl = function (el) {\n            _this.rootEl = el;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        _this.handleDocumentMouseDown = function (ev) {\n            // only hide the popover if the click happened outside the popover\n            var target = getEventTargetViaRoot(ev);\n            if (!_this.rootEl.contains(target)) {\n                _this.handleCloseClick();\n            }\n        };\n        _this.handleDocumentKeyDown = function (ev) {\n            if (ev.key === 'Escape') {\n                _this.handleCloseClick();\n            }\n        };\n        _this.handleCloseClick = function () {\n            var onClose = _this.props.onClose;\n            if (onClose) {\n                onClose();\n            }\n        };\n        return _this;\n    }\n    Popover.prototype.render = function () {\n        var _a = this.context, theme = _a.theme, options = _a.options;\n        var _b = this, props = _b.props, state = _b.state;\n        var classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return createPortal(createElement(\"div\", __assign({ id: props.id, className: classNames.join(' '), \"aria-labelledby\": state.titleId }, props.extraAttrs, { ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\", id: state.titleId }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), title: options.closeHint, onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n    };\n    Popover.prototype.componentDidMount = function () {\n        document.addEventListener('mousedown', this.handleDocumentMouseDown);\n        document.addEventListener('keydown', this.handleDocumentKeyDown);\n        this.updateSize();\n    };\n    Popover.prototype.componentWillUnmount = function () {\n        document.removeEventListener('mousedown', this.handleDocumentMouseDown);\n        document.removeEventListener('keydown', this.handleDocumentKeyDown);\n    };\n    Popover.prototype.updateSize = function () {\n        var isRtl = this.context.isRtl;\n        var _a = this.props, alignmentEl = _a.alignmentEl, alignGridTop = _a.alignGridTop;\n        var rootEl = this.rootEl;\n        var alignmentRect = computeClippedClientRect(alignmentEl);\n        if (alignmentRect) {\n            var popoverDims = rootEl.getBoundingClientRect();\n            // position relative to viewport\n            var popoverTop = alignGridTop\n                ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                : alignmentRect.top;\n            var popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n            // constrain\n            popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n            popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n            popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n            var origin_1 = rootEl.offsetParent.getBoundingClientRect();\n            applyStyle(rootEl, {\n                top: popoverTop - origin_1.top,\n                left: popoverLeft - origin_1.left,\n            });\n        }\n    };\n    return Popover;\n}(BaseComponent));\n\nvar MorePopover = /** @class */ (function (_super) {\n    __extends(MorePopover, _super);\n    function MorePopover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    useEventCenter: false,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    MorePopover.prototype.render = function () {\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv;\n        var props = this.props;\n        var startDate = props.startDate, todayRange = props.todayRange, dateProfile = props.dateProfile;\n        var title = dateEnv.format(startDate, options.dayPopoverFormat);\n        return (createElement(DayCellRoot, { date: startDate, dateProfile: dateProfile, todayRange: todayRange, elRef: this.handleRootEl }, function (rootElRef, dayClassNames, dataAttrs) { return (createElement(Popover, { elRef: rootElRef, id: props.id, title: title, extraClassNames: ['fc-more-popover'].concat(dayClassNames), extraAttrs: dataAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n            createElement(DayCellContent, { date: startDate, dateProfile: dateProfile, todayRange: todayRange }, function (innerElRef, innerContent) { return (innerContent &&\n                createElement(\"div\", { className: \"fc-more-popover-misc\", ref: innerElRef }, innerContent)); }),\n            props.children)); }));\n    };\n    MorePopover.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        var _a = this, rootEl = _a.rootEl, props = _a.props;\n        if (positionLeft >= 0 && positionLeft < elWidth &&\n            positionTop >= 0 && positionTop < elHeight) {\n            return {\n                dateProfile: props.dateProfile,\n                dateSpan: __assign({ allDay: true, range: {\n                        start: props.startDate,\n                        end: props.endDate,\n                    } }, props.extraDateSpan),\n                dayEl: rootEl,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight,\n                },\n                layer: 1, // important when comparing with hits from other components\n            };\n        }\n        return null;\n    };\n    return MorePopover;\n}(DateComponent));\n\nvar MoreLinkRoot = /** @class */ (function (_super) {\n    __extends(MoreLinkRoot, _super);\n    function MoreLinkRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.linkElRef = createRef();\n        _this.state = {\n            isPopoverOpen: false,\n            popoverId: getUniqueDomId(),\n        };\n        _this.handleClick = function (ev) {\n            var _a = _this, props = _a.props, context = _a.context;\n            var moreLinkClick = context.options.moreLinkClick;\n            var date = computeRange(props).start;\n            function buildPublicSeg(seg) {\n                var _a = seg.eventRange, def = _a.def, instance = _a.instance, range = _a.range;\n                return {\n                    event: new EventApi(context, def, instance),\n                    start: context.dateEnv.toDate(range.start),\n                    end: context.dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof moreLinkClick === 'function') {\n                moreLinkClick = moreLinkClick({\n                    date: date,\n                    allDay: Boolean(props.allDayDate),\n                    allSegs: props.allSegs.map(buildPublicSeg),\n                    hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n            if (!moreLinkClick || moreLinkClick === 'popover') {\n                _this.setState({ isPopoverOpen: true });\n            }\n            else if (typeof moreLinkClick === 'string') { // a view name\n                context.calendarApi.zoomTo(date, moreLinkClick);\n            }\n        };\n        _this.handlePopoverClose = function () {\n            _this.setState({ isPopoverOpen: false });\n        };\n        return _this;\n    }\n    MoreLinkRoot.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state;\n        return (createElement(ViewContextType.Consumer, null, function (context) {\n            var viewApi = context.viewApi, options = context.options, calendarApi = context.calendarApi;\n            var moreLinkText = options.moreLinkText;\n            var moreCnt = props.moreCnt;\n            var range = computeRange(props);\n            var text = typeof moreLinkText === 'function' // TODO: eventually use formatWithOrdinals\n                ? moreLinkText.call(calendarApi, moreCnt)\n                : \"+\" + moreCnt + \" \" + moreLinkText;\n            var title = formatWithOrdinals(options.moreLinkHint, [moreCnt], text);\n            var hookProps = {\n                num: moreCnt,\n                shortText: \"+\" + moreCnt,\n                text: text,\n                view: viewApi,\n            };\n            return (createElement(Fragment, null,\n                Boolean(props.moreCnt) && (createElement(RenderHook, { elRef: _this.linkElRef, hookProps: hookProps, classNames: options.moreLinkClassNames, content: options.moreLinkContent, defaultContent: props.defaultContent || renderMoreLinkInner, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, ['fc-more-link'].concat(customClassNames), innerElRef, innerContent, _this.handleClick, title, state.isPopoverOpen, state.isPopoverOpen ? state.popoverId : ''); })),\n                state.isPopoverOpen && (createElement(MorePopover, { id: state.popoverId, startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: _this.parentEl, alignmentEl: props.alignmentElRef.current, alignGridTop: props.alignGridTop, onClose: _this.handlePopoverClose }, props.popoverContent()))));\n        }));\n    };\n    MoreLinkRoot.prototype.componentDidMount = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.componentDidUpdate = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.updateParentEl = function () {\n        if (this.linkElRef.current) {\n            this.parentEl = elementClosest(this.linkElRef.current, '.fc-view-harness');\n        }\n    };\n    return MoreLinkRoot;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\nfunction computeRange(props) {\n    if (props.allDayDate) {\n        return {\n            start: props.allDayDate,\n            end: addDays(props.allDayDate, 1),\n        };\n    }\n    var hiddenSegs = props.hiddenSegs;\n    return {\n        start: computeEarliestSegStart(hiddenSegs),\n        end: computeLatestSegEnd(hiddenSegs),\n    };\n}\nfunction computeEarliestSegStart(segs) {\n    return segs.reduce(pickEarliestStart).eventRange.range.start;\n}\nfunction pickEarliestStart(seg0, seg1) {\n    return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n}\nfunction computeLatestSegEnd(segs) {\n    return segs.reduce(pickLatestEnd).eventRange.range.end;\n}\nfunction pickLatestEnd(seg0, seg1) {\n    return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n}\n\n// exports\n// --------------------------------------------------------------------------------------------------\nvar version = '5.11.3'; // important to type it, so .d.ts has generic string\n\nexport { BASE_OPTION_DEFAULTS, BASE_OPTION_REFINERS, BaseComponent, BgEvent, CalendarApi, CalendarContent, CalendarDataManager, CalendarDataProvider, CalendarRoot, ContentHook, CustomContentRenderContext, DateComponent, DateEnv, DateProfileGenerator, DayCellContent, DayCellRoot, DayHeader, DaySeriesModel, DayTableModel, DelayedRunner, ElementDragging, ElementScrollController, Emitter, EventApi, EventRoot, EventSourceApi, Interaction, MoreLinkRoot, MountHook, NamedTimeZoneImpl, NowIndicatorRoot, NowTimer, PositionCache, RefMap, RenderHook, ScrollController, ScrollResponder, Scroller, SegHierarchy, SimpleScrollGrid, Slicer, Splitter, StandardEvent, TableDateCell, TableDowCell, Theme, ViewApi, ViewContextType, ViewRoot, WeekNumberRoot, WindowScrollController, addDays, addDurations, addMs, addWeeks, allowContextMenu, allowSelection, applyMutationToEventStore, applyStyle, applyStyleProp, asCleanDays, asRoughMinutes, asRoughMs, asRoughSeconds, binarySearch, buildClassNameNormalizer, buildEntryKey, buildEventApis, buildEventRangeKey, buildHashFromArray, buildIsoString, buildNavLinkAttrs, buildSegCompareObj, buildSegTimeText, collectFromHash, combineEventUis, compareByFieldSpec, compareByFieldSpecs, compareNumbers, compareObjs, computeEarliestSegStart, computeEdges, computeFallbackHeaderFormat, computeHeightAndMargins, computeInnerRect, computeRect, computeSegDraggable, computeSegEndResizable, computeSegStartResizable, computeShrinkWidth, computeSmallestCellWidth, computeVisibleDayRange, config, constrainPoint, createAriaClickAttrs, createDuration, createEmptyEventStore, createEventInstance, createEventUi, createFormatter, createPlugin, diffDates, diffDayAndTime, diffDays, diffPoints, diffWeeks, diffWholeDays, diffWholeWeeks, disableCursor, elementClosest, elementMatches, enableCursor, eventTupleToStore, filterEventStoreDefs, filterHash, findDirectChildren, findElements, flexibleCompare, formatDate, formatDayString, formatIsoTimeString, formatRange, getAllowYScrolling, getCanVGrowWithinCell, getClippingParents, getDateMeta, getDayClassNames, getDefaultEventEnd, getElRoot, getElSeg, getEntrySpanEnd, getEventClassNames, getEventTargetViaRoot, getIsRtlScrollbarOnLeft, getRectCenter, getRelevantEvents, getScrollGridClassNames, getScrollbarWidths, getSectionClassNames, getSectionHasLiquidHeight, getSegAnchorAttrs, getSegMeta, getSlotClassNames, getStickyFooterScrollbar, getStickyHeaderDates, getUnequalProps, getUniqueDomId, globalLocales, globalPlugins, greatestDurationDenominator, groupIntersectingEntries, guid, hasBgRendering, hasShrinkWidth, identity, interactionSettingsStore, interactionSettingsToStore, intersectRanges, intersectRects, intersectSpans, isArraysEqual, isColPropsEqual, isDateSelectionValid, isDateSpansEqual, isInt, isInteractionValid, isMultiDayRange, isPropsEqual, isPropsValid, isValidDate, joinSpans, listenBySelector, mapHash, memoize, memoizeArraylike, memoizeHashlike, memoizeObjArg, mergeEventStores, multiplyDuration, padStart, parseBusinessHours, parseClassNames, parseDragMeta, parseEventDef, parseFieldSpecs, parse as parseMarker, pointInsideRect, preventContextMenu, preventDefault, preventSelection, rangeContainsMarker, rangeContainsRange, rangesEqual, rangesIntersect, refineEventDef, refineProps, removeElement, removeExact, renderChunkContent, renderFill, renderMicroColGroup, renderScrollShim, requestJson, sanitizeShrinkWidth, setElSeg, setRef, sliceEventStore, sliceEvents, sortEventSegs, startOfDay, translateRect, triggerDateSelect, unpromisify, version, whenTransitionDone, wholeDivideDurations };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.11.3\nDocs & License: https://fullcalendar.io/\n(c) 2022 Adam Shaw\n*/\nimport './vdom.js';\nimport { __extends, __assign } from 'tslib';\nimport { flushSync, render, createElement, CalendarRoot, CustomContentRenderContext, CalendarContent, unmountComponentAtNode, DelayedRunner, CalendarDataManager, isArraysEqual, applyStyleProp, CalendarApi } from '@fullcalendar/common';\nexport * from '@fullcalendar/common';\n\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    function Calendar(el, optionOverrides) {\n        if (optionOverrides === void 0) { optionOverrides = {}; }\n        var _this = _super.call(this) || this;\n        _this.isRendering = false;\n        _this.isRendered = false;\n        _this.currentClassNames = [];\n        _this.customContentRenderId = 0; // will affect custom generated classNames?\n        _this.handleAction = function (action) {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    _this.renderRunner.tryDrain();\n            }\n        };\n        _this.handleData = function (data) {\n            _this.currentData = data;\n            _this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        _this.handleRenderRequest = function () {\n            if (_this.isRendering) {\n                _this.isRendered = true;\n                var currentData_1 = _this.currentData;\n                flushSync(function () {\n                    render(createElement(CalendarRoot, { options: currentData_1.calendarOptions, theme: currentData_1.theme, emitter: currentData_1.emitter }, function (classNames, height, isHeightAuto, forPrint) {\n                        _this.setClassNames(classNames);\n                        _this.setHeight(height);\n                        return (createElement(CustomContentRenderContext.Provider, { value: _this.customContentRenderId },\n                            createElement(CalendarContent, __assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData_1))));\n                    }), _this.el);\n                });\n            }\n            else if (_this.isRendered) {\n                _this.isRendered = false;\n                unmountComponentAtNode(_this.el);\n                _this.setClassNames([]);\n                _this.setHeight('');\n            }\n        };\n        _this.el = el;\n        _this.renderRunner = new DelayedRunner(_this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides: optionOverrides,\n            calendarApi: _this,\n            onAction: _this.handleAction,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    Object.defineProperty(Calendar.prototype, \"view\", {\n        get: function () { return this.currentData.viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Calendar.prototype.render = function () {\n        var wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    };\n    Calendar.prototype.destroy = function () {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    };\n    Calendar.prototype.updateSize = function () {\n        var _this = this;\n        flushSync(function () {\n            _super.prototype.updateSize.call(_this);\n        });\n    };\n    Calendar.prototype.batchRendering = function (func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    };\n    Calendar.prototype.pauseRendering = function () {\n        this.renderRunner.pause('pauseRendering');\n    };\n    Calendar.prototype.resumeRendering = function () {\n        this.renderRunner.resume('pauseRendering', true);\n    };\n    Calendar.prototype.resetOptions = function (optionOverrides, append) {\n        this.currentDataManager.resetOptions(optionOverrides, append);\n    };\n    Calendar.prototype.setClassNames = function (classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            var classList = this.el.classList;\n            for (var _i = 0, _a = this.currentClassNames; _i < _a.length; _i++) {\n                var className = _a[_i];\n                classList.remove(className);\n            }\n            for (var _b = 0, classNames_1 = classNames; _b < classNames_1.length; _b++) {\n                var className = classNames_1[_b];\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    };\n    Calendar.prototype.setHeight = function (height) {\n        applyStyleProp(this.el, 'height', height);\n    };\n    return Calendar;\n}(CalendarApi));\n\nexport { Calendar };\n//# sourceMappingURL=main.js.map\n","export var OPTION_IS_COMPLEX = {\n    headerToolbar: true,\n    footerToolbar: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\n//# sourceMappingURL=options.js.map","// TODO: add types!\nimport { __assign } from \"tslib\";\n/*\nworks with objects and arrays\n*/\nexport function shallowCopy(val) {\n    if (typeof val === 'object') {\n        if (Array.isArray(val)) {\n            val = Array.prototype.slice.call(val);\n        }\n        else if (val) { // non-null\n            val = __assign({}, val);\n        }\n    }\n    return val;\n}\nexport function mapHash(input, func) {\n    var output = {};\n    for (var key in input) {\n        if (input.hasOwnProperty(key)) {\n            output[key] = func(input[key], key);\n        }\n    }\n    return output;\n}\n//# sourceMappingURL=utils.js.map","import Vue from 'vue';\nimport { createPlugin } from '@fullcalendar/core';\n/*\nwrap it in an object with a `vue` key, which the custom content-type handler system will look for\n*/\nexport function wrapVDomGenerator(vDomGenerator) {\n    return function (props) {\n        return { vue: vDomGenerator(props) };\n    };\n}\nexport function createVueContentTypePlugin(parent) {\n    return createPlugin({\n        contentTypeHandlers: {\n            vue: function () { return buildVDomHandler(parent); }, // looks for the `vue` key\n        }\n    });\n}\nfunction buildVDomHandler(parent) {\n    var currentEl;\n    var v; // the Vue instance\n    function render(el, vDomContent) {\n        if (currentEl !== el) {\n            if (currentEl && v) { // if changing elements, recreate the vue\n                v.$destroy();\n            }\n            currentEl = el;\n        }\n        if (!v) {\n            v = initVue(vDomContent, parent);\n            // vue's mount method *replaces* the given element. create an artificial inner el\n            var innerEl = document.createElement('span');\n            el.appendChild(innerEl);\n            v.$mount(innerEl);\n        }\n        else {\n            v.content = vDomContent;\n        }\n    }\n    function destroy() {\n        if (v) { // needed?\n            v.$destroy();\n        }\n    }\n    return { render: render, destroy: destroy };\n}\nfunction initVue(initialContent, parent) {\n    return new Vue({\n        parent: parent,\n        data: {\n            content: initialContent,\n        },\n        render: function (h) {\n            var content = this.content;\n            // the slot result can be an array, but the returned value of a vue component's\n            // render method must be a single node.\n            if (content.length === 1) {\n                return content[0];\n            }\n            else {\n                return h('span', {}, content);\n            }\n        }\n    });\n}\n//# sourceMappingURL=custom-content-type.js.map","import { __assign } from \"tslib\";\nimport Vue from 'vue';\nimport { Calendar } from '@fullcalendar/core';\nimport { OPTION_IS_COMPLEX } from './options';\nimport { shallowCopy, mapHash } from './utils';\nimport { wrapVDomGenerator, createVueContentTypePlugin } from './custom-content-type';\nvar FullCalendar = Vue.extend({\n    props: {\n        options: Object\n    },\n    data: initData,\n    render: function (createElement) {\n        return createElement('div', {\n            // when renderId is changed, Vue will trigger a real-DOM async rerender, calling beforeUpdate/updated\n            attrs: { 'data-fc-render-id': this.renderId }\n        });\n    },\n    mounted: function () {\n        var internal = this.$options;\n        internal.scopedSlotOptions = mapHash(this.$scopedSlots, wrapVDomGenerator); // needed for buildOptions\n        var calendar = new Calendar(this.$el, this.buildOptions(this.options, this));\n        internal.calendar = calendar;\n        calendar.render();\n    },\n    methods: {\n        getApi: getApi,\n        buildOptions: buildOptions,\n    },\n    beforeUpdate: function () {\n        this.getApi().resumeRendering(); // the watcher handlers paused it\n    },\n    beforeDestroy: function () {\n        this.getApi().destroy();\n    },\n    watch: buildWatchers()\n});\nfunction initData() {\n    return {\n        renderId: 0\n    };\n}\nfunction buildOptions(suppliedOptions, parent) {\n    var internal = this.$options;\n    suppliedOptions = suppliedOptions || {};\n    return __assign(__assign(__assign({}, internal.scopedSlotOptions), suppliedOptions), { plugins: (suppliedOptions.plugins || []).concat([\n            createVueContentTypePlugin(parent)\n        ]) });\n}\nfunction getApi() {\n    var internal = this.$options;\n    return internal.calendar;\n}\nfunction buildWatchers() {\n    var watchers = {\n        // watches changes of ALL options and their nested objects,\n        // but this is only a means to be notified of top-level non-complex options changes.\n        options: {\n            deep: true,\n            handler: function (options) {\n                var calendar = this.getApi();\n                calendar.pauseRendering();\n                calendar.resetOptions(this.buildOptions(options, this));\n                this.renderId++; // will queue a rerender\n            }\n        }\n    };\n    var _loop_1 = function (complexOptionName) {\n        // handlers called when nested objects change\n        watchers[\"options.\" + complexOptionName] = {\n            deep: true,\n            handler: function (val) {\n                var _a;\n                // unfortunately the handler is called with undefined if new props were set, but the complex one wasn't ever set\n                if (val !== undefined) {\n                    var calendar = this.getApi();\n                    calendar.pauseRendering();\n                    calendar.resetOptions((_a = {},\n                        // the only reason we shallow-copy is to trick FC into knowing there's a nested change.\n                        // TODO: future versions of FC will more gracefully handle event option-changes that are same-reference.\n                        _a[complexOptionName] = shallowCopy(val),\n                        _a), true);\n                    this.renderId++; // will queue a rerender\n                }\n            }\n        };\n    };\n    for (var complexOptionName in OPTION_IS_COMPLEX) {\n        _loop_1(complexOptionName);\n    }\n    return watchers;\n}\nexport default FullCalendar;\n//# sourceMappingURL=FullCalendar.js.map","import FullCalendarComponent from './FullCalendar';\n/*\nRegisters the component globally if appropriate.\nThis modules exposes the component AND an install function.\n\nDerived from:\nhttps://vuejs.org/v2/cookbook/packaging-sfc-for-npm.html\n*/\nvar installed = false;\n// declare install function executed by Vue.use()\nexport function install(Vue) {\n    if (!installed) {\n        installed = true;\n        Vue.component('FullCalendar', FullCalendarComponent);\n    }\n}\n// detect a globally availble version of Vue (eg. in browser via <script> tag)\nvar GlobalVue;\nif (typeof globalThis !== 'undefined') {\n    GlobalVue = globalThis.Vue;\n}\nelse {\n    GlobalVue = window.Vue;\n}\n// auto-install if possible\nif (GlobalVue) {\n    GlobalVue.use({\n        install: install\n    });\n}\n// to allow use as module (npm/webpack/etc.) export component\nexport default FullCalendarComponent;\n// so can access any of the utils/types from this lib\nexport * from '@fullcalendar/core';\n//# sourceMappingURL=main.js.map","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","/*!\nFullCalendar v5.11.3\nDocs & License: https://fullcalendar.io/\n(c) 2022 Adam Shaw\n*/\nimport './main.css';\n\nimport { createRef, getStickyHeaderDates, createElement, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, DateComponent, buildNavLinkAttrs, DayCellContent, Fragment, BaseComponent, createFormatter, StandardEvent, buildSegTimeText, EventRoot, getSegAnchorAttrs, memoize, MoreLinkRoot, getSegMeta, createAriaClickAttrs, getUniqueDomId, setRef, DayCellRoot, WeekNumberRoot, buildEntryKey, intersectSpans, SegHierarchy, intersectRanges, addDays, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, Slicer, DayHeader, DaySeriesModel, DayTableModel, addWeeks, diffWeeks, DateProfileGenerator, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign, __spreadArray } from 'tslib';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nvar TableView = /** @class */ (function (_super) {\n    __extends(TableView, _super);\n    function TableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.headerElRef = createRef();\n        return _this;\n    }\n    TableView.prototype.renderSimpleLayout = function (headerRowContent, bodyContent) {\n        var _a = this, props = _a.props, context = _a.context;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections }))); }));\n    };\n    TableView.prototype.renderHScrollLayout = function (headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, props = _a.props, context = _a.context;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections }))); }));\n    };\n    return TableView;\n}(DateComponent));\n\nfunction splitSegsByRow(segs, rowCnt) {\n    var byRow = [];\n    for (var i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    var byCol = [];\n    for (var i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TableCellTop = /** @class */ (function (_super) {\n    __extends(TableCellTop, _super);\n    function TableCellTop() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableCellTop.prototype.render = function () {\n        var props = this.props;\n        var navLinkAttrs = buildNavLinkAttrs(this.context, props.date);\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, defaultContent: renderTopInner }, function (innerElRef, innerContent) { return ((innerContent || props.forceDayTop) && (createElement(\"div\", { className: \"fc-daygrid-day-top\", ref: innerElRef },\n            createElement(\"a\", __assign({ id: props.dayNumberId, className: \"fc-daygrid-day-number\" }, navLinkAttrs), innerContent || createElement(Fragment, null, \"\\u00A0\"))))); }));\n    };\n    return TableCellTop;\n}(BaseComponent));\nfunction renderTopInner(props) {\n    return props.dayNumberText;\n}\n\nvar DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    var display = seg.eventRange.ui.display;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nvar TableBlockEvent = /** @class */ (function (_super) {\n    __extends(TableBlockEvent, _super);\n    function TableBlockEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableBlockEvent.prototype.render = function () {\n        var props = this.props;\n        return (createElement(StandardEvent, __assign({}, props, { extraClassNames: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    };\n    return TableBlockEvent;\n}(BaseComponent));\n\nvar TableListItemEvent = /** @class */ (function (_super) {\n    __extends(TableListItemEvent, _super);\n    function TableListItemEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableListItemEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        var timeText = buildSegTimeText(props.seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: props.seg, timeText: timeText, defaultContent: renderInnerContent, isDragging: props.isDragging, isResizing: false, isDateSelecting: false, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent) { return ( // we don't use styles!\n        createElement(\"a\", __assign({ className: ['fc-daygrid-event', 'fc-daygrid-dot-event'].concat(classNames).join(' '), ref: rootElRef }, getSegAnchorAttrs(props.seg, context)), innerContent)); }));\n    };\n    return TableListItemEvent;\n}(BaseComponent));\nfunction renderInnerContent(innerProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: innerProps.borderColor || innerProps.backgroundColor } }),\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\n\nvar TableCellMoreLink = /** @class */ (function (_super) {\n    __extends(TableCellMoreLink, _super);\n    function TableCellMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.compileSegs = memoize(compileSegs);\n        return _this;\n    }\n    TableCellMoreLink.prototype.render = function () {\n        var props = this.props;\n        var _a = this.compileSegs(props.singlePlacements), allSegs = _a.allSegs, invisibleSegs = _a.invisibleSegs;\n        return (createElement(MoreLinkRoot, { dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: function () {\n                var isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map(function (seg) {\n                    var instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick, title, isExpanded, popoverId) { return (createElement(\"a\", __assign({ ref: rootElRef, className: ['fc-daygrid-more-link'].concat(classNames).join(' '), title: title, \"aria-expanded\": isExpanded, \"aria-controls\": popoverId }, createAriaClickAttrs(handleClick)), innerContent)); }));\n    };\n    return TableCellMoreLink;\n}(BaseComponent));\nfunction compileSegs(singlePlacements) {\n    var allSegs = [];\n    var invisibleSegs = [];\n    for (var _i = 0, singlePlacements_1 = singlePlacements; _i < singlePlacements_1.length; _i++) {\n        var placement = singlePlacements_1[_i];\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs: allSegs, invisibleSegs: invisibleSegs };\n}\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nvar TableCell = /** @class */ (function (_super) {\n    __extends(TableCell, _super);\n    function TableCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.state = {\n            dayNumberId: getUniqueDomId(),\n        };\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    TableCell.prototype.render = function () {\n        var _a = this, context = _a.context, props = _a.props, state = _a.state, rootElRef = _a.rootElRef;\n        var date = props.date, dateProfile = props.dateProfile;\n        var navLinkAttrs = buildNavLinkAttrs(context, date, 'week');\n        return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, elRef: this.handleRootEl }, function (dayElRef, dayClassNames, rootDataAttrs, isDisabled) { return (createElement(\"td\", __assign({ ref: dayElRef, role: \"gridcell\", className: ['fc-daygrid-day'].concat(dayClassNames, props.extraClassNames || []).join(' ') }, rootDataAttrs, props.extraDataAttrs, (props.showDayNumber ? { 'aria-labelledby': state.dayNumberId } : {})),\n            createElement(\"div\", { className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", ref: props.innerElRef /* different from hook system! RENAME */ },\n                props.showWeekNumber && (createElement(WeekNumberRoot, { date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (weekElRef, weekClassNames, innerElRef, innerContent) { return (createElement(\"a\", __assign({ ref: weekElRef, className: ['fc-daygrid-week-number'].concat(weekClassNames).join(' ') }, navLinkAttrs), innerContent)); })),\n                !isDisabled && (createElement(TableCellTop, { date: date, dateProfile: dateProfile, showDayNumber: props.showDayNumber, dayNumberId: state.dayNumberId, forceDayTop: props.forceDayTop, todayRange: props.todayRange, extraHookProps: props.extraHookProps })),\n                createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                    props.fgContent,\n                    createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                        createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n                createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))); }));\n    };\n    return TableCell;\n}(DateComponent));\n\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, eventInstanceHeights, maxContentHeight, cells) {\n    var hierarchy = new DayGridSegHierarchy();\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    var segInputs = [];\n    var unknownHeightSegs = [];\n    for (var i = 0; i < segs.length; i += 1) {\n        var seg = segs[i];\n        var instanceId = seg.eventRange.instance.instanceId;\n        var eventHeight = eventInstanceHeights[instanceId];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                thickness: eventHeight,\n                span: {\n                    start: seg.firstCol,\n                    end: seg.lastCol + 1,\n                },\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var segRects = hierarchy.toRects();\n    var _a = placeRects(segRects, segs, cells), singleColPlacements = _a.singleColPlacements, multiColPlacements = _a.multiColPlacements, leftoverMargins = _a.leftoverMargins;\n    var moreCnts = [];\n    var moreMarginTops = [];\n    // add segs with unknown heights\n    for (var _i = 0, unknownHeightSegs_1 = unknownHeightSegs; _i < unknownHeightSegs_1.length; _i++) {\n        var seg = unknownHeightSegs_1[_i];\n        multiColPlacements[seg.firstCol].push({\n            seg: seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (var col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (var _b = 0, hiddenEntries_1 = hiddenEntries; _b < hiddenEntries_1.length; _b++) {\n        var hiddenEntry = hiddenEntries_1[_b];\n        var seg = segs[hiddenEntry.index];\n        var hiddenSpan = hiddenEntry.span;\n        multiColPlacements[hiddenSpan.start].push({\n            seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (var col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, moreCnts: moreCnts, moreMarginTops: moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    var rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    var singleColPlacements = [];\n    var multiColPlacements = [];\n    var leftoverMargins = [];\n    for (var col = 0; col < cells.length; col += 1) {\n        var rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        var singlePlacements = [];\n        var currentHeight = 0;\n        var currentMarginTop = 0;\n        for (var _i = 0, rects_1 = rects; _i < rects_1.length; _i++) {\n            var rect = rects_1[_i];\n            var seg = segs[rect.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: rect.levelCoord,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        var multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (var _a = 0, rects_2 = rects; _a < rects_2.length; _a++) {\n            var rect = rects_2[_a];\n            var seg = segs[rect.index];\n            var isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n            var isFirstCol = rect.span.start === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: rect.levelCoord,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, leftoverMargins: leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    var rectsByEachCol = [];\n    for (var col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (var _i = 0, rects_3 = rects; _i < rects_3.length; _i++) {\n        var rect = rects_3[_i];\n        for (var col = rect.span.start; col < rect.span.end; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    var eventRange = seg.eventRange;\n    var origRange = eventRange.range;\n    var slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return __assign(__assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: __assign(__assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nvar DayGridSegHierarchy = /** @class */ (function (_super) {\n    __extends(DayGridSegHierarchy, _super);\n    function DayGridSegHierarchy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // config\n        _this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        _this.forceHidden = {};\n        return _this;\n    }\n    DayGridSegHierarchy.prototype.addSegs = function (segInputs) {\n        var _this = this;\n        var hiddenSegs = _super.prototype.addSegs.call(this, segInputs);\n        var entriesByLevel = this.entriesByLevel;\n        var excludeHidden = function (entry) { return !_this.forceHidden[buildEntryKey(entry)]; };\n        // remove the forced-hidden segs\n        for (var level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    };\n    DayGridSegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, forceHidden = _a.forceHidden;\n        var touchingEntry = insertion.touchingEntry, touchingLevel = insertion.touchingLevel, touchingLateral = insertion.touchingLateral;\n        if (this.hiddenConsumes && touchingEntry) {\n            var touchingEntryId = buildEntryKey(touchingEntry);\n            // if not already hidden\n            if (!forceHidden[touchingEntryId]) {\n                if (this.allowReslicing) {\n                    var placeholderEntry = __assign(__assign({}, touchingEntry), { span: intersectSpans(touchingEntry.span, entry.span) });\n                    var placeholderEntryId = buildEntryKey(placeholderEntry);\n                    forceHidden[placeholderEntryId] = true;\n                    entriesByLevel[touchingLevel][touchingLateral] = placeholderEntry; // replace touchingEntry with our placeholder\n                    this.splitEntry(touchingEntry, entry, hiddenEntries); // split up the touchingEntry, reinsert it\n                }\n                else {\n                    forceHidden[touchingEntryId] = true;\n                    hiddenEntries.push(touchingEntry);\n                }\n            }\n        }\n        return _super.prototype.handleInvalidInsertion.call(this, insertion, entry, hiddenEntries);\n    };\n    return DayGridSegHierarchy;\n}(SegHierarchy));\n\nvar TableRow = /** @class */ (function (_super) {\n    __extends(TableRow, _super);\n    function TableRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cellElRefs = new RefMap(); // the <td>\n        _this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        _this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        _this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        _this.rootElRef = createRef();\n        _this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            eventInstanceHeights: {},\n        };\n        return _this;\n    }\n    TableRow.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var options = context.options;\n        var colCnt = props.cells.length;\n        var businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        var bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        var highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        var mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        var _b = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.eventInstanceHeights, state.maxContentHeight, props.cells), singleColPlacements = _b.singleColPlacements, multiColPlacements = _b.multiColPlacements, moreCnts = _b.moreCnts, moreMarginTops = _b.moreMarginTops;\n        var isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef, role: \"row\" },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map(function (cell, col) {\n                var normalFgNodes = _this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                var mirrorFgNodes = _this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), innerElRef: _this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: _this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        _this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        _this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        _this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))) }));\n            })));\n    };\n    TableRow.prototype.componentDidMount = function () {\n        this.updateSizing(true);\n    };\n    TableRow.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    };\n    TableRow.prototype.getHighlightSegs = function () {\n        var props = this.props;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    };\n    TableRow.prototype.getMirrorSegs = function () {\n        var props = this.props;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    };\n    TableRow.prototype.renderFgSegs = function (col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        var context = this.context;\n        var eventSelection = this.props.eventSelection;\n        var framePositions = this.state.framePositions;\n        var defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segPlacements_1 = segPlacements; _i < segPlacements_1.length; _i++) {\n                var placement = segPlacements_1[_i];\n                var seg = placement.seg;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var key = instanceId + ':' + col;\n                var isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                var isAbsolute = placement.isAbsolute;\n                var left = '';\n                var right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: key, ref: isMirror ? null : this.segHarnessRefs.createRef(key), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left: left,\n                        right: right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    };\n    TableRow.prototype.renderFillSegs = function (segs, fillType) {\n        var isRtl = this.context.isRtl;\n        var todayRange = this.props.todayRange;\n        var framePositions = this.state.framePositions;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n                var seg = segs_1[_i];\n                var leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], nodes));\n    };\n    TableRow.prototype.updateSizing = function (isExternalSizingChange) {\n        var _a = this, props = _a.props, frameElRefs = _a.frameElRefs;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                var frameEls = props.cells.map(function (cell) { return frameElRefs.currentMap[cell.key]; });\n                if (frameEls.length) {\n                    var originEl = this.rootElRef.current;\n                    this.setState({\n                        framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                        false),\n                    });\n                }\n            }\n            var oldInstanceHeights = this.state.eventInstanceHeights;\n            var newInstanceHeights = this.queryEventInstanceHeights();\n            var limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.safeSetState({\n                // HACK to prevent oscillations of events being shown/hidden from max-event-rows\n                // Essentially, once you compute an element's height, never null-out.\n                // TODO: always display all events, as visibility:hidden?\n                eventInstanceHeights: __assign(__assign({}, oldInstanceHeights), newInstanceHeights),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    };\n    TableRow.prototype.queryEventInstanceHeights = function () {\n        var segElMap = this.segHarnessRefs.currentMap;\n        var eventInstanceHeights = {};\n        // get the max height amongst instance segs\n        for (var key in segElMap) {\n            var height = Math.round(segElMap[key].getBoundingClientRect().height);\n            var instanceId = key.split(':')[0]; // deconstruct how renderFgSegs makes the key\n            eventInstanceHeights[instanceId] = Math.max(eventInstanceHeights[instanceId] || 0, height);\n        }\n        return eventInstanceHeights;\n    };\n    TableRow.prototype.computeMaxContentHeight = function () {\n        var firstKey = this.props.cells[0].key;\n        var cellEl = this.cellElRefs.currentMap[firstKey];\n        var fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    };\n    TableRow.prototype.getCellEls = function () {\n        var elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map(function (cell) { return elMap[cell.key]; });\n    };\n    return TableRow;\n}(DateComponent));\nTableRow.addStateEquality({\n    eventInstanceHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    var topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map(function (seg) { return ({\n        seg: seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }); });\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    var topsByInstanceId = {};\n    for (var _i = 0, colPlacements_1 = colPlacements; _i < colPlacements_1.length; _i++) {\n        var placements = colPlacements_1[_i];\n        for (var _a = 0, placements_1 = placements; _a < placements_1.length; _a++) {\n            var placement = placements_1[_a];\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return topsByInstanceId;\n}\n\nvar Table = /** @class */ (function (_super) {\n    __extends(Table, _super);\n    function Table() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        _this.splitBgEventSegs = memoize(splitSegsByRow);\n        _this.splitFgEventSegs = memoize(splitSegsByRow);\n        _this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        _this.splitEventDrag = memoize(splitInteractionByRow);\n        _this.splitEventResize = memoize(splitInteractionByRow);\n        _this.rowRefs = new RefMap();\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    Table.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var dateProfile = props.dateProfile, dayMaxEventRows = props.dayMaxEventRows, dayMaxEvents = props.dayMaxEvents, expandRows = props.expandRows;\n        var rowCnt = props.cells.length;\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        var limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        var classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { className: classNames.join(' '), ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(Fragment, null,\n                createElement(\"table\", { role: \"presentation\", className: \"fc-scrollgrid-sync-table\", style: {\n                        width: props.clientWidth,\n                        minWidth: props.tableMinWidth,\n                        height: expandRows ? props.clientHeight : '',\n                    } },\n                    props.colGroupNode,\n                    createElement(\"tbody\", { role: \"presentation\" }, props.cells.map(function (cells, row) { return (createElement(TableRow, { ref: _this.rowRefs.createRef(row), key: cells.length\n                            ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                            : row // in case there are no cells (like when resource view is loading)\n                        , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })); }))))); })));\n    };\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    Table.prototype.prepareHits = function () {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map(function (rowObj) { return rowObj.getCellEls()[0]; }), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    };\n    Table.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this, colPositions = _a.colPositions, rowPositions = _a.rowPositions;\n        var col = colPositions.leftToIndex(positionLeft);\n        var row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            var cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: __assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    Table.prototype.getCellEl = function (row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    };\n    Table.prototype.getCellRange = function (row, col) {\n        var start = this.props.cells[row][col].date;\n        var end = addDays(start, 1);\n        return { start: start, end: end };\n    };\n    return Table;\n}(DateComponent));\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nvar DayTableSlicer = /** @class */ (function (_super) {\n    __extends(DayTableSlicer, _super);\n    function DayTableSlicer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.forceDayIfListItem = true;\n        return _this;\n    }\n    DayTableSlicer.prototype.sliceRange = function (dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    };\n    return DayTableSlicer;\n}(Slicer));\n\nvar DayTable = /** @class */ (function (_super) {\n    __extends(DayTable, _super);\n    function DayTable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.slicer = new DayTableSlicer();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTable.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(Table, __assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    };\n    return DayTable;\n}(DateComponent));\n\nvar DayTableView = /** @class */ (function (_super) {\n    __extends(DayTableView, _super);\n    function DayTableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayTableModel = memoize(buildDayTableModel);\n        _this.headerRef = createRef();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTableView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        var bodyContent = function (contentArg) { return (createElement(DayTable, { ref: _this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint })); };\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    };\n    return DayTableView;\n}(TableView));\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nvar TableDateProfileGenerator = /** @class */ (function (_super) {\n    __extends(TableDateProfileGenerator, _super);\n    function TableDateProfileGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // Computes the date range that will be rendered.\n    TableDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        var dateEnv = this.props.dateEnv;\n        var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\n        var start = renderRange.start;\n        var end = renderRange.end;\n        var endOfWeek;\n        // year and month views should be aligned with weeks. this is already done for week\n        if (/^(year|month)$/.test(currentRangeUnit)) {\n            start = dateEnv.startOfWeek(start);\n            // make end-of-week if not already\n            endOfWeek = dateEnv.startOfWeek(end);\n            if (endOfWeek.valueOf() !== end.valueOf()) {\n                end = addWeeks(endOfWeek, 1);\n            }\n        }\n        // ensure 6 weeks\n        if (this.props.monthMode &&\n            this.props.fixedWeekCount) {\n            var rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n            diffWeeks(start, end));\n            end = addWeeks(end, 6 - rowCnt);\n        }\n        return { start: start, end: end };\n    };\n    return TableDateProfileGenerator;\n}(DateProfileGenerator));\n\nvar main = createPlugin({\n    initialView: 'dayGridMonth',\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            monthMode: true,\n            fixedWeekCount: true,\n        },\n    },\n});\n\nexport default main;\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableView, buildDayTableModel };\n//# sourceMappingURL=main.js.map\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","/*!\nFullCalendar v5.11.3\nDocs & License: https://fullcalendar.io/\n(c) 2022 Adam Shaw\n*/\nimport './main.css';\n\nimport { getUniqueDomId, getDateMeta, buildNavLinkAttrs, getDayClassNames, createElement, RenderHook, formatDayString, BaseComponent, Fragment, createFormatter, EventRoot, getSegAnchorAttrs, isMultiDayRange, buildSegTimeText, memoize, ViewRoot, Scroller, NowTimer, sortEventSegs, getSegMeta, sliceEventStore, intersectRanges, DateComponent, startOfDay, addDays, identity, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nvar ListViewHeaderRow = /** @class */ (function (_super) {\n    __extends(ListViewHeaderRow, _super);\n    function ListViewHeaderRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            textId: getUniqueDomId(),\n        };\n        return _this;\n    }\n    ListViewHeaderRow.prototype.render = function () {\n        var _a = this.context, theme = _a.theme, dateEnv = _a.dateEnv, options = _a.options, viewApi = _a.viewApi;\n        var _b = this.props, cellId = _b.cellId, dayDate = _b.dayDate, todayRange = _b.todayRange;\n        var textId = this.state.textId;\n        var dayMeta = getDateMeta(dayDate, todayRange);\n        // will ever be falsy?\n        var text = options.listDayFormat ? dateEnv.format(dayDate, options.listDayFormat) : '';\n        // will ever be falsy? also, BAD NAME \"alt\"\n        var sideText = options.listDaySideFormat ? dateEnv.format(dayDate, options.listDaySideFormat) : '';\n        var hookProps = __assign({ date: dateEnv.toDate(dayDate), view: viewApi, textId: textId,\n            text: text,\n            sideText: sideText, navLinkAttrs: buildNavLinkAttrs(this.context, dayDate), sideNavLinkAttrs: buildNavLinkAttrs(this.context, dayDate, 'day', false) }, dayMeta);\n        var classNames = ['fc-list-day'].concat(getDayClassNames(dayMeta, theme));\n        // TODO: make a reusable HOC for dayHeader (used in daygrid/timegrid too)\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInnerContent, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"tr\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": formatDayString(dayDate) },\n            createElement(\"th\", { scope: \"colgroup\", colSpan: 3, id: cellId, \"aria-labelledby\": textId },\n                createElement(\"div\", { className: 'fc-list-day-cushion ' + theme.getClass('tableCellShaded'), ref: innerElRef }, innerContent)))); }));\n    };\n    return ListViewHeaderRow;\n}(BaseComponent));\nfunction renderInnerContent(props) {\n    return (createElement(Fragment, null,\n        props.text && (createElement(\"a\", __assign({ id: props.textId, className: \"fc-list-day-text\" }, props.navLinkAttrs), props.text)),\n        props.sideText && ( /* not keyboard tabbable */createElement(\"a\", __assign({ \"aria-hidden\": true, className: \"fc-list-day-side-text\" }, props.sideNavLinkAttrs), props.sideText))));\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: 'short',\n});\nvar ListViewEventRow = /** @class */ (function (_super) {\n    __extends(ListViewEventRow, _super);\n    function ListViewEventRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ListViewEventRow.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg, timeHeaderId = props.timeHeaderId, eventHeaderId = props.eventHeaderId, dateHeaderId = props.dateHeaderId;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TIME_FORMAT;\n        return (createElement(EventRoot, { seg: seg, timeText: \"\" // BAD. because of all-day content\n            , disableDragging: true, disableResizing: true, defaultContent: function () { return renderEventInnerContent(seg, context); } /* weird */, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday, isSelected: props.isSelected, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"tr\", { className: ['fc-list-event', hookProps.event.url ? 'fc-event-forced-url' : ''].concat(classNames).join(' '), ref: rootElRef },\n            buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId),\n            createElement(\"td\", { \"aria-hidden\": true, className: \"fc-list-event-graphic\" },\n                createElement(\"span\", { className: \"fc-list-event-dot\", style: { borderColor: hookProps.borderColor || hookProps.backgroundColor } })),\n            createElement(\"td\", { ref: innerElRef, headers: eventHeaderId + \" \" + dateHeaderId, className: \"fc-list-event-title\" }, innerContent))); }));\n    };\n    return ListViewEventRow;\n}(BaseComponent));\nfunction renderEventInnerContent(seg, context) {\n    var interactiveAttrs = getSegAnchorAttrs(seg, context);\n    return (createElement(\"a\", __assign({}, interactiveAttrs), seg.eventRange.def.title));\n}\nfunction buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId) {\n    var options = context.options;\n    if (options.displayEventTime !== false) {\n        var eventDef = seg.eventRange.def;\n        var eventInstance = seg.eventRange.instance;\n        var doAllDay = false;\n        var timeText = void 0;\n        if (eventDef.allDay) {\n            doAllDay = true;\n        }\n        else if (isMultiDayRange(seg.eventRange.range)) { // TODO: use (!isStart || !isEnd) instead?\n            if (seg.isStart) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, eventInstance.range.start, seg.end);\n            }\n            else if (seg.isEnd) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, seg.start, eventInstance.range.end);\n            }\n            else {\n                doAllDay = true;\n            }\n        }\n        else {\n            timeText = buildSegTimeText(seg, timeFormat, context);\n        }\n        if (doAllDay) {\n            var hookProps = {\n                text: context.options.allDayText,\n                view: context.viewApi,\n            };\n            return (createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, headers: timeHeaderId + \" \" + dateHeaderId, className: ['fc-list-event-time'].concat(classNames).join(' ') }, innerContent)); }));\n        }\n        return (createElement(\"td\", { className: \"fc-list-event-time\" }, timeText));\n    }\n    return null;\n}\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\n/*\nResponsible for the scroller, and forwarding event-related actions into the \"grid\".\n*/\nvar ListView = /** @class */ (function (_super) {\n    __extends(ListView, _super);\n    function ListView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.computeDateVars = memoize(computeDateVars);\n        _this.eventStoreToSegs = memoize(_this._eventStoreToSegs);\n        _this.state = {\n            timeHeaderId: getUniqueDomId(),\n            eventHeaderId: getUniqueDomId(),\n            dateHeaderIdRoot: getUniqueDomId(),\n        };\n        _this.setRootEl = function (rootEl) {\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    ListView.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var extraClassNames = [\n            'fc-list',\n            context.theme.getClass('table'),\n            context.options.stickyHeaderDates !== false ? 'fc-list-sticky' : '',\n        ];\n        var _b = this.computeDateVars(props.dateProfile), dayDates = _b.dayDates, dayRanges = _b.dayRanges;\n        var eventSegs = this.eventStoreToSegs(props.eventStore, props.eventUiBases, dayRanges);\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.setRootEl }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: extraClassNames.concat(classNames).join(' ') },\n            createElement(Scroller, { liquid: !props.isHeightAuto, overflowX: props.isHeightAuto ? 'visible' : 'hidden', overflowY: props.isHeightAuto ? 'visible' : 'auto' }, eventSegs.length > 0 ?\n                _this.renderSegList(eventSegs, dayDates) :\n                _this.renderEmptyMessage()))); }));\n    };\n    ListView.prototype.renderEmptyMessage = function () {\n        var _a = this.context, options = _a.options, viewApi = _a.viewApi;\n        var hookProps = {\n            text: options.noEventsText,\n            view: viewApi,\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.noEventsClassNames, content: options.noEventsContent, defaultContent: renderNoEventsInner, didMount: options.noEventsDidMount, willUnmount: options.noEventsWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { className: ['fc-list-empty'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(\"div\", { className: \"fc-list-empty-cushion\", ref: innerElRef }, innerContent))); }));\n    };\n    ListView.prototype.renderSegList = function (allSegs, dayDates) {\n        var _a = this.context, theme = _a.theme, options = _a.options;\n        var _b = this.state, timeHeaderId = _b.timeHeaderId, eventHeaderId = _b.eventHeaderId, dateHeaderIdRoot = _b.dateHeaderIdRoot;\n        var segsByDay = groupSegsByDay(allSegs); // sparse array\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) {\n            var innerNodes = [];\n            for (var dayIndex = 0; dayIndex < segsByDay.length; dayIndex += 1) {\n                var daySegs = segsByDay[dayIndex];\n                if (daySegs) { // sparse array, so might be undefined\n                    var dayStr = formatDayString(dayDates[dayIndex]);\n                    var dateHeaderId = dateHeaderIdRoot + '-' + dayStr;\n                    // append a day header\n                    innerNodes.push(createElement(ListViewHeaderRow, { key: dayStr, cellId: dateHeaderId, dayDate: dayDates[dayIndex], todayRange: todayRange }));\n                    daySegs = sortEventSegs(daySegs, options.eventOrder);\n                    for (var _i = 0, daySegs_1 = daySegs; _i < daySegs_1.length; _i++) {\n                        var seg = daySegs_1[_i];\n                        innerNodes.push(createElement(ListViewEventRow, __assign({ key: dayStr + ':' + seg.eventRange.instance.instanceId /* are multiple segs for an instanceId */, seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, timeHeaderId: timeHeaderId, eventHeaderId: eventHeaderId, dateHeaderId: dateHeaderId }, getSegMeta(seg, todayRange, nowDate))));\n                    }\n                }\n            }\n            return (createElement(\"table\", { className: 'fc-list-table ' + theme.getClass('table') },\n                createElement(\"thead\", null,\n                    createElement(\"tr\", null,\n                        createElement(\"th\", { scope: \"col\", id: timeHeaderId }, options.timeHint),\n                        createElement(\"th\", { scope: \"col\", \"aria-hidden\": true }),\n                        createElement(\"th\", { scope: \"col\", id: eventHeaderId }, options.eventHint))),\n                createElement(\"tbody\", null, innerNodes)));\n        }));\n    };\n    ListView.prototype._eventStoreToSegs = function (eventStore, eventUiBases, dayRanges) {\n        return this.eventRangesToSegs(sliceEventStore(eventStore, eventUiBases, this.props.dateProfile.activeRange, this.context.options.nextDayThreshold).fg, dayRanges);\n    };\n    ListView.prototype.eventRangesToSegs = function (eventRanges, dayRanges) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.eventRangeToSegs(eventRange, dayRanges));\n        }\n        return segs;\n    };\n    ListView.prototype.eventRangeToSegs = function (eventRange, dayRanges) {\n        var dateEnv = this.context.dateEnv;\n        var nextDayThreshold = this.context.options.nextDayThreshold;\n        var range = eventRange.range;\n        var allDay = eventRange.def.allDay;\n        var dayIndex;\n        var segRange;\n        var seg;\n        var segs = [];\n        for (dayIndex = 0; dayIndex < dayRanges.length; dayIndex += 1) {\n            segRange = intersectRanges(range, dayRanges[dayIndex]);\n            if (segRange) {\n                seg = {\n                    component: this,\n                    eventRange: eventRange,\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: eventRange.isStart && segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: eventRange.isEnd && segRange.end.valueOf() === range.end.valueOf(),\n                    dayIndex: dayIndex,\n                };\n                segs.push(seg);\n                // detect when range won't go fully into the next day,\n                // and mutate the latest seg to the be the end.\n                if (!seg.isEnd && !allDay &&\n                    dayIndex + 1 < dayRanges.length &&\n                    range.end <\n                        dateEnv.add(dayRanges[dayIndex + 1].start, nextDayThreshold)) {\n                    seg.end = range.end;\n                    seg.isEnd = true;\n                    break;\n                }\n            }\n        }\n        return segs;\n    };\n    return ListView;\n}(DateComponent));\nfunction renderNoEventsInner(hookProps) {\n    return hookProps.text;\n}\nfunction computeDateVars(dateProfile) {\n    var dayStart = startOfDay(dateProfile.renderRange.start);\n    var viewEnd = dateProfile.renderRange.end;\n    var dayDates = [];\n    var dayRanges = [];\n    while (dayStart < viewEnd) {\n        dayDates.push(dayStart);\n        dayRanges.push({\n            start: dayStart,\n            end: addDays(dayStart, 1),\n        });\n        dayStart = addDays(dayStart, 1);\n    }\n    return { dayDates: dayDates, dayRanges: dayRanges };\n}\n// Returns a sparse array of arrays, segs grouped by their dayIndex\nfunction groupSegsByDay(segs) {\n    var segsByDay = []; // sparse array\n    var i;\n    var seg;\n    for (i = 0; i < segs.length; i += 1) {\n        seg = segs[i];\n        (segsByDay[seg.dayIndex] || (segsByDay[seg.dayIndex] = []))\n            .push(seg);\n    }\n    return segsByDay;\n}\n\nvar OPTION_REFINERS = {\n    listDayFormat: createFalsableFormatter,\n    listDaySideFormat: createFalsableFormatter,\n    noEventsClassNames: identity,\n    noEventsContent: identity,\n    noEventsDidMount: identity,\n    noEventsWillUnmount: identity,\n    // noEventsText is defined in base options\n};\nfunction createFalsableFormatter(input) {\n    return input === false ? null : createFormatter(input);\n}\n\nvar main = createPlugin({\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        list: {\n            component: ListView,\n            buttonTextKey: 'list',\n            listDayFormat: { month: 'long', day: 'numeric', year: 'numeric' }, // like \"January 1, 2016\"\n        },\n        listDay: {\n            type: 'list',\n            duration: { days: 1 },\n            listDayFormat: { weekday: 'long' }, // day-of-week is all we need. full date is probably in headerToolbar\n        },\n        listWeek: {\n            type: 'list',\n            duration: { weeks: 1 },\n            listDayFormat: { weekday: 'long' },\n            listDaySideFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n        },\n        listMonth: {\n            type: 'list',\n            duration: { month: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n        listYear: {\n            type: 'list',\n            duration: { year: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n    },\n});\n\nexport default main;\nexport { ListView };\n//# sourceMappingURL=main.js.map\n","<template>\n  <v-sheet class=\"rounded event-calendar-widget\" :class=\"{'edit-mode': editMode}\">\n    <full-calendar ref=\"calendarRef\" :options=\"calendarOptions\">\n      <template #eventContent=\"item\">\n        <v-tooltip bottom z-index=\"9999\">\n          <template v-slot:activator=\"{ on, attrs }\" class=\"text-truncate\">\n            <router-link :to=\"{name: eventClickRouteName || $rns.PUBLIC_EVENT_PROFILE, params: {record_id: item.event.id}}\">\n            <div v-bind=\"attrs\" v-on=\"on\" class=\"fc-event-main text-truncate\">\n              <div class=\"fc-event-main-frame\">\n                <div class=\"fc-event-title-container\">\n                  <div class=\"fc-event-title fc-sticky\">\n                    <span v-if=\"item.event.extendedProps.record.source\"\n                          class=\"pa-1 mr-1 rounded-circle d-inline-block rounded-circle\"\n                          :class=\"($const.EVENT_SOURCE_MAP[item.event.extendedProps.record.source] || {}).css\"></span>\n                    {{ item.event.title }}\n                    </div>\n                </div>\n              </div>\n            </div>\n            </router-link>\n          </template>\n          <div>\n            <div class=\"mb-1 font-weight-bold\">\n              <span class=\"mr-1\">{{ item.event.title}}</span>\n              <v-chip x-small v-if=\"item.event.extendedProps.record.source\" :color=\"($const.EVENT_SOURCE_MAP[item.event.extendedProps.record.source] || {}).css\">\n                {{($const.EVENT_SOURCE_MAP[item.event.extendedProps.record.source] || {}).title || item.event.extendedProps.record.source}}\n              </v-chip>\n            </div>\n            <div class=\"small mb-1 text-caption\">\n              <v-icon size=\"14\" color=\"info\">{{ icons.mdiMapMarker }}</v-icon>\n              {{ item.event.extendedProps.record.country || '' }}{{ item.event.extendedProps.record.state? `, ${item.event.extendedProps.record.state}`:'' }}{{item.event.extendedProps.record.city? `, ${item.event.extendedProps.record.city}`:'' }}\n            </div>\n            <div class=\"small mb-1\">\n              <v-icon size=\"14\" color=\"info\">{{ icons.mdiCalendar }}</v-icon>\n              {{ $utils.formatDate(item.event.start, 'MMM D, YYYY') }}{{ item.event.extendedProps.record.end_date? ` - ${$utils.formatDate(item.event.extendedProps.record.end_date, 'MMM D, YYYY')}`:'' }}\n            </div>\n            <div class=\"small mb-1\" v-if=\"item.event.extendedProps.record.organization\">\n              <v-icon size=\"14\" color=\"info\">{{ icons.mdiHomeOutline }}</v-icon>\n              {{ item.event.extendedProps.record._organization.name }}\n            </div>\n            <div class=\"mt-3 mb-3\">\n              {{ item.event.extendedProps.record.description || '[No-Description]'}}\n            </div>\n          </div>\n        </v-tooltip>\n      </template>\n    </full-calendar>\n    <v-overlay :value=\"loading\" :absolute=\"true\" opacity=\"0.3\">\n      <v-progress-circular indeterminate></v-progress-circular>\n    </v-overlay>\n\n  </v-sheet>\n\n</template>\n\n<script>\nimport FullCalendar from \"@fullcalendar/vue\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport listPlugin from '@fullcalendar/list';\nimport {ref, onMounted} from \"@vue/composition-api\";\nimport {notifyDefaultServerError, formatDate, refineVTableOptions} from \"@/composables/utils\";\nimport axios from \"@/axios\";\nimport { mdiMapMarker, mdiCalendar, mdiHomeOutline } from '@mdi/js'\nimport moment from \"moment\";\n\nexport default {\n  components: {\n    FullCalendar\n  },\n  props: {\n    eventListUrl: {\n      type: String,\n      default: 'cycling_org/event'\n    },\n    apiParams: {\n      type: Object,\n      required: false\n    },\n    editMode: {\n      type: Boolean,\n      default: false\n    },\n    eventClickRouteName: {\n      type: String\n    }\n  },\n  setup(props, context) {\n    const calendarRef = ref(null);\n    const loading = ref(false);\n    const suppressDatesSetEvent = ref(false);\n\n    const refreshView = () => {\n      calendarRef.value.getApi().setOption('height', Math.max(window.innerHeight - 310, 500));\n    };\n\n    const loadEvents = (params) => {\n      params = Object.assign({page_size: 0}, props.apiParams, params);\n      loading.value = true;\n      axios.get(props.eventListUrl, {params: params}).then((response) => {\n        loading.value = false;\n        var events = response.data.results.map(r => {\n          var end_date = r.end_date;\n          if (end_date) {\n            end_date = moment(end_date).add(1, 'days').format('YYYY-MM-DD')\n          }\n          return {\n            id: r.id, title: r.name, start: r.start_date, end: end_date, className: \"wrh-event\",\n            color: r.organization? 'green': null,\n            // textColor: typeOption.textColor,\n            record: r\n          }\n        });\n        suppressDatesSetEvent.value = true;\n        calendarOptions.value.events = events;\n        setTimeout(refreshView, 1);\n      }, (error) => {\n        loading.value = false;\n        notifyDefaultServerError(error, true)\n      });\n    };\n    const refreshCalendar = (calendarView) => {\n      var calView = (calendarView || calendarRef.value.getApi()).view;\n      var minDate = formatDate(calView.activeStart, \"YYYY-MM-DD\"),\n          maxDate = formatDate(calView.activeEnd, \"YYYY-MM-DD\");\n      loadEvents({start_date__lte: maxDate, start_date__gte: minDate});\n    };\n    const onDatesSet = (calendarView) => {\n      if (suppressDatesSetEvent.value) {\n        suppressDatesSetEvent.value = false;\n        return;\n      }\n      refreshCalendar(calendarView);\n    };\n    const onCalendarNavLinkDayClick = (date, jsEvent) => {\n      context.emit('nav-link-day-clicked', date)\n    };\n    const onEventClick = (info) => {\n      context.emit('event-clicked', info.event.extendedProps.record)\n    };\n\n    const calendarOptions = ref({\n      plugins: [ dayGridPlugin, listPlugin ],\n      // themeSystem: \"bootstrap\",\n      headerToolbar: {\n        right: 'prevYear,prev,today,next,nextYear',\n        center: 'title',\n        left: 'dayGridMonth,dayGridWeek,dayGridDay,listMonth'\n      },\n      // headerToolbar: false,\n      initialView: \"dayGridMonth\",\n      datesSet: onDatesSet,\n      navLinkDayClick: onCalendarNavLinkDayClick,\n      eventClick: onEventClick,\n      navLinks: props.editMode? true: false,\n      navLinkHint: \"Add New Event\",\n      editable: false,\n      events: [\n      ],\n      height: '500px',\n      dayMaxEventRows: true,\n      windowResize: refreshView,\n      // eventDidMount: this.calendarEventRender,\n      // windowResizeDelay: 300,\n    });\n\n    onMounted(() => {\n      setTimeout(refreshView, 100);\n    });\n\n    return {\n      calendarRef,\n      loading,\n      calendarOptions,\n      refreshCalendar,\n      refreshView,\n      icons: {\n        mdiMapMarker,\n        mdiCalendar,\n        mdiHomeOutline,\n      }\n    }\n  },\n}\n</script>\n\n<style>\n  .fc .fc-list-sticky .fc-list-day > * {\n    z-index: 10;\n  }\n  .event-calendar-widget {\n    padding: 20px;\n  }\n\n  .event-calendar-widget.edit-mode a.fc-daygrid-day-number {\n    text-decoration: none;\n  }\n  .event-calendar-widget.edit-mode .fc-daygrid-day-number::after {\n    content: \"\";\n    position: absolute;\n    background: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%239155fd' d='M19 19V5H5V19H19M19 3A2 2 0 0 1 21 5V19A2 2 0 0 1 19 21H5A2 2 0 0 1 3 19V5C3 3.89 3.9 3 5 3H19M11 7H13V11H17V13H13V17H11V13H7V11H11V7Z' /%3E%3C/svg%3E\") no-repeat;\n    height: 16px;\n    width: 16px;\n    margin-left: -36px;\n    margin-top: 4px;\n    opacity: 0.5;\n  }\n\n  .event-calendar-widget .fc .fc-more-popover .fc-popover-body {\n    max-height: 200px;\n    overflow: auto;\n  }\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventsCalendarWidget.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventsCalendarWidget.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventsCalendarWidget.vue?vue&type=template&id=1818cb20&\"\nimport script from \"./EventsCalendarWidget.vue?vue&type=script&lang=js&\"\nexport * from \"./EventsCalendarWidget.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EventsCalendarWidget.vue?vue&type=style&index=0&id=1818cb20&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VChip,VIcon,VOverlay,VProgressCircular,VSheet,VTooltip})\n","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.es/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationCategoriesTab.vue?vue&type=style&index=0&id=01d5eeee&prod&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationMembersTab.vue?vue&type=style&index=0&id=a6df0052&prod&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationMemberFieldsSettingDialog.vue?vue&type=style&index=0&id=54b8b1ed&prod&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoogleMap.vue?vue&type=style&index=0&id=114172e9&prod&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"gmap-container\"},[(!_vm.readonly)?_c('v-autocomplete',{staticClass:\"mb-1\",attrs:{\"outlined\":\"\",\"dense\":\"\",\"items\":_vm.searchResult,\"clerable\":\"\",\"name\":\"address\",\"search-input\":_vm.search,\"label\":\"Locate Address\",\"placeholder\":\"Locate Address\",\"autocomplete\":\"off\",\"item-text\":\"formatted_address\",\"return-object\":\"\",\"hide-details\":\"\"},on:{\"update:searchInput\":function($event){_vm.search=$event},\"update:search-input\":function($event){_vm.search=$event},\"change\":_vm.selectAddress},model:{value:(_vm.address),callback:function ($$v) {_vm.address=$$v},expression:\"address\"}}):_vm._e(),_c('GmapMap',{style:(_vm.mapStyle),attrs:{\"center\":{\n      lat: _vm.latitude || 0,\n      lng: _vm.longitude || 0,\n    },\"zoom\":7}},[_c('GmapMarker',{attrs:{\"position\":{\n        lat: _vm.latitude || 0,\n        lng: _vm.longitude || 0,\n      },\"draggable\":!_vm.readonly},on:{\"dragend\":function (location) { return _vm.updateCoordinates({lat: location.latLng.lat(), lng: location.latLng.lng()}); }}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"gmap-container\">\n    <v-autocomplete\n        v-if=\"!readonly\"\n        outlined\n        dense\n        v-model=\"address\"\n        :items=\"searchResult\"\n        clerable\n        name=\"address\"\n        :search-input.sync=\"search\"\n        label=\"Locate Address\"\n        placeholder=\"Locate Address\"\n        autocomplete=\"off\"\n        item-text=\"formatted_address\"\n        return-object\n        @change=\"selectAddress\"\n        hide-details\n        class=\"mb-1\"\n    ></v-autocomplete>\n\n    <GmapMap\n        :center=\"{\n        lat: latitude || 0,\n        lng: longitude || 0,\n      }\"\n        :zoom=\"7\"\n        :style=\"mapStyle\"\n    >\n      <GmapMarker\n          :position=\"{\n          lat: latitude || 0,\n          lng: longitude || 0,\n        }\"\n          :draggable=\"!readonly\"\n          @dragend=\"location => updateCoordinates({lat: location.latLng.lat(), lng: location.latLng.lng()})\"\n      ></GmapMarker>\n    </GmapMap>\n  </div>\n</template>\n\n<script>\nimport geolocation from \"vue-browser-geolocation\";\nimport {onMounted, ref, watch, nextTick} from \"@vue/composition-api\";\nimport {notifyDefaultServerError} from \"@/composables/utils\";\nimport { helpers, getGoogleMapsAPI } from 'gmap-vue';\nconst { googleMapsApiInitializer } = helpers;\nwindow.getGoogleMapsAPI = getGoogleMapsAPI;\n\nexport default {\n  props: {\n    latitude: {\n      type: Number,\n      default: 0\n    },\n    longitude: {\n      type: Number,\n      default: 0\n    },\n    readonly: {\n      type: Boolean,\n      default: false\n    },\n    apiKey: {\n      type: String,\n      required: true\n    },\n    mapStyle: {\n      default: \"width: auto; height: 360px\"\n    },\n  },\n  emits: {\n    'update:latitude': null,\n    'update:longitude': null,\n  },\n  setup(props, context) {\n    const search = ref(null);\n    const address = ref(null);\n    const searchResult = ref([]);\n\n    watch(search, val => {\n      googleSearch(val)\n    });\n\n    onMounted(() => {\n      googleMapsApiInitializer({\n        key: props.apiKey,\n        libraries: 'places'\n      }, false);\n      setTimeout(getCurrentLocation, 300)\n    });\n\n    const updateCoordinates = (location) => {\n      context.emit('update:latitude', location.lat);\n      context.emit('update:longitude', location.lng);\n    };\n\n    const getCurrentLocation = (force) => {\n      if (props.readonly) {\n        return;\n      }\n      if (!force && props.latitude && props.longitude) {\n        return;\n      }\n      geolocation.getLocation({}).then((coordinates) => {\n        updateCoordinates({lat: coordinates.lat, lng: coordinates.lng});\n      })\n    };\n\n    const selectAddress = () => {\n      if (!address.value) {\n        return;\n      }\n      updateCoordinates({lat: address.value.geometry.location.lat, lng: address.value.geometry.location.lng});\n      nextTick(()=> {\n        address.value = null;\n      })\n    };\n\n    const googleSearch = (value) => {\n      if (!value) {\n        return;\n      }\n      let url =\n          \"https://maps.googleapis.com/maps/api/geocode/json?key=\" + props.apiKey + \"&address=\";\n      fetch(url + value)\n          .then((response) => response.json())\n          .then((jsonResult) => {\n            searchResult.value = jsonResult.results;\n          })\n          .catch((err) => {\n            notifyDefaultServerError(err);\n          });\n    };\n\n\n    return {\n      search,\n      address,\n      searchResult,\n      selectAddress,\n      getCurrentLocation,\n      updateCoordinates,\n    }\n\n  }\n\n};\n</script>\n\n<style scoped>\n  .gmap-container {\n    border: 1px solid lightgray;\n    padding: 10px;\n    border-radius: 5px;\n\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoogleMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoogleMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GoogleMap.vue?vue&type=template&id=114172e9&scoped=true&\"\nimport script from \"./GoogleMap.vue?vue&type=script&lang=js&\"\nexport * from \"./GoogleMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GoogleMap.vue?vue&type=style&index=0&id=114172e9&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"114172e9\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\ninstallComponents(component, {VAutocomplete})\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventSharedOrgsDialog.vue?vue&type=style&index=0&id=49aa7428&prod&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationProfile.vue?vue&type=style&index=0&id=3036e6c2&prod&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationImportMemberOrgsDialog.vue?vue&type=style&index=0&id=3fd2f70e&prod&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationBioPanel.vue?vue&type=style&index=0&id=36428e9e&prod&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationRaceSeriesStandingsTab.vue?vue&type=style&index=0&id=68f2796b&prod&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationConstantContactList.vue?vue&type=style&index=0&id=39fef6df&prod&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationMemberOrgFormDialog.vue?vue&type=style&index=0&id=58cbdf7c&prod&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationEventFormDialog.vue?vue&type=style&index=0&id=b6cea1f0&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationRaceSeriesResultsTab.vue?vue&type=style&index=0&id=7cec6702&prod&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationImportMembersDialog.vue?vue&type=style&index=0&id=14321dbe&prod&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"organization-profile-view\"}},[(_vm.organization.id && _vm.organization.my_level.is_admin)?_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\",\"lg\":\"3\"}},[_c('organization-bio-panel',{attrs:{\"organization\":_vm.organization},on:{\"edit-click\":function($event){return _vm.$refs.editDialogRef.show(_vm.organization)}}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"8\",\"lg\":\"9\"}},[_c('v-tabs',{staticClass:\"organization-profile-tabs\",attrs:{\"show-arrows\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},_vm._l((_vm.tabs),function(t,tabIdx){return _c('v-tab',{key:t.title,staticClass:\"pl-0 pr-0\"},[_c('v-menu',{attrs:{\"bottom\":\"\",\"right\":\"\",\"offset-y\":true},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nvar value = ref.value;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"align-self-center p-0 more-btn\",attrs:{\"text\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',{staticClass:\"mr-1\",attrs:{\"size\":\"20\"}},[_vm._v(_vm._s(t.icon))]),_c('span',[_vm._v(_vm._s(t.title))]),_c('v-icon',{staticClass:\"mr-1\",attrs:{\"size\":\"20\"}},[_vm._v(_vm._s(value? _vm.icons.mdiChevronUp: _vm.icons.mdiChevronDown))])],1)]}}],null,true)},[_c('v-list',{staticClass:\"grey lighten-3\"},[_vm._l((t.children),function(childTab){return [(!childTab.admin_required || _vm.organization.my_level.is_admin)?_c('v-list-item',{key:childTab.id,attrs:{\"input-value\":childTab.id == _vm.selectedTab.id},on:{\"click\":function($event){_vm.tab=tabIdx; _vm.selectedTab=childTab}}},[_c('v-icon',{staticClass:\"me-3\",attrs:{\"size\":\"20\"}},[_vm._v(_vm._s(childTab.icon))]),_vm._v(\" \"+_vm._s(childTab.title)+\" \")],1):_vm._e()]})],2)],1)],1)}),1),_c('v-tabs-items',{staticClass:\"mt-5 pa-1\",attrs:{\"id\":\"organization-profile-tabs-content\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab-item',[(_vm.selectedTab.id == 'individual-members')?_c('organization-members-tab',{attrs:{\"organization\":_vm.organization}}):_vm._e(),(_vm.selectedTab.id == 'constant-contact-list')?_c('organization-constant-contact-list',{attrs:{\"organization\":_vm.organization}}):_vm._e(),(_vm.selectedTab.id == 'org-members')?_c('organization-member-orgs-tab',{attrs:{\"organization\":_vm.organization}}):(_vm.selectedTab.id == 'membership-form' && _vm.organization.my_level.is_admin)?_c('organization-membership-form-tab',{attrs:{\"organization\":_vm.organization}}):_vm._e()],1),_c('v-tab-item',[(_vm.selectedTab.id == 'events' && _vm.organization.my_level.is_admin)?_c('organization-events-tab',{attrs:{\"organization\":_vm.organization}}):(_vm.selectedTab.id == 'races')?_c('organization-races-tab',{attrs:{\"organization\":_vm.organization}}):(_vm.selectedTab.id == 'race-results')?_c('organization-race-results-tab',{attrs:{\"organization\":_vm.organization}}):_vm._e()],1),_c('v-tab-item',[(_vm.selectedTab.id == 'race-series')?_c('organization-race-series-tab',{attrs:{\"organization\":_vm.organization}}):(_vm.selectedTab.id == 'race-series-results')?_c('organization-race-series-results-tab',{attrs:{\"organization\":_vm.organization}}):(_vm.selectedTab.id == 'race-series-standings' && _vm.organization.my_level.is_admin)?_c('organization-race-series-standings-tab',{attrs:{\"organization\":_vm.organization}}):(_vm.selectedTab.id == 'categories' && _vm.organization.my_level.is_admin)?_c('organization-categories-tab',{attrs:{\"organization\":_vm.organization}}):_vm._e()],1)],1)],1)],1):_vm._e(),_c('profile-organization-form-dialog',{ref:\"editDialogRef\",on:{\"save-successed\":function($event){return _vm.loadOrganization()}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',{staticClass:\"member-profile-bio-panel\"},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',{staticClass:\"pt-10\"},[(!_vm.readOnly)?_c('v-chip',{staticClass:\"v-chip-light-bg error--text w-full position-absolute org-man-label\",attrs:{\"color\":\"error\",\"label\":\"\"}},[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiOfficeBuildingCog))]),_vm._v(\" Organization Management \")],1):_vm._e(),_c('v-card-title',{staticClass:\"justify-center flex-column\"},[_c('v-avatar',{staticClass:\"mb-4\",class:_vm.organization.logo ? '' : 'v-avatar-light-bg primary--text',attrs:{\"color\":_vm.organization.logo ? '' : 'primary',\"size\":\"120\",\"rounded\":\"\"}},[(_vm.organization.logo)?_c('v-img',{attrs:{\"src\":_vm.organization.logo}}):_c('span',{staticClass:\"font-weight-semibold text-5xl\"},[_vm._v(_vm._s(_vm.avatarText(_vm.organization.name)))])],1),_c('span',{staticClass:\"mb-2\"},[_vm._v(_vm._s(_vm.organization.name))]),_c('v-chip',{class:(\"v-chip-light-bg text-sm font-weight-semibold \" + ((_vm.$const.ORGANIZATION_TYPE_MAP[_vm.organization.type] || {}).css) + \"--text text-capitalize\"),attrs:{\"label\":\"\",\"small\":\"\",\"color\":(_vm.$const.ORGANIZATION_TYPE_MAP[_vm.organization.type] || {}).css}},[_vm._v(\" \"+_vm._s((_vm.$const.ORGANIZATION_TYPE_MAP[_vm.organization.type] || {}).title || _vm.organization.type)+\" \")])],1),_c('v-card-text',{staticClass:\"d-flex justify-center flex-wrap mt-2 pe-sm-0\"},[_c('div',{staticClass:\"d-flex align-center me-8 mb-4\"},[_c('v-avatar',{staticClass:\"v-avatar-light-bg primary--text me-3\",attrs:{\"size\":\"40\",\"rounded\":\"\",\"color\":\"primary\"}},[_c('v-icon',{attrs:{\"color\":\"primary\",\"size\":\"22\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiAccountMultipleOutline)+\" \")])],1),_c('div',[_c('h3',{staticClass:\"text-xl font-weight-medium mb-n1\"},[_vm._v(\" \"+_vm._s(_vm.orgSummary.members_count || 0)+\" \")]),_c('span',[_vm._v(\"Members\")])])],1),_c('div',{staticClass:\"d-flex align-center mb-4 me-4\"},[_c('v-avatar',{staticClass:\"v-avatar-light-bg primary--text me-3\",attrs:{\"size\":\"40\",\"rounded\":\"\",\"color\":\"primary\"}},[_c('v-icon',{attrs:{\"color\":\"primary\",\"size\":\"22\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiCalendar)+\" \")])],1),_c('div',[_c('h3',{staticClass:\"text-xl font-weight-medium mb-n1\"},[_vm._v(\" \"+_vm._s(_vm.orgSummary.races_count || 0)+\" \")]),_c('span',[_vm._v(\"Races\")])])],1)]),_c('v-card-text',[(_vm.organization.about)?_c('div',{staticClass:\"text--secondary mb-2\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.organization.about)}},[_vm._v(_vm._s(_vm.organization.about))])]):_vm._e(),_c('h2',{staticClass:\"text-xl font-weight-semibold mb-2\"},[_vm._v(\" Details \")]),_c('v-divider'),_c('v-list',[_c('v-list-item',{staticClass:\"px-0 mb-n2\",attrs:{\"dense\":\"\"}},[_c('span',{staticClass:\"font-weight-medium text-no-wrap me-2\"},[_vm._v(\"Website:\")]),_c('span',{staticClass:\"text--secondary text-truncate\"},[(_vm.organization.website)?_c('a',{staticClass:\"text-decoration-none\",attrs:{\"href\":_vm.organization.website,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.organization.website))]):_c('span',[_vm._v(\"-\")])])]),_c('v-list-item',{staticClass:\"px-0 mb-n2\",attrs:{\"dense\":\"\"}},[_c('span',{staticClass:\"font-weight-medium me-2\"},[_vm._v(\"E-mail:\")]),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.organization.email || '-'))])]),_c('v-list-item',{staticClass:\"px-0 mb-n2\",attrs:{\"dense\":\"\"}},[_c('span',{staticClass:\"font-weight-medium me-2\"},[_vm._v(\"Phone:\")]),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.organization.phone? _vm.$utils.formatPhone(_vm.organization.phone): '-'))])]),_c('v-list-item',{staticClass:\"px-0 mb-n2\",attrs:{\"dense\":\"\"}},[_c('span',{staticClass:\"font-weight-medium me-2\"},[_vm._v(\"Country:\")]),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s((_vm.$const.COUNTRY_MAP[_vm.organization.country] || {}).name || _vm.organization.country || '-'))])]),_c('v-list-item',{staticClass:\"px-0 mb-n2\",attrs:{\"dense\":\"\"}},[_c('span',{staticClass:\"font-weight-medium me-2\"},[_vm._v(\"State:\")]),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.organization.state || '-'))])]),_c('v-list-item',{staticClass:\"px-0 mb-n2\",attrs:{\"dense\":\"\"}},[_c('span',{staticClass:\"font-weight-medium me-2\"},[_vm._v(\"City:\")]),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.organization.city || '-'))])]),_c('v-list-item',{staticClass:\"px-0 mb-n2\",attrs:{\"dense\":\"\"}},[_c('span',{staticClass:\"font-weight-medium me-2\"},[_vm._v(\"Address:\")]),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.organization.address || '-'))])]),_vm._l(((_vm.organization.social_media || {})),function(value,key){return _c('v-list-item',{key:key,staticClass:\"px-0 mb-n2\",attrs:{\"dense\":\"\"}},[_c('span',{staticClass:\"font-weight-medium text-no-wrap me-2\"},[_vm._v(_vm._s(_vm.title(key))+\":\")]),_c('span',{staticClass:\"text--secondary text-truncate\"},[_c('a',{staticClass:\"text-decoration-none\",attrs:{\"href\":value,\"target\":\"_blank\"}},[_vm._v(_vm._s(value))])])])})],2)],1),_c('v-card-text',{staticClass:\"justify-center\"},[(!_vm.readOnly && _vm.organization.my_level.is_admin)?_c('v-btn',{staticClass:\"w-full\",attrs:{\"color\":\"warning\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.$emit('edit-click')}}},[_c('v-icon',{attrs:{\"dark\":\"\",\"left\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiHomeEditOutline)+\" \")]),_vm._v(\"Edit Organization \")],1):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-row class=\"member-profile-bio-panel\">\n    <!-- user profile -->\n    <v-col cols=\"12\">\n      <v-card class=\"pt-10\">\n<!--        <v-btn v-if=\"!readOnly\" small color=\"info\" class=\"position-absolute back-org-btn\" :to=\"{name: $rns.DASHBOARD_MEMBER_PROFILE, params: {tab: 0}}\">-->\n<!--          <v-icon>{{icons.mdiKeyboardBackspace}}</v-icon>Organization List-->\n<!--        </v-btn>-->\n        <v-chip v-if=\"!readOnly\" color=\"error\" class=\"v-chip-light-bg error--text w-full position-absolute org-man-label\" label>\n          <v-icon>{{icons.mdiOfficeBuildingCog}}</v-icon>\n          Organization Management\n        </v-chip>\n        <v-card-title class=\"justify-center flex-column\">\n          <v-avatar\n            :color=\"organization.logo ? '' : 'primary'\"\n            :class=\"organization.logo ? '' : 'v-avatar-light-bg primary--text'\"\n            size=\"120\"\n            rounded\n            class=\"mb-4\"\n          >\n            <v-img v-if=\"organization.logo\" :src=\"organization.logo\"></v-img>\n            <span v-else class=\"font-weight-semibold text-5xl\">{{ avatarText(organization.name) }}</span>\n          </v-avatar>\n\n          <span class=\"mb-2\">{{ organization.name }}</span>\n\n          <v-chip\n            label\n            small\n            :color=\"($const.ORGANIZATION_TYPE_MAP[organization.type] || {}).css\"\n            :class=\"`v-chip-light-bg text-sm font-weight-semibold ${($const.ORGANIZATION_TYPE_MAP[organization.type] || {}).css}--text text-capitalize`\"\n          >\n            {{($const.ORGANIZATION_TYPE_MAP[organization.type] || {}).title || organization.type}}\n          </v-chip>\n        </v-card-title>\n\n        <v-card-text class=\"d-flex justify-center flex-wrap mt-2 pe-sm-0\">\n          <div class=\"d-flex align-center me-8 mb-4\">\n            <v-avatar\n              size=\"40\"\n              rounded\n              color=\"primary\"\n              class=\"v-avatar-light-bg primary--text me-3\"\n            >\n              <v-icon\n                color=\"primary\"\n                size=\"22\"\n              >\n                {{ icons.mdiAccountMultipleOutline }}\n              </v-icon>\n            </v-avatar>\n\n            <div>\n              <h3 class=\"text-xl font-weight-medium mb-n1\">\n                {{ orgSummary.members_count || 0 }}\n              </h3>\n              <span>Members</span>\n            </div>\n          </div>\n\n          <div class=\"d-flex align-center mb-4 me-4\">\n            <v-avatar\n              size=\"40\"\n              rounded\n              color=\"primary\"\n              class=\"v-avatar-light-bg primary--text me-3\"\n            >\n              <v-icon\n                color=\"primary\"\n                size=\"22\"\n              >\n                {{ icons.mdiCalendar }}\n              </v-icon>\n            </v-avatar>\n\n            <div>\n              <h3 class=\"text-xl font-weight-medium mb-n1\">\n                {{ orgSummary.races_count || 0 }}\n              </h3>\n              <span>Races</span>\n            </div>\n          </div>\n        </v-card-text>\n\n        <v-card-text>\n          <div class=\"text--secondary mb-2\" v-if=\"organization.about\">\n            <span v-html=\"organization.about\">{{ organization.about }}</span>\n          </div>\n          <h2 class=\"text-xl font-weight-semibold mb-2\">\n            Details\n          </h2>\n\n          <v-divider></v-divider>\n\n          <v-list>\n            <v-list-item dense class=\"px-0 mb-n2\">\n              <span class=\"font-weight-medium text-no-wrap me-2\">Website:</span>\n              <span class=\"text--secondary text-truncate\">\n                <a v-if=\"organization.website\" :href=\"organization.website\" target=\"_blank\"\n                   class=\"text-decoration-none\">{{organization.website}}</a>\n                <span v-else>-</span>\n              </span>\n            </v-list-item>\n\n            <v-list-item dense class=\"px-0 mb-n2\">\n              <span class=\"font-weight-medium me-2\">E-mail:</span>\n              <span class=\"text--secondary\">{{ organization.email || '-' }}</span>\n            </v-list-item>\n\n            <v-list-item dense class=\"px-0 mb-n2\">\n              <span class=\"font-weight-medium me-2\">Phone:</span>\n              <span class=\"text--secondary\">{{ organization.phone? $utils.formatPhone(organization.phone): '-' }}</span>\n            </v-list-item>\n\n            <v-list-item dense class=\"px-0 mb-n2\">\n              <span class=\"font-weight-medium me-2\">Country:</span>\n              <span class=\"text--secondary\">{{($const.COUNTRY_MAP[organization.country] || {}).name || organization.country || '-'}}</span>\n            </v-list-item>\n\n            <v-list-item dense class=\"px-0 mb-n2\">\n              <span class=\"font-weight-medium me-2\">State:</span>\n              <span class=\"text--secondary\">{{ organization.state || '-' }}</span>\n            </v-list-item>\n\n            <v-list-item dense class=\"px-0 mb-n2\">\n              <span class=\"font-weight-medium me-2\">City:</span>\n              <span class=\"text--secondary\">{{ organization.city || '-' }}</span>\n            </v-list-item>\n\n            <v-list-item dense class=\"px-0 mb-n2\">\n              <span class=\"font-weight-medium me-2\">Address:</span>\n              <span class=\"text--secondary\">{{ organization.address || '-' }}</span>\n            </v-list-item>\n\n            <v-list-item v-for=\"(value, key) in (organization.social_media || {})\" :key=\"key\" dense class=\"px-0 mb-n2\">\n              <span class=\"font-weight-medium text-no-wrap me-2\">{{title(key)}}:</span>\n              <span class=\"text--secondary text-truncate\">\n                <a :href=\"value\" target=\"_blank\"\n                   class=\"text-decoration-none\">{{value}}</a>\n              </span>\n            </v-list-item>\n          </v-list>\n        </v-card-text>\n\n        <v-card-text class=\"justify-center\">\n          <v-btn v-if=\"!readOnly && organization.my_level.is_admin\" color=\"warning\" outlined class=\"w-full\" @click=\"$emit('edit-click')\">\n            <v-icon dark left>\n              {{ icons.mdiHomeEditOutline }}\n            </v-icon>Edit Organization\n          </v-btn>\n        </v-card-text>\n      </v-card>\n\n    </v-col>\n\n  </v-row>\n</template>\n\n<script>\nimport {\n  mdiAccountMultipleOutline,\n  mdiCalendar,\n  mdiCheckboxBlankCircle,\n  mdiHomeEditOutline,\n  mdiKeyboardBackspace,\n  mdiAccountStarOutline,\n  mdiOfficeBuildingCog,\n} from '@mdi/js';\nimport { avatarText, title } from '@core/utils/filter';\nimport {onMounted, ref} from \"@vue/composition-api/dist/vue-composition-api\";\nimport axios from \"@/axios\";\nimport {notifyDefaultServerError} from \"@/composables/utils\";\n\nexport default {\n  components: {\n  },\n  props: {\n    organization: {\n      type: Object,\n      required: true\n    },\n    readOnly: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props, context) {\n    const orgSummary = ref({});\n\n    const loadOrgSummary = () => {\n      axios.get(`cycling_org/organization/${props.organization.id}/summary`).then((response) => {\n        orgSummary.value = response.data;\n      }, (error) => {\n        notifyDefaultServerError(error, true)\n      });\n    };\n\n    onMounted(() => {\n      loadOrgSummary();\n    });\n\n    return {\n      avatarText,\n      title,\n      orgSummary,\n      loadOrgSummary,\n      icons: {\n        mdiOfficeBuildingCog,\n        mdiAccountMultipleOutline,\n        mdiCalendar,\n        mdiCheckboxBlankCircle,\n        mdiHomeEditOutline,\n        mdiKeyboardBackspace,\n        mdiAccountStarOutline,\n      },\n    }\n  },\n}\n</script>\n<style lang=\"scss\">\n.member-profile-bio-panel {\n  .org-man-label {\n    top: 0;\n    left: 0;\n    border-bottom-right-radius: 0 !important;\n    border-bottom-left-radius: 0 !important;\n    box-shadow: 2px -9px 10px 0 rgb(94 86 105 / 10%);\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationBioPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationBioPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrganizationBioPanel.vue?vue&type=template&id=36428e9e&\"\nimport script from \"./OrganizationBioPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationBioPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrganizationBioPanel.vue?vue&type=style&index=0&id=36428e9e&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAvatar,VBtn,VCard,VCardText,VCardTitle,VChip,VCol,VDivider,VIcon,VImg,VList,VListItem,VRow})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"organization-profile-races-tab\"},[_c('v-card',[_c('v-card-text',{staticClass:\"pt-2 pb-2 pr-2 pl-2\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-autocomplete',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"Choose Event\",\"items\":_vm.events,\"item-text\":\"name\",\"item-value\":\"id\",\"hide-details\":\"\",\"search-input\":_vm.eventSearchInput,\"loading\":_vm.findingEvents,\"no-data-text\":\"No Result Found! Type here to Search event\",\"menu-props\":{contentClass:'list-style'},\"return-object\":\"\",\"clearable\":\"\"},on:{\"update:searchInput\":function($event){_vm.eventSearchInput=$event},\"update:search-input\":function($event){_vm.eventSearchInput=$event}},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c('span',{staticClass:\"d-block font-weight-medium text-truncate\"},[_vm._v(\" \"+_vm._s(data.item.name)+\" \")])]}},{key:\"item\",fn:function(data){return [_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"text-sm\"},[_vm._v(\" \"+_vm._s(data.item.name)+\" \")]),_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(_vm.$utils.formatDate(data.item.start_date, 'MMM D, YYYY'))+\" - \"+_vm._s(_vm.$utils.formatDate(data.item.end_date, 'MMM D, YYYY'))+\" \")])],1)]}},{key:\"prepend-item\",fn:function(){return [_c('v-row',{staticClass:\"pl-1 pr-1 mb-1\"},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-menu',{attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({staticClass:\"pt-0 pb-0\",attrs:{\"label\":\"From Date\",\"hide-details\":\"\",\"dense\":\"\",\"readonly\":\"\",\"clearable\":\"\",\"filled\":\"\"},model:{value:(_vm.eventFiltering.from_date),callback:function ($$v) {_vm.$set(_vm.eventFiltering, \"from_date\", $$v)},expression:\"eventFiltering.from_date\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.eventFromDate),callback:function ($$v) {_vm.eventFromDate=$$v},expression:\"eventFromDate\"}},[_c('v-date-picker',{attrs:{\"color\":\"primary\"},on:{\"input\":function($event){_vm.eventFromDate = false}},model:{value:(_vm.eventFiltering.from_date),callback:function ($$v) {_vm.$set(_vm.eventFiltering, \"from_date\", $$v)},expression:\"eventFiltering.from_date\"}})],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-menu',{attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({staticClass:\"pt-0 pb-0\",attrs:{\"label\":\"To Date\",\"hide-details\":\"\",\"dense\":\"\",\"readonly\":\"\",\"clearable\":\"\",\"filled\":\"\"},model:{value:(_vm.eventFiltering.to_date),callback:function ($$v) {_vm.$set(_vm.eventFiltering, \"to_date\", $$v)},expression:\"eventFiltering.to_date\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.eventToDate),callback:function ($$v) {_vm.eventToDate=$$v},expression:\"eventToDate\"}},[_c('v-date-picker',{attrs:{\"color\":\"primary\"},on:{\"input\":function($event){_vm.eventToDate = false}},model:{value:(_vm.eventFiltering.to_date),callback:function ($$v) {_vm.$set(_vm.eventFiltering, \"to_date\", $$v)},expression:\"eventFiltering.to_date\"}})],1)],1)],1)]},proxy:true}]),model:{value:(_vm.selectedEvent),callback:function ($$v) {_vm.selectedEvent=$$v},expression:\"selectedEvent\"}})],1)],1)],1),_c('v-divider'),_c('v-card-text',{staticClass:\"d-flex align-center flex-wrap pb-0\"},[_c('div',{staticClass:\"d-flex align-center pb-5\"},[_c('v-btn',{staticClass:\"mr-1\",attrs:{\"fab\":\"\",\"x-small\":\"\",\"color\":\"info\"},on:{\"click\":function($event){return _vm.loadRecords(1);}}},[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiRefresh))])],1),(_vm.organization.my_level.is_admin)?_c('v-btn',{staticClass:\"me-1\",attrs:{\"small\":\"\",\"color\":\"primary\",\"disabled\":!_vm.selectedEvent},on:{\"click\":function($event){return _vm.$refs.formDialogRef.show(null, _vm.selectedEvent)}}},[_c('v-icon',{staticClass:\"me-1\",attrs:{\"size\":\"18\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiPlus)+\" \")]),_c('span',[_vm._v(\"New Race\")])],1):_vm._e(),(_vm.organization.my_level.is_admin && _vm.selectedEvent)?_c('organization-race-template',{attrs:{\"organization\":_vm.organization,\"event\":_vm.selectedEvent},on:{\"save-successed\":function($event){return _vm.loadRecords(1)}}}):_vm._e()],1),_c('v-spacer'),_c('div',{staticClass:\"d-flex align-center pb-5\"},[_c('v-text-field',{staticClass:\"me-3 search-input\",attrs:{\"value\":_vm.tableFiltering.search,\"dense\":\"\",\"clearable\":\"\",\"hide-details\":\"\",\"placeholder\":\"Search ...\"},on:{\"change\":function (value) { return _vm.$set(_vm.tableFiltering, 'search', value); },\"click:clear\":function($event){return _vm.$set(_vm.tableFiltering, 'search', null)}}})],1)],1),_c('v-data-table',{staticClass:\"text-no-wrap\",attrs:{\"headers\":_vm.tableColumns,\"items\":_vm.records,\"options\":_vm.tableOptions,\"server-items-length\":_vm.pagination.total,\"loading\":_vm.loading,\"footer-props\":{'items-per-page-options': _vm.$const.DEFAULT_TABLE_PER_PAGE_OPTIONS, 'show-current-page': true, 'show-first-last-page': true}},on:{\"update:options\":[function($event){_vm.tableOptions=$event},function($event){return _vm.loadRecords()}]},scopedSlots:_vm._u([{key:\"item.event\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"d-flex flex-column\"},[_c('span',{staticClass:\"text-truncate\"},[_vm._v(\" \"+_vm._s(item._event.name)+\" \")])]),_c('span',{staticClass:\"text-caption\"},[_vm._v(\" \"+_vm._s(_vm.$utils.formatDate(item._event.start_date, 'MMM D, YYYY'))+\" - \"+_vm._s(_vm.$utils.formatDate(item._event.end_date, 'MMM D, YYYY'))+\" \")])]}},{key:\"item.name\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{staticClass:\"text-truncate font-weight-semibold\"},[_vm._v(\" \"+_vm._s(item.name)+\" \")])]}},{key:\"item.start_datetime\",fn:function(ref){\nvar item = ref.item;\nreturn [(!item.start_datetime)?_c('span',[_vm._v(\"-\")]):[_c('span',{staticClass:\"pr-1\"},[_vm._v(_vm._s(_vm.$utils.formatDate(item.start_datetime, 'MMM D, YYYY')))]),_c('span',{staticClass:\"text-caption\"},[_vm._v(_vm._s(_vm.$utils.formatDate(item.start_datetime, 'HH:mm')))])]]}},{key:\"item.create_datetime\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{staticClass:\"pr-1\"},[_vm._v(_vm._s(_vm.$utils.formatDate(item.create_datetime, 'M/D/YY')))]),_c('span',{staticClass:\"text-caption\"},[_vm._v(_vm._s(_vm.$utils.formatDate(item.create_datetime, 'HH:mm')))])]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"d-flex align-end justify-end\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.$refs.formDialogRef.show(item)}}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"size\":\"18\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiPencilOutline)+\" \")])],1)]}}],null,true)},[_c('span',[_vm._v(\"Edit\")])])],1)]}}])})],1),_c('organization-race-form-dialog',{ref:\"formDialogRef\",attrs:{\"organization\":_vm.organization},on:{\"save-successed\":function($event){return _vm.loadRecords(1)},\"delete-successed\":function($event){return _vm.loadRecords(1)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},model:{value:(_vm.isVisible),callback:function ($$v) {_vm.isVisible=$$v},expression:\"isVisible\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.isEditMode? (\"Edit Race #\" + (_vm.record.id)): 'New Race'))])]),_c('v-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save.apply(null, arguments)}}},[_c('v-card-text',[_c('v-container',[_c('v-row',[(_vm.record._event || _vm.currentEvent)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('div',[_vm._v(\"Event: \"),_c('span',{staticClass:\"font-weight-semibold\"},[_vm._v(_vm._s((_vm.record._event || _vm.currentEvent).name))])])]):_vm._e(),_c('v-col',{attrs:{\"cols\":\"12 pt-0\"}},[_c('v-divider')],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Race Name\",\"dense\":\"\"},model:{value:(_vm.record.name),callback:function ($$v) {_vm.$set(_vm.record, \"name\", $$v)},expression:\"record.name\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-datetime-picker',{attrs:{\"label\":\"Start Date/Time\"},scopedSlots:_vm._u([{key:\"dateIcon\",fn:function(){return [_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiCalendar))])]},proxy:true},{key:\"timeIcon\",fn:function(){return [_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiClock))])]},proxy:true}]),model:{value:(_vm.record.start_datetime),callback:function ($$v) {_vm.$set(_vm.record, \"start_datetime\", $$v)},expression:\"record.start_datetime\"}})],1)],1)],1)],1),(_vm.confirmDelete)?_c('v-card-text',[_c('v-alert',{attrs:{\"type\":\"warning\",\"dense\":\"\",\"text\":\"\",\"icon\":_vm.icons.mdiAlert}},[_c('p',[_vm._v(\"If you delete it, all related records will be deleted! Are you sure?\")]),_c('v-btn',{attrs:{\"color\":\"error\",\"outlined\":\"\",\"small\":\"\",\"loading\":_vm.deleting},on:{\"click\":function($event){return _vm.deleteRecord()}}},[_vm._v(\"Yes, Delete It\")]),_c('v-btn',{staticClass:\"ml-1\",attrs:{\"color\":\"secondary\",\"small\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.confirmDelete=false}}},[_vm._v(\"Cancel\")])],1)],1):_vm._e(),_c('v-card-actions',[(_vm.isEditMode)?[_c('v-btn',{attrs:{\"color\":\"error\",\"outlined\":\"\",\"disabled\":_vm.confirmDelete},on:{\"click\":function($event){_vm.confirmDelete=true}}},[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiDelete))]),_vm._v(\"Delete \")],1)]:_vm._e(),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"secondary\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.hide()}}},[_vm._v(\"Close\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"type\":\"submit\",\"loading\":_vm.saving}},[_vm._v(\"Save\")])],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog\n    v-model=\"isVisible\"\n    persistent\n    max-width=\"600px\"\n  >\n    <v-card>\n      <v-card-title>\n        <span class=\"headline\">{{isEditMode? `Edit Race #${record.id}`: 'New Race'}}</span>\n      </v-card-title>\n      <v-form @submit.prevent=\"save\">\n        <v-card-text>\n          <v-container>\n            <v-row>\n              <v-col cols=\"12\" v-if=\"record._event || currentEvent\">\n                <div>Event: <span class=\"font-weight-semibold\">{{(record._event || currentEvent).name}}</span></div>\n              </v-col>\n              <v-col cols=\"12 pt-0\">\n                <v-divider></v-divider>\n              </v-col>\n            </v-row>\n            <v-row>\n              <v-col cols=\"12\">\n                <v-text-field v-model=\"record.name\" label=\"Race Name\" dense></v-text-field>\n              </v-col>\n              <v-col cols=\"12\">\n                <v-datetime-picker v-model=\"record.start_datetime\" label=\"Start Date/Time\">\n                  <template #dateIcon>\n                    <v-icon>{{icons.mdiCalendar}}</v-icon>\n                  </template>\n                  <template #timeIcon>\n                    <v-icon>{{icons.mdiClock}}</v-icon>\n                  </template>\n                </v-datetime-picker>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-card-text>\n\n        <v-card-text v-if=\"confirmDelete\">\n          <v-alert type=\"warning\" dense text :icon=\"icons.mdiAlert\">\n            <p>If you delete it, all related records will be deleted! Are you sure?</p>\n            <v-btn color=\"error\" outlined small :loading=\"deleting\" @click=\"deleteRecord()\">Yes, Delete It</v-btn>\n            <v-btn color=\"secondary\" @click=\"confirmDelete=false\" small text class=\"ml-1\">Cancel</v-btn>\n          </v-alert>\n        </v-card-text>\n        <v-card-actions>\n          <template v-if=\"isEditMode\" >\n            <v-btn color=\"error\" outlined @click=\"confirmDelete=true\" :disabled=\"confirmDelete\">\n              <v-icon>{{icons.mdiDelete}}</v-icon>Delete\n            </v-btn>\n          </template>\n          <v-spacer></v-spacer>\n          <v-btn color=\"secondary\" outlined @click=\"hide()\">Close</v-btn>\n          <v-btn color=\"primary\" type=\"submit\" :loading=\"saving\">Save</v-btn>\n        </v-card-actions>\n      </v-form>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport {\n  mdiDelete,\n  mdiAlert,\n  mdiCalendar,\n  mdiClock\n} from '@mdi/js'\nimport {ref, computed} from '@vue/composition-api'\nimport axios from \"@/axios\";\nimport {notifyDefaultServerError, notifySuccess} from \"@/composables/utils\";\nimport {watch} from \"@vue/composition-api/dist/vue-composition-api\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\n\nexport default {\n  props: {\n    organization: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props, context) {\n    const isVisible = ref(false);\n    const record = ref({});\n    const currentEvent = ref(null);\n    const saving = ref(false);\n    const deleting = ref(false);\n    const confirmDelete = ref(false);\n    const isEditMode = computed(() => !!record.value.id);\n\n    const deleteRecord = () => {\n      deleting.value = true;\n      axios.delete(`cycling_org/race/${record.value.id}`).then((response) => {\n        deleting.value = false;\n        notifySuccess(`Race #${record.value.id} deleted.`);\n        hide();\n        context.emit('delete-successed', record.value);\n      }, (error) => {\n        deleting.value = false;\n        notifyDefaultServerError(error, true);\n      });\n    };\n\n    const save = () => {\n      var data = Object.assign({}, record.value);\n      var url = \"cycling_org/race\",\n          httpMethod = axios.post,\n          successMsg = \"Race added successfully.\";\n      if (isEditMode.value) {\n        url = `cycling_org/race/${record.value.id}`;\n        httpMethod = axios.patch;\n        successMsg = \"Race updated successfully.\"\n      } else {\n        data.event = currentEvent.value.id;\n        data.organization = props.organization.id;\n      }\n      saving.value = true;\n      httpMethod(url, data).then((response) => {\n        saving.value = false;\n        notifySuccess(successMsg);\n        hide();\n        context.emit('save-successed', response.data);\n      }, (error) => {\n        saving.value = false;\n        notifyDefaultServerError(error, true);\n      });\n    };\n\n    const hide = () => {\n      isVisible.value = false;\n    };\n    const show = (r, event) => {\n      record.value = Object.assign({}, r);\n      currentEvent.value = event || null;\n      confirmDelete.value = false;\n      deleting.value = false;\n      saving.value = false;\n      isVisible.value = true;\n      if (record.value.start_datetime) {\n        record.value.start_datetime = moment(record.value.start_datetime).toDate()\n      }\n    };\n\n    return {\n      isVisible,\n      confirmDelete,\n      isEditMode,\n      record,\n      saving,\n      deleting,\n      deleteRecord,\n      hide,\n      show,\n      save,\n      currentEvent,\n      icons: {\n        mdiDelete,\n        mdiAlert,\n        mdiCalendar,\n        mdiClock\n      },\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationRaceFormDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationRaceFormDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrganizationRaceFormDialog.vue?vue&type=template&id=498451c0&\"\nimport script from \"./OrganizationRaceFormDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationRaceFormDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VContainer,VDialog,VDivider,VForm,VIcon,VRow,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"scrollable\":\"\",\"max-width\":\"700px\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Preview Race Template \"),(_vm.raceTemplate)?_c('v-chip',{staticClass:\"ml-2\",attrs:{\"small\":\"\",\"color\":\"primary\"}},[_vm._v(\" \"+_vm._s(_vm.raceTemplate))]):_vm._e()],1),_c('v-divider'),_c('v-card-text',[(_vm.dialogLoader)?_c('div',{staticClass:\"text-center mt-2\"},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"primary\"}})],1):_c('div',[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-subheader',[_vm._v(\"Races\")]),_vm._l((_vm.races),function(item,i){return _c('v-list-item',{key:i},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(item)}})],1)],1)})],2)],1)]),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\" Close \")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":_vm.createRacesFromRaceTemplate}},[_vm._v(\" Create \")])],1)],1)],1),_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"small\":\"\",\"color\":\"primary\"}},'v-btn',attrs,false),on),[_c('v-icon',{staticClass:\"me-1\",attrs:{\"size\":\"18\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiPlus)+\" \")]),_vm._v(\" Race Templates\")],1)]}}])},[_c('v-list',_vm._l((Object.entries(\n          _vm.$store.state.sitePrefs.core_backend__global_race_template || {}\n        )),function(ref){\n        var template_name = ref[0];\n        var races = ref[1];\nreturn _c('v-list-item',{key:template_name,on:{\"click\":function($event){return _vm.previewRaceTemplate(template_name, races)}}},[_c('v-list-item-title',[_vm._v(_vm._s(template_name)+\" - Races (\"+_vm._s(races.length)+\")\")])],1)}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-dialog v-model=\"dialog\" scrollable max-width=\"700px\">\n      <v-card>\n        <v-card-title\n          >Preview Race Template\n          <v-chip class=\"ml-2\" small color=\"primary\" v-if=\"raceTemplate\">\n            {{ raceTemplate }}</v-chip\n          ></v-card-title\n        >\n        <v-divider></v-divider>\n        <v-card-text>\n          <div v-if=\"dialogLoader\" class=\"text-center mt-2\">\n            <v-progress-circular\n              indeterminate\n              color=\"primary\"\n            ></v-progress-circular>\n          </div>\n          <div v-else>\n            <v-list dense>\n              <v-subheader>Races</v-subheader>\n\n              <v-list-item v-for=\"(item, i) in races\" :key=\"i\">\n                <v-list-item-content>\n                  <v-list-item-title v-text=\"item\"></v-list-item-title>\n                </v-list-item-content>\n              </v-list-item>\n            </v-list>\n          </div>\n        </v-card-text>\n        <v-divider></v-divider>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"blue darken-1\" text @click=\"dialog = false\">\n            Close\n          </v-btn>\n          <v-btn color=\"primary\" text @click=\"createRacesFromRaceTemplate\">\n            Create\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <v-menu offset-y>\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn v-bind=\"attrs\" v-on=\"on\" small color=\"primary\"\n          ><v-icon size=\"18\" class=\"me-1\">\n            {{ icons.mdiPlus }}\n          </v-icon>\n          Race Templates</v-btn\n        >\n      </template>\n      <v-list>\n        <v-list-item\n          @click=\"previewRaceTemplate(template_name, races)\"\n          v-for=\"[template_name, races] of Object.entries(\n            $store.state.sitePrefs.core_backend__global_race_template || {}\n          )\"\n          :key=\"template_name\"\n        >\n          <v-list-item-title\n            >{{ template_name }} - Races ({{ races.length }})</v-list-item-title\n          >\n        </v-list-item>\n      </v-list>\n    </v-menu>\n  </div>\n</template>\n\n<script>\nimport { ref } from \"@vue/composition-api\";\nimport { mdiPlus } from \"@mdi/js\";\nimport { notifyDefaultServerError, notifySuccess } from \"@/composables/utils\";\nimport axios from \"@/axios\";\n\nexport default {\n  props: {\n    event: {\n      type: Object,\n      required: true,\n    },\n    organization: {\n      type: Object,\n      required: true,\n    },\n  },\n  setup(props, context) {\n    const dialog = ref(false);\n    const dialogLoader = ref(false);\n    const raceTemplate = ref();\n    const races = ref([]);\n    const raceHeaders = ref([{ text: \"Race name\", value: \"\" }]);\n    const previewRaceTemplate = (template, racesList) => {\n      console.log(races);\n      dialog.value = true;\n      dialogLoader.value = false;\n      races.value = racesList;\n      raceTemplate.value = template;\n    };\n    const createRacesFromRaceTemplate = () => {\n      dialogLoader.value = true;\n      axios\n        .post(\"cycling_org/race/create_from_race_template\", {\n          race_template: raceTemplate.value,\n          event: props.event.id,\n          organization: props.organization.id,\n        })\n        .then((response) => {\n          dialog.value = false;\n          notifySuccess(response.data);\n          context.emit(\"save-successed\", response.data);\n        })\n        .catch((error) => {\n          dialogLoader.value = false;\n          notifyDefaultServerError(error, true);\n        });\n    };\n    return {\n      dialog, // dialog model,\n      dialogLoader, // dialog loader\n      raceTemplate, // hold template,\n      races,\n      raceHeaders, // Race table name\n      previewRaceTemplate,\n      createRacesFromRaceTemplate,\n      icons: {\n        mdiPlus,\n      },\n    };\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationRaceTemplate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationRaceTemplate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrganizationRaceTemplate.vue?vue&type=template&id=b31e16aa&\"\nimport script from \"./OrganizationRaceTemplate.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationRaceTemplate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VChip,VDialog,VDivider,VIcon,VList,VListItem,VListItemContent,VListItemTitle,VMenu,VProgressCircular,VSpacer,VSubheader})\n","<template>\n  <div class=\"organization-profile-races-tab\">\n    <v-card>\n      <v-card-text class=\"pt-2 pb-2 pr-2 pl-2\">\n        <v-row>\n          <v-col cols=\"12\">\n            <v-autocomplete\n                v-model=\"selectedEvent\"\n                outlined\n                dense\n                label=\"Choose Event\"\n                :items=\"events\"\n                item-text=\"name\"\n                item-value=\"id\"\n                hide-details\n                :search-input.sync=\"eventSearchInput\"\n                :loading=\"findingEvents\"\n                no-data-text=\"No Result Found! Type here to Search event\"\n                :menu-props=\"{contentClass:'list-style'}\"\n                return-object\n                clearable\n            >\n              <template #selection=\"data\">\n                <span class=\"d-block font-weight-medium text-truncate\">\n                  {{ data.item.name }}\n                </span>\n              </template>\n              <template #item=\"data\">\n                <v-list-item-content>\n                  <v-list-item-title class=\"text-sm\">\n                    {{ data.item.name }}\n                  </v-list-item-title>\n                  <v-list-item-subtitle>\n                    {{ $utils.formatDate(data.item.start_date, 'MMM D, YYYY') }} - {{ $utils.formatDate(data.item.end_date, 'MMM D, YYYY') }}\n                  </v-list-item-subtitle>\n                </v-list-item-content>\n              </template>\n              <template #prepend-item>\n                <v-row class=\"pl-1 pr-1 mb-1\">\n                  <v-col cols=\"12\" md=\"6\">\n                    <v-menu v-model=\"eventFromDate\" :close-on-content-click=\"false\"\n                        :nudge-right=\"40\" transition=\"scale-transition\" offset-y min-width=\"auto\">\n                      <template v-slot:activator=\"{ on, attrs }\">\n                        <v-text-field class=\"pt-0 pb-0\" v-model=\"eventFiltering.from_date\" label=\"From Date\" hide-details\n                                      v-bind=\"attrs\" v-on=\"on\" dense readonly clearable filled>\n                        </v-text-field>\n                      </template>\n                      <v-date-picker v-model=\"eventFiltering.from_date\" color=\"primary\" @input=\"eventFromDate = false\">\n                      </v-date-picker>\n                    </v-menu>\n                  </v-col>\n                  <v-col cols=\"12\" md=\"6\">\n                    <v-menu v-model=\"eventToDate\" :close-on-content-click=\"false\"\n                        :nudge-right=\"40\" transition=\"scale-transition\" offset-y min-width=\"auto\">\n                      <template v-slot:activator=\"{ on, attrs }\">\n                        <v-text-field class=\"pt-0 pb-0\" v-model=\"eventFiltering.to_date\" label=\"To Date\" hide-details\n                                      v-bind=\"attrs\" v-on=\"on\" dense readonly clearable filled>\n                        </v-text-field>\n                      </template>\n                      <v-date-picker v-model=\"eventFiltering.to_date\" color=\"primary\" @input=\"eventToDate = false\">\n                      </v-date-picker>\n                    </v-menu>\n                  </v-col>\n                </v-row>\n              </template>\n            </v-autocomplete>\n          </v-col>\n        </v-row>\n      </v-card-text>\n      <v-divider></v-divider>\n      <v-card-text class=\"d-flex align-center flex-wrap pb-0\">\n        <div class=\"d-flex align-center pb-5\">\n          <v-btn fab x-small color=\"info\" class=\"mr-1\" @click=\"loadRecords(1);\">\n            <v-icon>{{icons.mdiRefresh}}</v-icon>\n          </v-btn>\n          <v-btn v-if=\"organization.my_level.is_admin\" small color=\"primary\" class=\"me-1\"\n                 @click=\"$refs.formDialogRef.show(null, selectedEvent)\" :disabled=\"!selectedEvent\">\n            <v-icon size=\"18\" class=\"me-1\">\n              {{ icons.mdiPlus }}\n            </v-icon>\n            <span>New Race</span>\n          </v-btn>\n          <organization-race-template  @save-successed=\"loadRecords(1)\" :organization=\"organization\" :event=\"selectedEvent\" v-if=\"organization.my_level.is_admin && selectedEvent\"></organization-race-template>\n        </div>\n\n        <v-spacer></v-spacer>\n\n        <div class=\"d-flex align-center pb-5\">\n          <v-text-field\n              :value=\"tableFiltering.search\"\n              @change=\"value => $set(tableFiltering, 'search', value)\"\n              @click:clear=\"$set(tableFiltering, 'search', null)\"\n              dense clearable hide-details\n              placeholder=\"Search ...\" class=\"me-3 search-input\"\n          ></v-text-field>\n\n        </div>\n      </v-card-text>\n\n      <v-data-table\n        :headers=\"tableColumns\"\n        :items=\"records\"\n        :options.sync=\"tableOptions\"\n        @update:options=\"loadRecords()\"\n        :server-items-length=\"pagination.total\"\n        :loading=\"loading\"\n        class=\"text-no-wrap\"\n        :footer-props=\"{'items-per-page-options': $const.DEFAULT_TABLE_PER_PAGE_OPTIONS, 'show-current-page': true, 'show-first-last-page': true}\"\n      >\n        <template #item.event=\"{item}\">\n          <div class=\"d-flex flex-column\">\n            <span class=\"text-truncate\">\n              {{item._event.name}}\n            </span>\n          </div>\n          <span class=\"text-caption\">\n            {{ $utils.formatDate(item._event.start_date, 'MMM D, YYYY') }} - {{ $utils.formatDate(item._event.end_date, 'MMM D, YYYY') }}\n          </span>\n        </template>\n        <template #item.name=\"{item}\">\n            <span class=\"text-truncate font-weight-semibold\">\n              {{item.name}}\n            </span>\n        </template>\n        <template #item.start_datetime=\"{item}\">\n          <span v-if=\"!item.start_datetime\">-</span>\n          <template v-else>\n            <span class=\"pr-1\">{{$utils.formatDate(item.start_datetime, 'MMM D, YYYY')}}</span>\n            <span class=\"text-caption\">{{$utils.formatDate(item.start_datetime, 'HH:mm')}}</span>\n          </template>\n        </template>\n        <template #item.create_datetime=\"{item}\">\n          <span class=\"pr-1\">{{$utils.formatDate(item.create_datetime, 'M/D/YY')}}</span>\n          <span class=\"text-caption\">{{$utils.formatDate(item.create_datetime, 'HH:mm')}}</span>\n        </template>\n\n        <!-- actions -->\n        <template #item.actions=\"{item}\">\n          <div class=\"d-flex align-end justify-end\">\n            <v-tooltip bottom>\n              <template #activator=\"{ on, attrs }\">\n                <v-btn icon small v-bind=\"attrs\" v-on=\"on\" @click=\"$refs.formDialogRef.show(item)\">\n                  <v-icon size=\"18\">\n                    {{ icons.mdiPencilOutline }}\n                  </v-icon>\n                </v-btn>\n              </template>\n              <span>Edit</span>\n            </v-tooltip>\n          </div>\n        </template>\n\n      </v-data-table>\n    </v-card>\n    <organization-race-form-dialog :organization=\"organization\" ref=\"formDialogRef\" @save-successed=\"loadRecords(1)\"\n                                    @delete-successed=\"loadRecords(1)\">\n    </organization-race-form-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  mdiPlus,\n  mdiPencilOutline,\n  mdiEyeOutline,\n  mdiAccountGroupOutline,\n  mdiAccountMultipleOutline,\n  mdiClose,\n  mdiCheck,\n  mdiInformationOutline,\n  mdiRefresh,\n  mdiAccountCheck,\n  mdiFileExcelOutline,\n  mdiPodiumGold,\n} from '@mdi/js'\n\nimport { ref, reactive, watch, onMounted } from '@vue/composition-api'\nimport axios from \"@/axios\";\nimport {notifyDefaultServerError, notifySuccess, refineVTableOptions} from \"@/composables/utils\";\nimport OrganizationRaceFormDialog from \"./OrganizationRaceFormDialog\";\nimport OrganizationRaceTemplate from \"./OrganizationRaceTemplate\";\nimport _ from \"lodash\";\n\nexport default {\n  components: {OrganizationRaceFormDialog, OrganizationRaceTemplate},\n  props: {\n    organization: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props, context) {\n    const records = ref([]);\n    const pagination = ref({total: 0});\n    const loading = ref(false);\n    const tableOptions = ref({});\n    const tableFiltering = ref({});\n    const eventFromDate = ref();\n    const eventToDate = ref();\n    const eventFiltering = ref({});\n\n    const tableColumns = [\n      {text: '#ID', value: 'id', align: 'start',},\n      {text: 'NAME', value: 'name'},\n      {text: 'STARTED AT', value: 'start_datetime'},\n      {text: 'EVENT', value: 'event', cellClass: 'event-td'},\n      {text: 'CREATED AT', value: 'create_datetime'},\n    ];\n    if (props.organization.my_level.is_admin) {\n      tableColumns.push({text: 'ACTIONS', value: 'actions', align: 'end', sortable: false,})\n    }\n    const events = ref([]);\n    const eventSearchInput = ref('');\n    const selectedEvent = ref(null);\n    const findingEvents = ref(false);\n\n    watch(eventSearchInput, () => {\n      findEventsDebounce(eventSearchInput.value);\n    });\n    watch(selectedEvent, () => {\n      loadRecords(1);\n    });\n    watch(() => eventFiltering, (currentValue, oldValue) => {\n        findEvents(eventSearchInput.value);\n      },\n      { deep: true }\n    );\n\n    const findEvents = (search) => {\n      if (findingEvents.value) {\n        events.value = [];\n        return;\n      }\n      var params = {search: search};\n      if (eventFiltering.value.from_date) {\n        params.start_date__gte = eventFiltering.value.from_date\n      }\n      if (eventFiltering.value.to_date) {\n        params.start_date__lte = eventFiltering.value.to_date\n      }\n      findingEvents.value = true;\n      axios.get(\"cycling_org/event/\", {params: params, include_org_private: props.organization.id}).then((response) => {\n        findingEvents.value = false;\n        events.value = response.data.results;\n      }, (error) => {\n        findingEvents.value = false;\n        notifyDefaultServerError(error, true)\n      });\n    };\n\n    const findEventsDebounce = _.debounce(findEvents, 500);\n\n    const loadRecords = (page) => {\n      if (page) {\n        tableOptions.value.page = page;\n      }\n      const params = Object.assign({organization: props.organization.id}, tableFiltering.value, refineVTableOptions(tableOptions.value));\n      if (selectedEvent.value) {\n        params.event = selectedEvent.value.id\n      }\n      loading.value = true;\n      axios.get(\"cycling_org/race/\", {params: params}).then((response) => {\n        loading.value = false;\n        records.value = response.data.results;\n        pagination.value = response.data.pagination;\n      }, (error) => {\n        loading.value = false;\n        notifyDefaultServerError(error, true)\n      });\n    };\n    watch(() => tableFiltering, (currentValue, oldValue) => {\n        loadRecords(1);\n      },\n      { deep: true }\n    );\n\n    onMounted(() => {\n    });\n\n    return {\n      records,\n      eventSearchInput,\n      events,\n      selectedEvent,\n      findEvents,\n      findEventsDebounce,\n      findingEvents,\n      tableColumns,\n      tableOptions,\n      tableFiltering,\n      loading,\n      pagination,\n      loadRecords,\n      eventFromDate,\n      eventToDate,\n      eventFiltering,\n      icons: {\n        mdiPlus,\n        mdiPencilOutline,\n        mdiEyeOutline,\n        mdiAccountGroupOutline,\n        mdiAccountMultipleOutline,\n        mdiClose,\n        mdiCheck,\n        mdiInformationOutline,\n        mdiRefresh,\n        mdiAccountCheck,\n        mdiFileExcelOutline,\n        mdiPodiumGold,\n      },\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.organization-profile-races-tab {\n  .search-input {\n    max-width: 10.625rem;\n  }\n  td.event-td {\n    max-width: 250px;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationRacesTab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationRacesTab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrganizationRacesTab.vue?vue&type=template&id=8fcf9e22&\"\nimport script from \"./OrganizationRacesTab.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationRacesTab.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrganizationRacesTab.vue?vue&type=style&index=0&id=8fcf9e22&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VAutocomplete,VBtn,VCard,VCardText,VCol,VDataTable,VDatePicker,VDivider,VIcon,VListItemContent,VListItemSubtitle,VListItemTitle,VMenu,VRow,VSpacer,VTextField,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"member-profile-organization-tab\"},[_c('v-card',[_c('v-card-text',{staticClass:\"d-flex align-center flex-wrap pb-0\"},[_c('div',{staticClass:\"d-flex align-center pb-5\"},[_c('v-btn',{staticClass:\"me-1\",attrs:{\"fab\":\"\",\"x-small\":\"\",\"color\":\"info\"},on:{\"click\":function($event){return _vm.loadRecords(1)}}},[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiRefresh))])],1),(_vm.organization.my_level.is_admin)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"me-1\",attrs:{\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.formDialogRef.show()}}},'v-btn',attrs,false),on),[_c('v-icon',{staticClass:\"me-1\",attrs:{\"size\":\"18\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiAccountPlus)+\" \")]),_c('span',[_vm._v(\"Member\")])],1)]}}],null,false,3635150013)},[_c('span',[_vm._v(\"Add A Member To Organization\")])]):_vm._e(),(_vm.organization.my_level.is_admin)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"me-1\",attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"info\"},on:{\"click\":function($event){return _vm.$refs.importDialogRef.show()}}},'v-btn',attrs,false),on),[_c('v-icon',{staticClass:\"me-1\",attrs:{\"size\":\"18\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiFileExcelOutline)+\" \")]),_c('span',[_vm._v(\"Import\")])],1)]}}],null,false,4240874145)},[_c('span',[_vm._v(\"Import members from CSV file\")])]):_vm._e()],1),_c('v-spacer'),_c('div',{staticClass:\"d-flex align-center pb-5\"},[_c('v-text-field',{staticClass:\"me-3 organization-search\",attrs:{\"value\":_vm.tableFiltering.search,\"dense\":\"\",\"clearable\":\"\",\"hide-details\":\"\",\"placeholder\":\"Search ...\"},on:{\"change\":function (value) { return _vm.$set(_vm.tableFiltering, 'search', value); },\"click:clear\":function($event){return _vm.$set(_vm.tableFiltering, 'search', null)}}}),_c('v-switch',{staticClass:\"mt-0\",attrs:{\"hide-details\":\"\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('span',{staticClass:\"text-sm ms-2\"},[_vm._v(\"Only Active?\")])]},proxy:true}]),model:{value:(_vm.tableFiltering.is_active),callback:function ($$v) {_vm.$set(_vm.tableFiltering, \"is_active\", $$v)},expression:\"tableFiltering.is_active\"}})],1)],1),_c('v-data-table',{staticClass:\"text-no-wrap\",attrs:{\"headers\":_vm.tableColumns,\"items\":_vm.records,\"options\":_vm.tableOptions,\"server-items-length\":_vm.pagination.total,\"loading\":_vm.loading,\"item-class\":_vm.tableRowClass,\"footer-props\":{'items-per-page-options': _vm.$const.DEFAULT_TABLE_PER_PAGE_OPTIONS, 'show-current-page': true, 'show-first-last-page': true}},on:{\"update:options\":[function($event){_vm.tableOptions=$event},function($event){return _vm.loadRecords()}]},scopedSlots:_vm._u([{key:\"item.datetime\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{staticClass:\"pr-1\"},[_vm._v(_vm._s(_vm.$utils.formatDate(item.datetime, 'M/D/YY')))]),_c('span',{staticClass:\"text-caption\"},[_vm._v(_vm._s(_vm.$utils.formatDate(item.datetime, 'HH:mm')))])]}},{key:\"item.start_date\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.start_date)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('span',_vm._g({},on),[_vm._v(_vm._s(_vm.$utils.formatDate(item.start_date, 'M/D/YY', 'N/A')))])]}}],null,true)},[_c('span',[_vm._v(_vm._s(_vm.$utils.formatDate(item.start_date, 'MMM D, YYYY', 'N/A')))])]):_c('span',[_vm._v(\"N/A\")]),_vm._v(\" - \"),(item.exp_date)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('span',_vm._g({},on),[_vm._v(_vm._s(_vm.$utils.formatDate(item.exp_date, 'M/D/YY', 'N/A')))])]}}],null,true)},[_c('span',[_vm._v(_vm._s(_vm.$utils.formatDate(item.exp_date, 'MMM D, YYYY', 'N/A')))])]):_c('span',[_vm._v(\"N/A\")])]}},{key:\"item.org_member_uid\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(item.org_member_uid || 'N/A')+\" \")]}},{key:\"item.status\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.status == 'accept')?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"success\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g({attrs:{\"color\":\"success\"}},on),[_vm._v(_vm._s(_vm.icons.mdiCheckCircleOutline))])]}}],null,true)},[_c('span',[_vm._v(\"Accepted\")])]):(item.status == 'reject')?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"error\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g({attrs:{\"color\":\"error\"}},on),[_vm._v(_vm._s(_vm.icons.mdiCloseCircleOutline))])]}}],null,true)},[_c('span',[_vm._v(\"Rejected\")])]):(item.status == 'waiting')?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"warning\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g({attrs:{\"color\":\"warning\"}},on),[_vm._v(_vm._s(_vm.icons.mdiSyncCircle))])]}}],null,true)},[_c('span',[_vm._v(\"Waiting for member review\")])]):_c('span',[_vm._v(_vm._s(item.status || '-'))])]}},{key:\"item.is_admin\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.is_master_admin)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({attrs:{\"color\":\"success\"}},'v-icon',attrs,false),on),[_vm._v(_vm._s(_vm.icons.mdiAccountCheck))])]}}],null,true)},[_c('span',[_vm._v(\"Is Master Admin\")])]):(item.is_admin)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({attrs:{\"color\":\"success\"}},'v-icon',attrs,false),on),[_vm._v(_vm._s(_vm.icons.mdiAccountCheckOutline))])]}}],null,true)},[_c('span',[_vm._v(\"Is Admin\")])]):_c('span',[_vm._v(\"-\")])]}},{key:\"item.name\",fn:function(ref){\nvar item = ref.item;\nreturn [_c(\"router-link\",{tag:\"a\",staticClass:\"d-flex align-center title-link\",attrs:{\"to\":{name: _vm.$rns.PUBLIC_RIDER_PROFILE, params:{record_id: item.member}}}},[_c('v-avatar',{staticClass:\"v-avatar-light-bg success--text\",attrs:{\"color\":\"success\",\"size\":\"30\"}},[(item._member._user.avatar)?_c('v-img',{attrs:{\"src\":item._member._user.avatar}}):_c('span',{staticClass:\"font-weight-medium\"},[_vm._v(\" \"+_vm._s(_vm.avatarText(item._member.first_name))+\" \")])],1),_c('div',{staticClass:\"d-flex flex-column ms-3\"},[_c('span',{staticClass:\"d-block text--success  font-weight-semibold text-truncate\"},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(_vm._s(item._member._user.id? _vm.icons.mdiAccountCheck: _vm.icons.mdiAccountCancel))]),_vm._v(\" \"+_vm._s(item._member.first_name)+\" \"+_vm._s(item._member.last_name)+\" \")],1),_c('span',{staticClass:\"text-xs\"},[_vm._v(_vm._s(item._member.email || '-'))])])],1)]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"d-flex align-end justify-end\"},[(_vm.organization.my_level.is_admin)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.$refs.formDialogRef.show(item)}}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"size\":\"18\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiPencilOutline)+\" \")])],1)]}}],null,true)},[_c('span',[_vm._v(\"Edit / View\")])]):_vm._e()],1)]}}])})],1),_c('organization-member-form-dialog',{ref:\"formDialogRef\",attrs:{\"organization\":_vm.organization},on:{\"save-successed\":function($event){return _vm.loadRecords(1)},\"delete-successed\":function($event){return _vm.loadRecords(1)}}}),_c('organization-import-members-dialog',{ref:\"importDialogRef\",attrs:{\"organization\":_vm.organization},on:{\"import-successed\":function($event){return _vm.loadRecords(1)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"scrollable\":\"\",\"max-width\":\"900px\"},model:{value:(_vm.isVisible),callback:function ($$v) {_vm.isVisible=$$v},expression:\"isVisible\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.isEditMode ? (\"Edit Member of Organization: \" + (_vm.organization.name)) : \"Add Member to Organization\"))])]),_c('v-card-text',[_c('v-row',[(_vm.isEditMode)?_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-card',[_c('v-list',{attrs:{\"dark\":\"\"}},[_c('v-list-item',[_c('v-list-item-avatar',[_c('v-img',{attrs:{\"src\":_vm.record._member._user.avatar ||\n                      require('@/assets/images/misc/no-profile.png')}})],1),_c('v-list-item-content',[_c('v-list-item-title',[_c('v-icon',[_vm._v(_vm._s(_vm.record._member._user.id ? _vm.icons.mdiAccountCheck : _vm.icons.mdiAccountCancel))]),_vm._v(\" \"+_vm._s(((_vm.record._member.first_name) + \" \" + (_vm.record._member.last_name)))+\" \")],1)],1)],1)],1),_c('v-list',{staticClass:\"member-info-list\",attrs:{\"dense\":\"\"}},[_c('v-list-item',{staticClass:\"ma-0 pa-0 ml-5\"},[_c('span',{staticClass:\"font-weight-medium text-no-wrap me-2\"},[_vm._v(\"E-Mail:\")]),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.record._member.email || \"[NO E-MAIL]\"))])]),_c('v-list-item',{staticClass:\"ma-0 pa-0 ml-5\"},[_c('span',{staticClass:\"font-weight-medium text-no-wrap me-2\"},[_vm._v(\"Phone:\")]),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.record._member.phone ? _vm.$utils.formatPhone(_vm.record._member.phone) : \"[NO PHONE]\"))])]),_c('v-list-item',{staticClass:\"ma-0 pa-0 ml-5\"},[_c('span',{staticClass:\"font-weight-medium text-no-wrap me-2\"},[_vm._v(\" Weight(kg):\")]),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.$utils.removeTrailingZero(_vm.record._member.weight) || \"[NO WEIGHT]\"))])]),_c('v-list-item',{staticClass:\"ma-0 pa-0 ml-5\"},[_c('span',{staticClass:\"font-weight-medium text-no-wrap me-2\"},[_vm._v(\"Height(m):\")]),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.$utils.removeTrailingZero(_vm.record._member.height) || \"[NO HEIGHT]\"))])]),_c('v-list-item',{staticClass:\"ma-0 pa-0 ml-5\"},[_c('span',{staticClass:\"font-weight-medium text-no-wrap me-2\"},[_vm._v(\"Country:\")]),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s((_vm.$const.COUNTRY_MAP[_vm.record._member.country] || {}).name || _vm.record._member.country || \"[NO COUNTRY]\"))])]),_c('v-list-item',{staticClass:\"ma-0 pa-0 ml-5\"},[_c('span',{staticClass:\"font-weight-medium text-no-wrap me-2\"},[_vm._v(\"City:\")]),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.record._member.city || \"[NO CITY]\"))])]),_c('v-list-item',{staticClass:\"ma-0 pa-0 ml-5\"},[_c('span',{staticClass:\"font-weight-medium text-no-wrap me-2\"},[_vm._v(\"State:\")]),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.record._member.state || \"[NO STATE]\"))])]),_c('v-list-item',{staticClass:\"ma-0 pa-0 ml-5\"},[_c('span',{staticClass:\"font-weight-medium text-no-wrap me-2\"},[_vm._v(\"Zipcode:\")]),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.record._member.zipcode || \"[NO ZIPCODE]\"))])]),_c('v-list-item',{staticClass:\"ma-0 pa-0 ml-5\"},[_c('span',{staticClass:\"font-weight-medium text-no-wrap me-2\"},[_vm._v(\"Address1:\")]),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.record._member.address1 || \"[NO ADDRESS1]\"))])]),(_vm.record._member.address2)?_c('v-list-item',{staticClass:\"ma-0 pa-0 ml-5\"},[_c('span',{staticClass:\"font-weight-medium text-no-wrap me-2\"},[_vm._v(\"Address2:\")]),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.record._member.address2 || \"[NO ADDRESS2]\"))])]):_vm._e()],1)],1),_vm._l((_vm.record._member.usac_licenses),function(license){return _c('v-card',{key:license.id,staticClass:\"mt-2\"},[_c('v-list',[_c('v-list-item',[_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" USAC License: \"+_vm._s(((license.first_name) + \" \" + (license.last_name)))+\" \")])],1)],1)],1),_c('v-list',{staticClass:\"member-info-list\",attrs:{\"dense\":\"\"}},[_c('v-list-item',{staticClass:\"ma-0 pa-0 ml-5\"},[_c('span',{staticClass:\"font-weight-medium text-no-wrap me-2\"},[_vm._v(\"License Number:\")]),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(license.license_number || \"[NO License No]\"))])]),_c('v-list-item',{staticClass:\"ma-0 pa-0 ml-5\"},[_c('span',{staticClass:\"font-weight-medium text-no-wrap me-2\"},[_vm._v(\"License Type:\")]),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(license.license_type || \"[NO License Type]\"))])]),_c('v-list-item',{staticClass:\"ma-0 pa-0 ml-5\"},[_c('span',{staticClass:\"font-weight-medium text-no-wrap me-2\"},[_vm._v(\"License Status:\")]),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(license.license_status ? license.license_status : \"[NO Status]\"))])]),_c('v-list-item',{staticClass:\"ma-0 pa-0 ml-5\"},[_c('span',{staticClass:\"font-weight-medium text-no-wrap me-2\"},[_vm._v(\" Race Age:\")]),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(license.race_age || \"[NO Race Age]\"))])]),_c('v-list-item',{staticClass:\"ma-0 pa-0 ml-5\"},[_c('span',{staticClass:\"font-weight-medium text-no-wrap me-2\"},[_vm._v(\"Race Gender:\")]),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(license.race_gender || \"[NO Race Gender]\"))])]),_c('v-list-item',{staticClass:\"ma-0 pa-0 ml-5\"},[_c('span',{staticClass:\"font-weight-medium text-no-wrap me-2\"},[_vm._v(\"Sex:\")]),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(license.sex || \"[NO Sex]\"))])]),_c('v-list-item',{staticClass:\"ma-0 pa-0 ml-5\"},[_c('span',{staticClass:\"font-weight-medium text-no-wrap me-2\"},[_vm._v(\"License Expiration:\")]),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(license.license_expiration || \"[NO License Expiration]\"))])]),_c('v-list-item',{staticClass:\"ma-0 pa-0 ml-5\"},[_c('span',{staticClass:\"font-weight-medium text-no-wrap me-2\"},[_vm._v(\"Association:\")]),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(license.local_association || \"[NO Association]\"))])]),(license && license.data)?_c('v-list-item',[_c('v-expansion-panels',[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\" Other Data \")]),_c('v-expansion-panel-content',[_c('v-list',{staticClass:\"member-info-list\",attrs:{\"dense\":\"\"}},_vm._l((Object.entries(license.data)),function(ref){\n                      var key = ref[0];\n                      var value = ref[1];\nreturn _c('v-list-item',{key:key,staticClass:\"ma-0 pa-0 ml-5\"},[_vm._v(\" \"+_vm._s(key.toUpperCase())+\" : \"+_vm._s(value)+\" \")])}),1)],1)],1)],1)],1):_vm._e()],1)],1)})],2):_vm._e(),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":_vm.isEditMode ? 6 : 12}},[_c('v-form',{attrs:{\"disabled\":!_vm.organization.my_level.is_admin},model:{value:(_vm.formValid),callback:function ($$v) {_vm.formValid=$$v},expression:\"formValid\"}},[_c('v-card-text',[_c('v-container',[_c('v-row',[(!_vm.isEditMode)?_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"12\"}},[_c('v-autocomplete',{attrs:{\"search-input\":_vm.memberSearchInput,\"loading\":_vm.findingMembers,\"items\":_vm.members,\"no-data-text\":\"Enter member E-mail (No member found!)\",\"chips\":\"\",\"hide-details\":\"\",\"label\":\"Member\",\"item-text\":\"email\",\"item-value\":\"id\",\"menu-props\":{ contentClass: 'list-style' },\"return-object\":\"\",\"dense\":\"\",\"rules\":[_vm.rules.required]},on:{\"update:searchInput\":function($event){_vm.memberSearchInput=$event},\"update:search-input\":function($event){_vm.memberSearchInput=$event}},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c('v-chip',_vm._b({attrs:{\"input-value\":data.selected,\"close\":\"\"},on:{\"click\":data.select,\"click:close\":function($event){_vm.record._member = null}}},'v-chip',data.attrs,false),[_c('v-avatar',{attrs:{\"left\":\"\"}},[_c('v-img',{attrs:{\"src\":data.item._user.avatar ||\n                                require('@/assets/images/misc/no-profile.png')}})],1),_c('div',{staticClass:\"d-flex flex-column ms-3\"},[_c('span',{staticClass:\"\\n                                d-block\\n                                text--success\\n                                font-weight-semibold\\n                                text-truncate\\n                              \"},[_vm._v(\" \"+_vm._s(((data.item.first_name) + \" \" + (data.item.last_name)))+\" \")]),_c('span',{staticClass:\"text-xs\"},[_vm._v(_vm._s(data.item.email || \"[NO E-MAIL]\"))])])],1)]}},{key:\"item\",fn:function(data){return [[_c('v-list-item-avatar',[_c('v-img',{attrs:{\"src\":data.item._user.avatar ||\n                                require('@/assets/images/misc/no-profile.png')}})],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(((data.item.first_name) + \" \" + (data.item.last_name)))+\" \")]),_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(data.item.email || \"[NO E-MAIL]\")+\" \")])],1)]]}}],null,false,3803814166),model:{value:(_vm.record._member),callback:function ($$v) {_vm.$set(_vm.record, \"_member\", $$v)},expression:\"record._member\"}})],1):_vm._e(),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Member UID\",\"dense\":\"\",\"hide-details\":\"\"},model:{value:(_vm.record.org_member_uid),callback:function ($$v) {_vm.$set(_vm.record, \"org_member_uid\", $$v)},expression:\"record.org_member_uid\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"12\"}},[_c('v-menu',{attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n                                var on = ref.on;\n                                var attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({staticClass:\"pt-0 pb-0\",attrs:{\"label\":\"Start Date\",\"hide-details\":\"\",\"prepend-icon\":_vm.icons.mdiCalendar,\"readonly\":\"\"},model:{value:(_vm.record.start_date),callback:function ($$v) {_vm.$set(_vm.record, \"start_date\", $$v)},expression:\"record.start_date\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.startDateMenu),callback:function ($$v) {_vm.startDateMenu=$$v},expression:\"startDateMenu\"}},[_c('v-date-picker',{attrs:{\"color\":\"primary\"},on:{\"input\":function($event){_vm.startDateMenu = false}},model:{value:(_vm.record.start_date),callback:function ($$v) {_vm.$set(_vm.record, \"start_date\", $$v)},expression:\"record.start_date\"}})],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"12\"}},[_c('v-menu',{attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n                                var on = ref.on;\n                                var attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({staticClass:\"pt-0 pb-0\",attrs:{\"label\":\"Exp Date\",\"hide-details\":\"\",\"prepend-icon\":_vm.icons.mdiCalendar,\"readonly\":\"\"},model:{value:(_vm.record.exp_date),callback:function ($$v) {_vm.$set(_vm.record, \"exp_date\", $$v)},expression:\"record.exp_date\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.expDateMenu),callback:function ($$v) {_vm.expDateMenu=$$v},expression:\"expDateMenu\"}},[_c('v-date-picker',{attrs:{\"color\":\"primary\"},on:{\"input\":function($event){_vm.expDateMenu = false}},model:{value:(_vm.record.exp_date),callback:function ($$v) {_vm.$set(_vm.record, \"exp_date\", $$v)},expression:\"record.exp_date\"}})],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"12\"}},[_c('v-switch',{attrs:{\"label\":\"Is Admin?\",\"color\":\"primary\",\"hide-details\":\"\"},model:{value:(_vm.record.is_admin),callback:function ($$v) {_vm.$set(_vm.record, \"is_admin\", $$v)},expression:\"record.is_admin\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"12\"}},[_c('v-switch',{attrs:{\"label\":\"Is Active?\",\"color\":\"primary\",\"hide-details\":\"\"},model:{value:(_vm.record.is_active),callback:function ($$v) {_vm.$set(_vm.record, \"is_active\", $$v)},expression:\"record.is_active\"}})],1)],1)],1),(_vm.schema && _vm.schema.length)?_c('app-card-actions',{attrs:{\"action-collapse\":\"\",\"outlined\":\"\",\"color\":\"#f3f3f3\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('span',{staticClass:\"warning--text\"},[_vm._v(\"Extra Organization Fields\")])]},proxy:true}],null,false,4031096487)},[_c('v-card-text',{staticClass:\"pr-2 pl-2\"},[_c('v-container',[_c('v-row',[_vm._l((_vm.schema),function(f){return [(_vm.organization.my_level.is_admin || !f.private)?_c('v-col',{key:f.name,attrs:{\"cols\":\"12\",\"md\":f.type == 'text' ||\n                            (f.choices && f.choices.length > 0)\n                              ? 12\n                              : 6}},[(f.choices && f.choices.length > 0)?[_c('p',{staticClass:\"caption mb-0\"},[_vm._v(_vm._s(f.title))]),(f.multiple)?_c('div',{staticClass:\"d-flex flex-wrap demo-space-x mt-0\"},_vm._l((f.choices),function(c,cIdx){return _c('v-checkbox',{key:cIdx,staticClass:\"mt-0 mb-0 pt-0\",attrs:{\"label\":c.title,\"value\":c.value,\"hide-details\":\"\"},model:{value:(_vm.record.member_fields[f.name]),callback:function ($$v) {_vm.$set(_vm.record.member_fields, f.name, $$v)},expression:\"record.member_fields[f.name]\"}})}),1):_c('v-radio-group',{staticClass:\"mt-0\",attrs:{\"hide-details\":\"\",\"rules\":f.required ? [_vm.rules.required] : []},model:{value:(_vm.record.member_fields[f.name]),callback:function ($$v) {_vm.$set(_vm.record.member_fields, f.name, $$v)},expression:\"record.member_fields[f.name]\"}},[_c('div',{staticClass:\"d-flex flex-wrap demo-space-x mt-0\"},_vm._l((f.choices),function(c,cIdx){return _c('v-radio',{key:cIdx,staticClass:\"mt-0 mb-0 pt-0\",attrs:{\"label\":c.title,\"value\":c.value}})}),1)])]:(\n                              f.type == 'integer' ||\n                              f.type == 'float' ||\n                              f.type == 'number'\n                            )?[_c('v-text-field',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":f.title,\"type\":\"number\",\"step\":f.type == 'integer' ? 1 : 'any',\"rules\":f.required ? [_vm.rules.required] : []},model:{value:(_vm.record.member_fields[f.name]),callback:function ($$v) {_vm.$set(_vm.record.member_fields, f.name, _vm._n($$v))},expression:\"record.member_fields[f.name]\"}})]:(f.type == 'percent')?[_c('v-text-field',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":f.title,\"rules\":f.required ? [_vm.rules.required] : [],\"type\":\"number\",\"suffix\":\"%\",\"min\":\"0\",\"max\":\"100\"},model:{value:(_vm.record.member_fields[f.name]),callback:function ($$v) {_vm.$set(_vm.record.member_fields, f.name, _vm._n($$v))},expression:\"record.member_fields[f.name]\"}})]:(f.type == 'boolean')?[_c('v-switch',{staticClass:\"pt-0 mt-1\",attrs:{\"hide-details\":\"\",\"label\":f.title,\"dense\":\"\"},model:{value:(_vm.record.member_fields[f.name]),callback:function ($$v) {_vm.$set(_vm.record.member_fields, f.name, $$v)},expression:\"record.member_fields[f.name]\"}})]:(f.type == 'date' || f.type == 'time')?[_c('v-menu',{attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n                            var on = ref.on;\n                            var attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({staticClass:\"pt-0 mt-0 mb-5\",attrs:{\"hide-details\":\"\",\"label\":f.title,\"rules\":f.required ? [_vm.rules.required] : [],\"append-icon\":f.type == 'time'\n                                      ? _vm.icons.mdiClockOutline\n                                      : _vm.icons.mdiCalendar,\"readonly\":\"\"},model:{value:(_vm.record.member_fields[f.name]),callback:function ($$v) {_vm.$set(_vm.record.member_fields, f.name, $$v)},expression:\"record.member_fields[f.name]\"}},'v-text-field',attrs,false),on))]}}],null,true),model:{value:(_vm.uiFieldsData[(\"menu__\" + (f.name))]),callback:function ($$v) {_vm.$set(_vm.uiFieldsData, (\"menu__\" + (f.name)), $$v)},expression:\"uiFieldsData[`menu__${f.name}`]\"}},[(f.type == 'time')?_c('v-time-picker',{attrs:{\"color\":\"primary\"},on:{\"click:minute\":function($event){_vm.uiFieldsData[(\"menu__\" + (f.name))] = false}},model:{value:(_vm.record.member_fields[f.name]),callback:function ($$v) {_vm.$set(_vm.record.member_fields, f.name, $$v)},expression:\"record.member_fields[f.name]\"}}):_c('v-date-picker',{attrs:{\"color\":\"primary\"},on:{\"input\":function($event){_vm.uiFieldsData[(\"menu__\" + (f.name))] = false}},model:{value:(_vm.record.member_fields[f.name]),callback:function ($$v) {_vm.$set(_vm.record.member_fields, f.name, $$v)},expression:\"record.member_fields[f.name]\"}})],1)]:(f.type == 'datetime')?[_c('v-datetime-picker',{attrs:{\"label\":f.title,\"text-field-props\":{\n                                appendIcon: _vm.icons.mdiCalendar,\n                                class: 'pt-0 mt-0 mb-5',\n                                rules: f.required ? [_vm.rules.required] : [],\n                              }},scopedSlots:_vm._u([{key:\"dateIcon\",fn:function(){return [_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiCalendar))])]},proxy:true},{key:\"timeIcon\",fn:function(){return [_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiClock))])]},proxy:true}],null,true),model:{value:(_vm.record.member_fields[f.name]),callback:function ($$v) {_vm.$set(_vm.record.member_fields, f.name, $$v)},expression:\"record.member_fields[f.name]\"}})]:(f.type == 'text')?[_c('v-textarea',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":f.title,\"rules\":f.required ? [_vm.rules.required] : [],\"rows\":\"2\"},model:{value:(_vm.record.member_fields[f.name]),callback:function ($$v) {_vm.$set(_vm.record.member_fields, f.name, $$v)},expression:\"record.member_fields[f.name]\"}})]:[_c('v-text-field',{attrs:{\"dense\":\"\",\"label\":f.title,\"rules\":f.required ? [_vm.rules.required] : [],\"type\":\"text\"},model:{value:(_vm.record.member_fields[f.name]),callback:function ($$v) {_vm.$set(_vm.record.member_fields, f.name, (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"record.member_fields[f.name]\"}})]],2):_vm._e()]})],2)],1)],1)],1):_vm._e()],1),(_vm.confirmDelete)?_c('v-card-text',[_c('v-alert',{attrs:{\"type\":\"warning\",\"dense\":\"\",\"text\":\"\",\"icon\":_vm.icons.mdiAlert}},[_c('p',[_vm._v(\" If you delete this member, all related records will be deleted! Are you sure? \")]),_c('v-btn',{attrs:{\"color\":\"error\",\"outlined\":\"\",\"small\":\"\",\"loading\":_vm.deleting},on:{\"click\":function($event){return _vm.deleteRecord()}}},[_vm._v(\"Yes, Delete It\")]),_c('v-btn',{staticClass:\"ml-1\",attrs:{\"color\":\"secondary\",\"small\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.confirmDelete = false}}},[_vm._v(\"Cancel\")])],1)],1):_vm._e()],1)],1)],1)],1),_c('v-card-actions',[(_vm.isEditMode && _vm.organization.my_level.is_admin)?[_c('v-btn',{attrs:{\"color\":\"error\",\"outlined\":\"\",\"disabled\":_vm.confirmDelete},on:{\"click\":function($event){_vm.confirmDelete = true}}},[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiDelete))]),_vm._v(\"Delete \")],1)]:_vm._e(),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"secondary\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.hide()}}},[_vm._v(\"Close\")]),(_vm.organization.my_level.is_admin)?_c('v-btn',{attrs:{\"color\":\"primary\",\"type\":\"submit\",\"loading\":_vm.saving,\"disabled\":!_vm.formValid},on:{\"click\":_vm.save}},[_vm._v(\"Save\")]):_vm._e()],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-model=\"isVisible\" persistent scrollable max-width=\"900px\">\n    <v-card>\n      <v-card-title>\n        <span class=\"headline\">{{\n          isEditMode\n            ? `Edit Member of Organization: ${organization.name}`\n            : \"Add Member to Organization\"\n        }}</span>\n      </v-card-title>\n      <v-card-text>\n        <v-row>\n          <v-col cols=\"12\" sm=\"6\" v-if=\"isEditMode\">\n            <v-card>\n              <v-list dark>\n                <v-list-item>\n                  <v-list-item-avatar>\n                    <v-img\n                      :src=\"\n                        record._member._user.avatar ||\n                        require('@/assets/images/misc/no-profile.png')\n                      \"\n                    ></v-img>\n                  </v-list-item-avatar>\n                  <v-list-item-content>\n                    <v-list-item-title>\n                      <v-icon>{{\n                        record._member._user.id\n                          ? icons.mdiAccountCheck\n                          : icons.mdiAccountCancel\n                      }}</v-icon>\n                      {{\n                        `${record._member.first_name} ${record._member.last_name}`\n                      }}\n                    </v-list-item-title>\n                  </v-list-item-content>\n                </v-list-item>\n              </v-list>\n              <v-list dense class=\"member-info-list\">\n                <v-list-item class=\"ma-0 pa-0 ml-5\">\n                  <span class=\"font-weight-medium text-no-wrap me-2\"\n                    >E-Mail:</span\n                  >\n                  <span class=\"text--secondary\">{{\n                    record._member.email || \"[NO E-MAIL]\"\n                  }}</span>\n                </v-list-item>\n                <v-list-item class=\"ma-0 pa-0 ml-5\">\n                  <span class=\"font-weight-medium text-no-wrap me-2\"\n                    >Phone:</span\n                  >\n                  <span class=\"text--secondary\">{{\n                    record._member.phone\n                      ? $utils.formatPhone(record._member.phone)\n                      : \"[NO PHONE]\"\n                  }}</span>\n                </v-list-item>\n                <v-list-item class=\"ma-0 pa-0 ml-5\">\n                  <span class=\"font-weight-medium text-no-wrap me-2\">\n                    Weight(kg):</span\n                  >\n                  <span class=\"text--secondary\">{{\n                    $utils.removeTrailingZero(record._member.weight) ||\n                    \"[NO WEIGHT]\"\n                  }}</span>\n                </v-list-item>\n                <v-list-item class=\"ma-0 pa-0 ml-5\">\n                  <span class=\"font-weight-medium text-no-wrap me-2\"\n                    >Height(m):</span\n                  >\n                  <span class=\"text--secondary\">{{\n                    $utils.removeTrailingZero(record._member.height) ||\n                    \"[NO HEIGHT]\"\n                  }}</span>\n                </v-list-item>\n                <v-list-item class=\"ma-0 pa-0 ml-5\">\n                  <span class=\"font-weight-medium text-no-wrap me-2\"\n                    >Country:</span\n                  >\n                  <span class=\"text--secondary\">{{\n                    ($const.COUNTRY_MAP[record._member.country] || {}).name ||\n                    record._member.country ||\n                    \"[NO COUNTRY]\"\n                  }}</span>\n                </v-list-item>\n                <v-list-item class=\"ma-0 pa-0 ml-5\">\n                  <span class=\"font-weight-medium text-no-wrap me-2\"\n                    >City:</span\n                  >\n                  <span class=\"text--secondary\">{{\n                    record._member.city || \"[NO CITY]\"\n                  }}</span>\n                </v-list-item>\n                <v-list-item class=\"ma-0 pa-0 ml-5\">\n                  <span class=\"font-weight-medium text-no-wrap me-2\"\n                    >State:</span\n                  >\n                  <span class=\"text--secondary\">{{\n                    record._member.state || \"[NO STATE]\"\n                  }}</span>\n                </v-list-item>\n                <v-list-item class=\"ma-0 pa-0 ml-5\">\n                  <span class=\"font-weight-medium text-no-wrap me-2\"\n                    >Zipcode:</span\n                  >\n                  <span class=\"text--secondary\">{{\n                    record._member.zipcode || \"[NO ZIPCODE]\"\n                  }}</span>\n                </v-list-item>\n                <v-list-item class=\"ma-0 pa-0 ml-5\">\n                  <span class=\"font-weight-medium text-no-wrap me-2\"\n                    >Address1:</span\n                  >\n                  <span class=\"text--secondary\">{{\n                    record._member.address1 || \"[NO ADDRESS1]\"\n                  }}</span>\n                </v-list-item>\n                <v-list-item\n                  class=\"ma-0 pa-0 ml-5\"\n                  v-if=\"record._member.address2\"\n                >\n                  <span class=\"font-weight-medium text-no-wrap me-2\"\n                    >Address2:</span\n                  >\n                  <span class=\"text--secondary\">{{\n                    record._member.address2 || \"[NO ADDRESS2]\"\n                  }}</span>\n                </v-list-item>\n              </v-list>\n            </v-card>\n            <!-- USAC License data -->\n            <v-card class=\"mt-2\" v-bind:key=\"license.id\" v-for=\" license in record._member.usac_licenses\">\n              <v-list >\n                <v-list-item>\n                  \n                  <v-list-item-content>\n                    <v-list-item-title>\n                      USAC License: \n\n                      {{\n                        `${license.first_name} ${license.last_name}`\n                      }}\n                    </v-list-item-title>\n                  </v-list-item-content>\n                </v-list-item>\n              </v-list>\n              <v-list dense class=\"member-info-list\">\n                <v-list-item class=\"ma-0 pa-0 ml-5\">\n                  <span class=\"font-weight-medium text-no-wrap me-2\"\n                    >License Number:</span\n                  >\n                  <span class=\"text--secondary\">{{\n                    license.license_number || \"[NO License No]\"\n                  }}</span>\n                </v-list-item>\n                <v-list-item class=\"ma-0 pa-0 ml-5\">\n                  <span class=\"font-weight-medium text-no-wrap me-2\"\n                    >License Type:</span\n                  >\n                  <span class=\"text--secondary\">{{\n                    license.license_type || \"[NO License Type]\"\n                  }}</span>\n                </v-list-item>\n                <v-list-item class=\"ma-0 pa-0 ml-5\">\n                  <span class=\"font-weight-medium text-no-wrap me-2\"\n                    >License Status:</span\n                  >\n                  <span class=\"text--secondary\">{{\n                    license.license_status\n                      ? license.license_status\n                      : \"[NO Status]\"\n                  }}</span>\n                </v-list-item>\n                <v-list-item class=\"ma-0 pa-0 ml-5\">\n                  <span class=\"font-weight-medium text-no-wrap me-2\">\n                    Race Age:</span\n                  >\n                  <span class=\"text--secondary\">{{\n                    license.race_age ||\n                    \"[NO Race Age]\"\n                  }}</span>\n                </v-list-item>\n                <v-list-item class=\"ma-0 pa-0 ml-5\">\n                  <span class=\"font-weight-medium text-no-wrap me-2\"\n                    >Race Gender:</span\n                  >\n                  <span class=\"text--secondary\">{{\n                    license.race_gender ||\n                    \"[NO Race Gender]\"\n                  }}</span>\n                </v-list-item>\n                <v-list-item class=\"ma-0 pa-0 ml-5\">\n                  <span class=\"font-weight-medium text-no-wrap me-2\"\n                    >Sex:</span\n                  >\n                  <span class=\"text--secondary\">{{\n                    license.sex ||\n                    \"[NO Sex]\"\n                  }}</span>\n                </v-list-item>\n                <v-list-item class=\"ma-0 pa-0 ml-5\">\n                  <span class=\"font-weight-medium text-no-wrap me-2\"\n                    >License Expiration:</span\n                  >\n                  <span class=\"text--secondary\">{{\n                    license.license_expiration || \"[NO License Expiration]\"\n                  }}</span>\n                </v-list-item>\n                <v-list-item class=\"ma-0 pa-0 ml-5\">\n                  <span class=\"font-weight-medium text-no-wrap me-2\"\n                    >Association:</span\n                  >\n                  <span class=\"text--secondary\">{{\n                    license.local_association || \"[NO Association]\"\n                  }}</span>\n                </v-list-item>\n                \n                <v-list-item v-if=\"license && license.data\">\n                    <v-expansion-panels >\n                        <v-expansion-panel\n                        >\n                        <v-expansion-panel-header>\n                            Other Data\n                        </v-expansion-panel-header>\n                        <v-expansion-panel-content>\n                            <v-list dense class=\"member-info-list\">\n                                <v-list-item class=\"ma-0 pa-0 ml-5\" v-bind:key=\"key\" v-for=\"[key, value] of Object.entries(license.data) \">\n                                    {{key.toUpperCase()}} : {{value}}\n                                </v-list-item>\n                            </v-list>\n                        </v-expansion-panel-content>\n                        </v-expansion-panel>\n                </v-expansion-panels>\n                </v-list-item>\n\n              </v-list>\n            </v-card>\n          </v-col>\n          <v-col cols=\"12\" :sm=\"isEditMode ? 6 : 12\">\n            <v-form\n              v-model=\"formValid\"\n              :disabled=\"!organization.my_level.is_admin\"\n            >\n              <v-card-text>\n                <v-container>\n                  <v-row>\n                    <v-col cols=\"12\" md=\"12\" v-if=\"!isEditMode\">\n                      <v-autocomplete\n                        v-model=\"record._member\"\n                        :search-input.sync=\"memberSearchInput\"\n                        :loading=\"findingMembers\"\n                        :items=\"members\"\n                        no-data-text=\"Enter member E-mail (No member found!)\"\n                        chips\n                        hide-details\n                        label=\"Member\"\n                        item-text=\"email\"\n                        item-value=\"id\"\n                        :menu-props=\"{ contentClass: 'list-style' }\"\n                        return-object\n                        dense\n                        :rules=\"[rules.required]\"\n                      >\n                        <template #selection=\"data\">\n                          <v-chip\n                            v-bind=\"data.attrs\"\n                            :input-value=\"data.selected\"\n                            close\n                            @click=\"data.select\"\n                            @click:close=\"record._member = null\"\n                          >\n                            <v-avatar left>\n                              <v-img\n                                :src=\"\n                                  data.item._user.avatar ||\n                                  require('@/assets/images/misc/no-profile.png')\n                                \"\n                              ></v-img>\n                            </v-avatar>\n                            <div class=\"d-flex flex-column ms-3\">\n                              <span\n                                class=\"\n                                  d-block\n                                  text--success\n                                  font-weight-semibold\n                                  text-truncate\n                                \"\n                              >\n                                {{\n                                  `${data.item.first_name} ${data.item.last_name}`\n                                }}\n                              </span>\n                              <span class=\"text-xs\">{{\n                                data.item.email || \"[NO E-MAIL]\"\n                              }}</span>\n                            </div>\n                          </v-chip>\n                        </template>\n\n                        <template #item=\"data\">\n                          <template>\n                            <v-list-item-avatar>\n                              <v-img\n                                :src=\"\n                                  data.item._user.avatar ||\n                                  require('@/assets/images/misc/no-profile.png')\n                                \"\n                              ></v-img>\n                            </v-list-item-avatar>\n\n                            <v-list-item-content>\n                              <v-list-item-title>\n                                {{\n                                  `${data.item.first_name} ${data.item.last_name}`\n                                }}\n                              </v-list-item-title>\n                              <v-list-item-subtitle>\n                                {{ data.item.email || \"[NO E-MAIL]\" }}\n                              </v-list-item-subtitle>\n                            </v-list-item-content>\n                          </template>\n                        </template>\n                      </v-autocomplete>\n                    </v-col>\n                    <v-col cols=\"12\" md=\"12\">\n                      <v-text-field\n                        v-model=\"record.org_member_uid\"\n                        label=\"Member UID\"\n                        dense\n                        hide-details\n                      ></v-text-field>\n                    </v-col>\n                    <v-col cols=\"12\" md=\"12\">\n                      <v-menu\n                        v-model=\"startDateMenu\"\n                        :close-on-content-click=\"false\"\n                        :nudge-right=\"40\"\n                        transition=\"scale-transition\"\n                        offset-y\n                        min-width=\"auto\"\n                      >\n                        <template v-slot:activator=\"{ on, attrs }\">\n                          <v-text-field\n                            class=\"pt-0 pb-0\"\n                            v-model=\"record.start_date\"\n                            label=\"Start Date\"\n                            hide-details\n                            :prepend-icon=\"icons.mdiCalendar\"\n                            v-bind=\"attrs\"\n                            v-on=\"on\"\n                            readonly\n                          >\n                          </v-text-field>\n                        </template>\n                        <v-date-picker\n                          v-model=\"record.start_date\"\n                          color=\"primary\"\n                          @input=\"startDateMenu = false\"\n                        >\n                        </v-date-picker>\n                      </v-menu>\n                    </v-col>\n                    <v-col cols=\"12\" md=\"12\">\n                      <v-menu\n                        v-model=\"expDateMenu\"\n                        :close-on-content-click=\"false\"\n                        :nudge-right=\"40\"\n                        transition=\"scale-transition\"\n                        offset-y\n                        min-width=\"auto\"\n                      >\n                        <template v-slot:activator=\"{ on, attrs }\">\n                          <v-text-field\n                            class=\"pt-0 pb-0\"\n                            v-model=\"record.exp_date\"\n                            label=\"Exp Date\"\n                            hide-details\n                            :prepend-icon=\"icons.mdiCalendar\"\n                            v-bind=\"attrs\"\n                            v-on=\"on\"\n                            readonly\n                          >\n                          </v-text-field>\n                        </template>\n                        <v-date-picker\n                          v-model=\"record.exp_date\"\n                          color=\"primary\"\n                          @input=\"expDateMenu = false\"\n                        >\n                        </v-date-picker>\n                      </v-menu>\n                    </v-col>\n                    <v-col cols=\"12\" md=\"12\">\n                      <v-switch\n                        v-model=\"record.is_admin\"\n                        label=\"Is Admin?\"\n                        color=\"primary\"\n                        hide-details\n                      ></v-switch>\n                    </v-col>\n                    <v-col cols=\"12\" md=\"12\">\n                      <v-switch\n                        v-model=\"record.is_active\"\n                        label=\"Is Active?\"\n                        color=\"primary\"\n                        hide-details\n                      ></v-switch>\n                    </v-col>\n                  </v-row>\n                </v-container>\n                <app-card-actions\n                  action-collapse\n                  outlined\n                  color=\"#f3f3f3\"\n                  v-if=\"schema && schema.length\"\n                >\n                  <template #title>\n                    <span class=\"warning--text\">Extra Organization Fields</span>\n                  </template>\n                  <v-card-text class=\"pr-2 pl-2\">\n                    <v-container>\n                      <v-row>\n                        <template v-for=\"f in schema\">\n                          <v-col\n                            v-if=\"organization.my_level.is_admin || !f.private\"\n                            cols=\"12\"\n                            :md=\"\n                              f.type == 'text' ||\n                              (f.choices && f.choices.length > 0)\n                                ? 12\n                                : 6\n                            \"\n                            :key=\"f.name\"\n                          >\n                            <template v-if=\"f.choices && f.choices.length > 0\">\n                              <p class=\"caption mb-0\">{{ f.title }}</p>\n                              <div\n                                v-if=\"f.multiple\"\n                                class=\"d-flex flex-wrap demo-space-x mt-0\"\n                              >\n                                <v-checkbox\n                                  v-for=\"(c, cIdx) in f.choices\"\n                                  v-model=\"record.member_fields[f.name]\"\n                                  class=\"mt-0 mb-0 pt-0\"\n                                  :label=\"c.title\"\n                                  :value=\"c.value\"\n                                  :key=\"cIdx\"\n                                  hide-details\n                                ></v-checkbox>\n                              </div>\n                              <v-radio-group\n                                v-else\n                                v-model=\"record.member_fields[f.name]\"\n                                hide-details\n                                class=\"mt-0\"\n                                :rules=\"f.required ? [rules.required] : []\"\n                              >\n                                <div class=\"d-flex flex-wrap demo-space-x mt-0\">\n                                  <v-radio\n                                    v-for=\"(c, cIdx) in f.choices\"\n                                    :label=\"c.title\"\n                                    :value=\"c.value\"\n                                    :key=\"cIdx\"\n                                    class=\"mt-0 mb-0 pt-0\"\n                                  ></v-radio>\n                                </div>\n                              </v-radio-group>\n                            </template>\n                            <template\n                              v-else-if=\"\n                                f.type == 'integer' ||\n                                f.type == 'float' ||\n                                f.type == 'number'\n                              \"\n                            >\n                              <v-text-field\n                                hide-details\n                                dense\n                                v-model.number=\"record.member_fields[f.name]\"\n                                :label=\"f.title\"\n                                type=\"number\"\n                                :step=\"f.type == 'integer' ? 1 : 'any'\"\n                                :rules=\"f.required ? [rules.required] : []\"\n                              ></v-text-field>\n                            </template>\n                            <template v-else-if=\"f.type == 'percent'\">\n                              <v-text-field\n                                hide-details\n                                dense\n                                v-model.number=\"record.member_fields[f.name]\"\n                                :label=\"f.title\"\n                                :rules=\"f.required ? [rules.required] : []\"\n                                type=\"number\"\n                                suffix=\"%\"\n                                min=\"0\"\n                                max=\"100\"\n                              ></v-text-field>\n                            </template>\n                            <template v-else-if=\"f.type == 'boolean'\">\n                              <v-switch\n                                hide-details\n                                v-model=\"record.member_fields[f.name]\"\n                                :label=\"f.title\"\n                                dense\n                                class=\"pt-0 mt-1\"\n                              ></v-switch>\n                            </template>\n                            <template\n                              v-else-if=\"f.type == 'date' || f.type == 'time'\"\n                            >\n                              <v-menu\n                                v-model=\"uiFieldsData[`menu__${f.name}`]\"\n                                :close-on-content-click=\"false\"\n                                :nudge-right=\"40\"\n                                transition=\"scale-transition\"\n                                offset-y\n                                min-width=\"auto\"\n                              >\n                                <template v-slot:activator=\"{ on, attrs }\">\n                                  <v-text-field\n                                    hide-details\n                                    v-model=\"record.member_fields[f.name]\"\n                                    :label=\"f.title\"\n                                    :rules=\"f.required ? [rules.required] : []\"\n                                    class=\"pt-0 mt-0 mb-5\"\n                                    :append-icon=\"\n                                      f.type == 'time'\n                                        ? icons.mdiClockOutline\n                                        : icons.mdiCalendar\n                                    \"\n                                    v-bind=\"attrs\"\n                                    v-on=\"on\"\n                                    readonly\n                                  >\n                                  </v-text-field>\n                                </template>\n                                <v-time-picker\n                                  v-if=\"f.type == 'time'\"\n                                  v-model=\"record.member_fields[f.name]\"\n                                  color=\"primary\"\n                                  @click:minute=\"\n                                    uiFieldsData[`menu__${f.name}`] = false\n                                  \"\n                                ></v-time-picker>\n                                <v-date-picker\n                                  v-else\n                                  v-model=\"record.member_fields[f.name]\"\n                                  color=\"primary\"\n                                  @input=\"\n                                    uiFieldsData[`menu__${f.name}`] = false\n                                  \"\n                                ></v-date-picker>\n                              </v-menu>\n                            </template>\n                            <template v-else-if=\"f.type == 'datetime'\">\n                              <v-datetime-picker\n                                v-model=\"record.member_fields[f.name]\"\n                                :label=\"f.title\"\n                                :text-field-props=\"{\n                                  appendIcon: icons.mdiCalendar,\n                                  class: 'pt-0 mt-0 mb-5',\n                                  rules: f.required ? [rules.required] : [],\n                                }\"\n                              >\n                                <template #dateIcon>\n                                  <v-icon>{{ icons.mdiCalendar }}</v-icon>\n                                </template>\n                                <template #timeIcon>\n                                  <v-icon>{{ icons.mdiClock }}</v-icon>\n                                </template>\n                              </v-datetime-picker>\n                            </template>\n                            <template v-else-if=\"f.type == 'text'\">\n                              <v-textarea\n                                hide-details\n                                dense\n                                v-model=\"record.member_fields[f.name]\"\n                                :label=\"f.title\"\n                                :rules=\"f.required ? [rules.required] : []\"\n                                rows=\"2\"\n                              ></v-textarea>\n                            </template>\n                            <template v-else>\n                              <v-text-field\n                                dense\n                                v-model.trim=\"record.member_fields[f.name]\"\n                                :label=\"f.title\"\n                                :rules=\"f.required ? [rules.required] : []\"\n                                type=\"text\"\n                              ></v-text-field>\n                            </template>\n                          </v-col>\n                        </template>\n                      </v-row>\n                    </v-container>\n                  </v-card-text>\n                </app-card-actions>\n              </v-card-text>\n              <v-card-text v-if=\"confirmDelete\">\n                <v-alert type=\"warning\" dense text :icon=\"icons.mdiAlert\">\n                  <p>\n                    If you delete this member, all related records will be\n                    deleted! Are you sure?\n                  </p>\n                  <v-btn\n                    color=\"error\"\n                    outlined\n                    small\n                    :loading=\"deleting\"\n                    @click=\"deleteRecord()\"\n                    >Yes, Delete It</v-btn\n                  >\n                  <v-btn\n                    color=\"secondary\"\n                    @click=\"confirmDelete = false\"\n                    small\n                    text\n                    class=\"ml-1\"\n                    >Cancel</v-btn\n                  >\n                </v-alert>\n              </v-card-text>\n            </v-form>\n          </v-col>\n        </v-row>\n      </v-card-text>\n      <v-card-actions>\n        <template v-if=\"isEditMode && organization.my_level.is_admin\">\n          <v-btn\n            color=\"error\"\n            outlined\n            @click=\"confirmDelete = true\"\n            :disabled=\"confirmDelete\"\n          >\n            <v-icon>{{ icons.mdiDelete }}</v-icon\n            >Delete\n          </v-btn>\n        </template>\n        <v-spacer></v-spacer>\n        <v-btn color=\"secondary\" outlined @click=\"hide()\">Close</v-btn>\n        <v-btn\n          v-if=\"organization.my_level.is_admin\"\n          color=\"primary\"\n          type=\"submit\"\n          :loading=\"saving\"\n          :disabled=\"!formValid\"\n          @click=\"save\"\n          >Save</v-btn\n        >\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport {\n  mdiPencilOutline,\n  mdiPlus,\n  mdiDelete,\n  mdiAlert,\n  mdiCalendar,\n  mdiClock,\n  mdiClockOutline,\n  mdiAccountCheck,\n  mdiAccountCancel,\n  mdiPhoneOutline,\n  mdiEmailOutline,\n  mdiEarth,\n  mdiHomeCity,\n  mdiHomeCityOutline,\n} from \"@mdi/js\";\nimport _ from \"lodash\";\nimport { ref, computed, watch, set } from \"@vue/composition-api\";\nimport axios from \"@/axios\";\nimport {\n  emailIsValid,\n  notifyDefaultServerError,\n  notifySuccess,\n} from \"@/composables/utils\";\nimport AppCardActions from \"@core/components/app-card-actions/AppCardActions\";\nimport { required } from \"@core/utils/validation\";\nimport moment from \"moment\";\n\nexport default {\n  components: { AppCardActions },\n  props: {\n    organization: {\n      type: Object,\n      required: true,\n    },\n  },\n  setup(props, context) {\n    const isVisible = ref(false);\n    const formValid = ref(false);\n    const uiFieldsData = ref({});\n    const record = ref({ member_fields: {} });\n    const schema = ref(null);\n    const saving = ref(false);\n    const deleting = ref(false);\n    const confirmDelete = ref(false);\n    const findingMembers = ref(false);\n    const startDateMenu = ref(false);\n    const expDateMenu = ref(false);\n    const members = ref([]);\n    const memberSearchInput = ref(\"\");\n    const panel = ref([0]);\n\n    watch(memberSearchInput, () => {\n      findMembersDebounce(memberSearchInput.value);\n    });\n\n    const isEditMode = computed(() => !!record.value.id);\n\n    const loadSchema = () => {\n      let params = {\n        exfields: \"member_fields_schema\",\n        fields: \"member_fields_schema\",\n      };\n      axios\n        .get(`cycling_org/organization/${props.organization.id}`, {\n          params: params,\n        })\n        .then(\n          (response) => {\n            schema.value = response.data.member_fields_schema || [];\n            schema.value.forEach((r) => {\n              if (\n                r.multiple &&\n                !Array.isArray(record.value.member_fields[r.name])\n              ) {\n                set(record.value.member_fields, r.name, []);\n              }\n              if (r.type === \"datetime\" && record.value.member_fields[r.name]) {\n                record.value.member_fields[r.name] = moment(\n                  record.value.member_fields[r.name]\n                ).toDate();\n              }\n            });\n          },\n          (error) => {\n            notifyDefaultServerError(error, true);\n          }\n        );\n    };\n\n    const deleteRecord = () => {\n      deleting.value = true;\n      axios\n        .delete(\n          `cycling_org/organization/${props.organization.id}/members/${record.value.id}`\n        )\n        .then(\n          (response) => {\n            deleting.value = false;\n            notifySuccess(`Member deleted.`);\n            hide();\n            context.emit(\"delete-successed\", record.value);\n          },\n          (error) => {\n            deleting.value = false;\n            notifyDefaultServerError(error, true);\n          }\n        );\n    };\n\n    const save = () => {\n      if (!record.value._member) {\n        return;\n      }\n      var data = Object.assign({}, record.value);\n      data.member_fields = Object.assign({}, record.value.member_fields);\n      data.member = data._member.id;\n      delete data._member;\n      saving.value = true;\n      var url = `cycling_org/organization/${props.organization.id}/members`,\n        httpMethod = axios.post,\n        successMsg = \"Member added successfully.\";\n      if (isEditMode.value) {\n        url = `${url}/${record.value.id}`;\n        httpMethod = axios.patch;\n        successMsg = \"Member updated successfully.\";\n      }\n      httpMethod(url, data).then(\n        (response) => {\n          saving.value = false;\n          notifySuccess(successMsg);\n          hide();\n          context.emit(\"save-successed\", response.data);\n        },\n        (error) => {\n          saving.value = false;\n          notifyDefaultServerError(error, true);\n        }\n      );\n    };\n\n    const findMembers = (email) => {\n      if (findingMembers.value || !emailIsValid(email)) {\n        members.value = [];\n        return;\n      }\n      email = email.toLowerCase();\n      findingMembers.value = true;\n      axios.get(\"cycling_org/member/find\", { params: { email: email } }).then(\n        (response) => {\n          findingMembers.value = false;\n          members.value = response.data.results.map((r) => {\n            r.email = email;\n            return r;\n          });\n        },\n        (error) => {\n          findingMembers.value = false;\n          notifyDefaultServerError(error, true);\n        }\n      );\n    };\n\n    const findMembersDebounce = _.debounce(findMembers, 500);\n\n    const hide = () => {\n      isVisible.value = false;\n    };\n    const show = (r) => {\n      loadSchema();\n      uiFieldsData.value = {};\n      record.value = Object.assign({ is_active: true }, r);\n      record.value.member_fields = Object.assign(\n        {},\n        record.value.member_fields\n      );\n      confirmDelete.value = false;\n      deleting.value = false;\n      saving.value = false;\n      isVisible.value = true;\n    };\n\n    return {\n      isVisible,\n      formValid,\n      confirmDelete,\n      isEditMode,\n      record,\n      uiFieldsData,\n      schema,\n      saving,\n      deleting,\n      deleteRecord,\n      hide,\n      show,\n      save,\n      loadSchema,\n      findingMembers,\n      findMembers,\n      findMembersDebounce,\n      members,\n      memberSearchInput,\n      startDateMenu,\n      expDateMenu,\n      panel,\n      rules: {\n        required,\n      },\n      icons: {\n        mdiPlus,\n        mdiPencilOutline,\n        mdiDelete,\n        mdiAlert,\n        mdiCalendar,\n        mdiClock,\n        mdiClockOutline,\n        mdiAccountCheck,\n        mdiAccountCancel,\n        mdiPhoneOutline,\n        mdiEmailOutline,\n        mdiEarth,\n        mdiHomeCity,\n        mdiHomeCityOutline,\n      },\n    };\n  },\n};\n</script>\n\n<style scoped>\n.member-info-list .v-list-item {\n  margin-bottom: 15px;\n  margin-top: 15px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationMemberFormDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationMemberFormDialog.vue?vue&type=script&lang=js&\"","// Components\nimport VExpansionPanels from './VExpansionPanels'\nimport VExpansionPanelHeader from './VExpansionPanelHeader'\nimport VExpansionPanelContent from './VExpansionPanelContent'\n\n// Mixins\nimport { factory as GroupableFactory } from '../../mixins/groupable'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Utilities\nimport { getSlot } from '../../util/helpers'\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\ntype VExpansionPanelHeaderInstance = InstanceType<typeof VExpansionPanelHeader>\ntype VExpansionPanelContentInstance = InstanceType<typeof VExpansionPanelContent>\n\nexport default mixins(\n  GroupableFactory<'expansionPanels', typeof VExpansionPanels>('expansionPanels', 'v-expansion-panel', 'v-expansion-panels'),\n  RegistrableProvide('expansionPanel', true)\n  /* @vue/component */\n).extend({\n  name: 'v-expansion-panel',\n\n  props: {\n    disabled: Boolean,\n    readonly: Boolean,\n  },\n\n  data () {\n    return {\n      content: null as VExpansionPanelContentInstance | null,\n      header: null as VExpansionPanelHeaderInstance | null,\n      nextIsActive: false,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-expansion-panel--active': this.isActive,\n        'v-expansion-panel--next-active': this.nextIsActive,\n        'v-expansion-panel--disabled': this.isDisabled,\n        ...this.groupClasses,\n      }\n    },\n    isDisabled (): boolean {\n      return this.expansionPanels.disabled || this.disabled\n    },\n    isReadonly (): boolean {\n      return this.expansionPanels.readonly || this.readonly\n    },\n  },\n\n  methods: {\n    registerContent (vm: VExpansionPanelContentInstance) {\n      this.content = vm\n    },\n    unregisterContent () {\n      this.content = null\n    },\n    registerHeader (vm: VExpansionPanelHeaderInstance) {\n      this.header = vm\n      vm.$on('click', this.onClick)\n    },\n    unregisterHeader () {\n      this.header = null\n    },\n    onClick (e: MouseEvent) {\n      if (e.detail) this.header!.$el.blur()\n\n      this.$emit('click', e)\n\n      this.isReadonly || this.isDisabled || this.toggle()\n    },\n    toggle () {\n      this.$nextTick(() => this.$emit('change'))\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-expansion-panel',\n      class: this.classes,\n      attrs: {\n        'aria-expanded': String(this.isActive),\n      },\n    }, getSlot(this))\n  },\n})\n","// Components\nimport VExpansionPanel from './VExpansionPanel'\nimport { VExpandTransition } from '../transitions'\n\n// Mixins\nimport Bootable from '../../mixins/bootable'\nimport Colorable from '../../mixins/colorable'\nimport { inject as RegistrableInject } from '../../mixins/registrable'\n\n// Utilities\nimport { getSlot } from '../../util/helpers'\nimport mixins, { ExtractVue } from '../../util/mixins'\n\n// Types\nimport Vue, { VNode, VueConstructor } from 'vue'\n\nconst baseMixins = mixins(\n  Bootable,\n  Colorable,\n  RegistrableInject<'expansionPanel', VueConstructor<Vue>>('expansionPanel', 'v-expansion-panel-content', 'v-expansion-panel')\n)\n\ninterface options extends ExtractVue<typeof baseMixins> {\n  expansionPanel: InstanceType<typeof VExpansionPanel>\n}\n\n/* @vue/component */\nexport default baseMixins.extend<options>().extend({\n  name: 'v-expansion-panel-content',\n\n  data: () => ({\n    isActive: false,\n  }),\n\n  computed: {\n    parentIsActive (): boolean {\n      return this.expansionPanel.isActive\n    },\n  },\n\n  watch: {\n    parentIsActive: {\n      immediate: true,\n      handler (val, oldVal) {\n        if (val) this.isBooted = true\n\n        if (oldVal == null) this.isActive = val\n        else this.$nextTick(() => this.isActive = val)\n      },\n    },\n  },\n\n  created () {\n    this.expansionPanel.registerContent(this)\n  },\n\n  beforeDestroy () {\n    this.expansionPanel.unregisterContent()\n  },\n\n  render (h): VNode {\n    return h(VExpandTransition, this.showLazyContent(() => [\n      h('div', this.setBackgroundColor(this.color, {\n        staticClass: 'v-expansion-panel-content',\n        directives: [{\n          name: 'show',\n          value: this.isActive,\n        }],\n      }), [\n        h('div', { class: 'v-expansion-panel-content__wrap' }, getSlot(this)),\n      ]),\n    ]))\n  },\n})\n","// Components\nimport { VFadeTransition } from '../transitions'\nimport VExpansionPanel from './VExpansionPanel'\nimport VIcon from '../VIcon'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport { inject as RegistrableInject } from '../../mixins/registrable'\n\n// Directives\nimport ripple from '../../directives/ripple'\n\n// Utilities\nimport { getSlot } from '../../util/helpers'\nimport mixins, { ExtractVue } from '../../util/mixins'\n\n// Types\nimport Vue, { VNode, VueConstructor } from 'vue'\n\nconst baseMixins = mixins(\n  Colorable,\n  RegistrableInject<'expansionPanel', VueConstructor<Vue>>('expansionPanel', 'v-expansion-panel-header', 'v-expansion-panel')\n)\n\ninterface options extends ExtractVue<typeof baseMixins> {\n  $el: HTMLElement\n  expansionPanel: InstanceType<typeof VExpansionPanel>\n}\n\nexport default baseMixins.extend<options>().extend({\n  name: 'v-expansion-panel-header',\n\n  directives: { ripple },\n\n  props: {\n    disableIconRotate: Boolean,\n    expandIcon: {\n      type: String,\n      default: '$expand',\n    },\n    hideActions: Boolean,\n    ripple: {\n      type: [Boolean, Object],\n      default: false,\n    },\n  },\n\n  data: () => ({\n    hasMousedown: false,\n  }),\n\n  computed: {\n    classes (): object {\n      return {\n        'v-expansion-panel-header--active': this.isActive,\n        'v-expansion-panel-header--mousedown': this.hasMousedown,\n      }\n    },\n    isActive (): boolean {\n      return this.expansionPanel.isActive\n    },\n    isDisabled (): boolean {\n      return this.expansionPanel.isDisabled\n    },\n    isReadonly (): boolean {\n      return this.expansionPanel.isReadonly\n    },\n  },\n\n  created () {\n    this.expansionPanel.registerHeader(this)\n  },\n\n  beforeDestroy () {\n    this.expansionPanel.unregisterHeader()\n  },\n\n  methods: {\n    onClick (e: MouseEvent) {\n      this.$emit('click', e)\n    },\n    genIcon () {\n      const icon = getSlot(this, 'actions') ||\n        [this.$createElement(VIcon, this.expandIcon)]\n\n      return this.$createElement(VFadeTransition, [\n        this.$createElement('div', {\n          staticClass: 'v-expansion-panel-header__icon',\n          class: {\n            'v-expansion-panel-header__icon--disable-rotate': this.disableIconRotate,\n          },\n          directives: [{\n            name: 'show',\n            value: !this.isDisabled,\n          }],\n        }, icon),\n      ])\n    },\n  },\n\n  render (h): VNode {\n    return h('button', this.setBackgroundColor(this.color, {\n      staticClass: 'v-expansion-panel-header',\n      class: this.classes,\n      attrs: {\n        tabindex: this.isDisabled ? -1 : null,\n        type: 'button',\n        'aria-expanded': this.isActive,\n      },\n      directives: [{\n        name: 'ripple',\n        value: this.ripple,\n      }],\n      on: {\n        ...this.$listeners,\n        click: this.onClick,\n        mousedown: () => (this.hasMousedown = true),\n        mouseup: () => (this.hasMousedown = false),\n      },\n    }), [\n      getSlot(this, 'default', { open: this.isActive }, true),\n      this.hideActions || this.genIcon(),\n    ])\n  },\n})\n","// Styles\nimport './VExpansionPanel.sass'\n\n// Components\nimport { BaseItemGroup, GroupableInstance } from '../VItemGroup/VItemGroup'\nimport VExpansionPanel from './VExpansionPanel'\n\n// Utilities\nimport { breaking } from '../../util/console'\n\n// Types\ninterface VExpansionPanelInstance extends InstanceType<typeof VExpansionPanel> {}\n\n/* @vue/component */\nexport default BaseItemGroup.extend({\n  name: 'v-expansion-panels',\n\n  provide (): object {\n    return {\n      expansionPanels: this,\n    }\n  },\n\n  props: {\n    accordion: Boolean,\n    disabled: Boolean,\n    flat: Boolean,\n    hover: Boolean,\n    focusable: Boolean,\n    inset: Boolean,\n    popout: Boolean,\n    readonly: Boolean,\n    tile: Boolean,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...BaseItemGroup.options.computed.classes.call(this),\n        'v-expansion-panels': true,\n        'v-expansion-panels--accordion': this.accordion,\n        'v-expansion-panels--flat': this.flat,\n        'v-expansion-panels--hover': this.hover,\n        'v-expansion-panels--focusable': this.focusable,\n        'v-expansion-panels--inset': this.inset,\n        'v-expansion-panels--popout': this.popout,\n        'v-expansion-panels--tile': this.tile,\n      }\n    },\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('expand')) {\n      breaking('expand', 'multiple', this)\n    }\n\n    /* istanbul ignore next */\n    if (\n      Array.isArray(this.value) &&\n      this.value.length > 0 &&\n      typeof this.value[0] === 'boolean'\n    ) {\n      breaking(':value=\"[true, false, true]\"', ':value=\"[0, 2]\"', this)\n    }\n  },\n\n  methods: {\n    updateItem (item: GroupableInstance & VExpansionPanelInstance, index: number) {\n      const value = this.getValue(item, index)\n      const nextValue = this.getValue(item, index + 1)\n\n      item.isActive = this.toggleMethod(value)\n      item.nextIsActive = this.toggleMethod(nextValue)\n    },\n  },\n})\n","import { render, staticRenderFns } from \"./OrganizationMemberFormDialog.vue?vue&type=template&id=4da4cf7b&scoped=true&\"\nimport script from \"./OrganizationMemberFormDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationMemberFormDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrganizationMemberFormDialog.vue?vue&type=style&index=0&id=4da4cf7b&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4da4cf7b\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\nimport { VTimePicker } from 'vuetify/lib/components/VTimePicker';\ninstallComponents(component, {VAlert,VAutocomplete,VAvatar,VBtn,VCard,VCardActions,VCardText,VCardTitle,VCheckbox,VChip,VCol,VContainer,VDatePicker,VDialog,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VForm,VIcon,VImg,VList,VListItem,VListItemAvatar,VListItemContent,VListItemSubtitle,VListItemTitle,VMenu,VRadio,VRadioGroup,VRow,VSpacer,VSwitch,VTextField,VTextarea,VTimePicker})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"width\":\"500\"},model:{value:(_vm.isVisible),callback:function ($$v) {_vm.isVisible=$$v},expression:\"isVisible\"}},[_c('v-card',{staticClass:\"org-import-members-card\"},[_c('v-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.importCsv()}}},[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\" Import Members From CSV \")]),_c('v-card-text',[_c('v-file-input',{ref:\"csvFileRef\",attrs:{\"show-size\":\"\",\"prepend-icon\":_vm.icons.mdiFileExcel,\"label\":\"Choose a CSV file\",\"hide-details\":\"\",\"accept\":\".csv\"},on:{\"change\":_vm.onChangeFile}})],1),_c('v-card-text',[_c('app-card-actions',{ref:\"csvColsCardRef\",attrs:{\"action-collapse\":\"\",\"flat\":\"\",\"outlined\":\"\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('v-icon',{staticClass:\"mr-2\"},[_vm._v(_vm._s(_vm.icons.mdiInformationOutline))]),_vm._v(\" CSV Columns \")]},proxy:true}])},[_c('v-card-text',[_vm._v(\" Your csv file should contains this required columns: \"),_c('ul',[_c('li',[_vm._v(\"uuid\")]),_c('li',[_vm._v(\"first_name\")]),_c('li',[_vm._v(\"last_name\")])]),_vm._v(\" and this optional columns \"),_c('ul',[_c('li',[_vm._v(\"gender\")]),_c('li',[_vm._v(\"birth_date\")]),_c('li',[_vm._v(\"email\")]),_c('li',[_vm._v(\"phone\")]),_c('li',[_vm._v(\"address1\")]),_c('li',[_vm._v(\"address2\")]),_c('li',[_vm._v(\"country\")]),_c('li',[_vm._v(\"city\")]),_c('li',[_vm._v(\"state\")]),_c('li',[_vm._v(\"zipcode\")]),_c('li',[_vm._v(\"start_date\")]),_c('li',[_vm._v(\"exp_date\")])]),_vm._v(\" And any extra columns based your org config. \")])],1)],1),(_vm.failedRecords && _vm.failedRecords.length)?_c('v-card-text',[_c('app-card-actions',{attrs:{\"action-collapse\":\"\",\"flat\":\"\",\"outlined\":\"\",\"color\":\"warning\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiAlertOutline))]),_vm._v(\" Failed Records \")]},proxy:true}],null,false,4268727094)},[_c('pre',{staticClass:\"failed-records\"},[_vm._v(_vm._s(JSON.stringify(_vm.failedRecords, null, 2)))])])],1):_vm._e(),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"secondary\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.hide()}}},[_vm._v(\"Close\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"type\":\"submit\",\"loading\":_vm.importing,\"disabled\":!_vm.csvFile}},[_vm._v(\"Import\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-model=\"isVisible\" persistent width=\"500\">\n    <v-card class=\"org-import-members-card\">\n      <v-form @submit.prevent=\"importCsv()\">\n        <v-card-title class=\"headline\">\n          Import Members From CSV\n        </v-card-title>\n        <v-card-text>\n          <v-file-input show-size :prepend-icon=\"icons.mdiFileExcel\" label=\"Choose a CSV file\" hide-details\n                        @change=\"onChangeFile\"\n                        accept=\".csv\" ref=\"csvFileRef\"></v-file-input>\n        </v-card-text>\n        <v-card-text>\n          <app-card-actions action-collapse flat outlined ref=\"csvColsCardRef\">\n            <template #title>\n              <v-icon class=\"mr-2\">{{icons.mdiInformationOutline}}</v-icon> CSV Columns\n            </template>\n            <v-card-text>\n              Your csv file should contains this required columns:\n              <ul>\n                <li>uuid</li>\n                <li>first_name</li>\n                <li>last_name</li>\n              </ul>\n              and this optional columns\n              <ul>\n                <li>gender</li>\n                <li>birth_date</li>\n                <li>email</li>\n                <li>phone</li>\n                <li>address1</li>\n                <li>address2</li>\n                <li>country</li>\n                <li>city</li>\n                <li>state</li>\n                <li>zipcode</li>\n                <li>start_date</li>\n                <li>exp_date</li>\n              </ul>\n              And any extra columns based your org config.\n\n            </v-card-text>\n          </app-card-actions>\n\n        </v-card-text>\n        <v-card-text v-if=\"failedRecords && failedRecords.length\">\n          <app-card-actions action-collapse flat outlined color=\"warning\">\n            <template #title>\n              <v-icon>{{icons.mdiAlertOutline}}</v-icon> Failed Records\n            </template>\n            <pre class=\"failed-records\">{{JSON.stringify(failedRecords, null, 2)}}</pre>\n          </app-card-actions>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"secondary\" outlined @click=\"hide()\">Close</v-btn>\n          <v-btn color=\"primary\" type=\"submit\" :loading=\"importing\" :disabled=\"!csvFile\">Import</v-btn>\n        </v-card-actions>\n\n      </v-form>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport {mdiFileExcel, mdiInformationOutline, mdiAlertOutline} from '@mdi/js';\nimport { ref } from '@vue/composition-api';\nimport axios from \"@/axios\";\nimport {notifyDefaultServerError, notifyInfo} from \"@/composables/utils\";\nimport AppCardActions from \"@core/components/app-card-actions/AppCardActions\";\n\nexport default {\n  components: {AppCardActions},\n  props: {\n    organization: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props, context) {\n    const isVisible = ref(false);\n    const importing = ref(false);\n    const csvFile = ref(null);\n    const csvFileRef = ref(null);\n    const csvColsCardRef = ref(null);\n    const failedRecords = ref([]);\n\n    const hide = () => {\n      isVisible.value = false;\n    };\n\n    const show = (type, _to) => {\n      csvFile.value = null;\n      importing.value = false;\n      failedRecords.value = [];\n      isVisible.value = true;\n    };\n\n    const onChangeFile = (file) => {\n      csvFile.value = file || null;\n    };\n\n    const importCsv = () => {\n      importing.value = true;\n      var formData = new FormData(),\n          orgId = props.organization.id;\n      formData.append('file', csvFile.value);\n      axios.post( `cycling_org/organization/${orgId}/members/import_from_csv`,\n          formData, {headers: {'Content-Type': 'multipart/form-data'}}\n      ).then((response) => {\n        importing.value = false;\n        context.emit('import-successed');\n        notifyInfo(`Members imported. ${response.data.successed} successed. ${response.data.failed.length} failed.`);\n        failedRecords.value = response.data.failed;\n        csvFileRef.value.clearableCallback();\n        if (failedRecords.value && failedRecords.value.length && !csvColsCardRef.value.isContentCollapsed) {\n          csvColsCardRef.value.triggerCollapse();\n        }\n      }, (error) => {\n        importing.value = false;\n        notifyDefaultServerError(error, true);\n      });\n    };\n    \n    return {\n      isVisible,\n      importing,\n      csvFile,\n      csvFileRef,\n      csvColsCardRef,\n      show,\n      hide,\n      importCsv,\n      onChangeFile,\n      failedRecords,\n      icons: {\n        mdiFileExcel,\n        mdiInformationOutline,\n        mdiAlertOutline\n      }\n    }\n  },\n}\n</script>\n\n<style>\n.org-import-members-card .v-card .v-card__title {\n  padding: 10px !important;\n}\n.org-import-members-card pre.failed-records {\n  max-height: 300px;\n  overflow: auto;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationImportMembersDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationImportMembersDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrganizationImportMembersDialog.vue?vue&type=template&id=14321dbe&\"\nimport script from \"./OrganizationImportMembersDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationImportMembersDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrganizationImportMembersDialog.vue?vue&type=style&index=0&id=14321dbe&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VFileInput,VForm,VIcon,VSpacer})\n","<template>\n  <div class=\"member-profile-organization-tab\">\n    <v-card>\n      <v-card-text class=\"d-flex align-center flex-wrap pb-0\">\n        <div class=\"d-flex align-center pb-5\">\n          <v-btn fab x-small color=\"info\" class=\"me-1\" @click=\"loadRecords(1)\">\n            <v-icon>{{icons.mdiRefresh}}</v-icon>\n          </v-btn>\n          <v-tooltip bottom v-if=\"organization.my_level.is_admin\">\n            <template #activator=\"{ on, attrs }\">\n              <v-btn v-bind=\"attrs\" v-on=\"on\" small color=\"primary\" class=\"me-1\" @click=\"$refs.formDialogRef.show()\">\n                <v-icon size=\"18\" class=\"me-1\">\n                  {{ icons.mdiAccountPlus }}\n                </v-icon>\n                <span>Member</span>\n              </v-btn>\n            </template>\n            <span>Add A Member To Organization</span>\n          </v-tooltip>\n          <v-tooltip bottom v-if=\"organization.my_level.is_admin\">\n            <template #activator=\"{ on, attrs }\">\n              <v-btn v-bind=\"attrs\" v-on=\"on\" small outlined color=\"info\" class=\"me-1\" @click=\"$refs.importDialogRef.show()\">\n                <v-icon size=\"18\" class=\"me-1\">\n                  {{ icons.mdiFileExcelOutline }}\n                </v-icon>\n                <span>Import</span>\n              </v-btn>\n            </template>\n            <span>Import members from CSV file</span>\n          </v-tooltip>\n        </div>\n\n        <v-spacer></v-spacer>\n\n        <div class=\"d-flex align-center pb-5\">\n          <v-text-field\n              :value=\"tableFiltering.search\"\n              @change=\"value => $set(tableFiltering, 'search', value)\"\n              @click:clear=\"$set(tableFiltering, 'search', null)\"\n              dense clearable hide-details\n              placeholder=\"Search ...\" class=\"me-3 organization-search\"\n          ></v-text-field>\n\n          <v-switch hide-details class=\"mt-0\" v-model=\"tableFiltering.is_active\">\n            <template #label>\n              <span class=\"text-sm ms-2\">Only Active?</span>\n            </template>\n          </v-switch>\n        </div>\n      </v-card-text>\n\n      <v-data-table\n        :headers=\"tableColumns\"\n        :items=\"records\"\n        :options.sync=\"tableOptions\"\n        @update:options=\"loadRecords()\"\n        :server-items-length=\"pagination.total\"\n        :loading=\"loading\"\n        class=\"text-no-wrap\"\n        :item-class=\"tableRowClass\"\n        :footer-props=\"{'items-per-page-options': $const.DEFAULT_TABLE_PER_PAGE_OPTIONS, 'show-current-page': true, 'show-first-last-page': true}\"\n      >\n        <template #item.datetime=\"{item}\">\n          <span class=\"pr-1\">{{$utils.formatDate(item.datetime, 'M/D/YY')}}</span>\n          <span class=\"text-caption\">{{$utils.formatDate(item.datetime, 'HH:mm')}}</span>\n        </template>\n        <template #item.start_date=\"{item}\">\n          <v-tooltip bottom v-if=\"item.start_date\">\n            <template #activator=\"{ on, attrs }\">\n              <span v-on=\"on\">{{$utils.formatDate(item.start_date, 'M/D/YY', 'N/A')}}</span>\n            </template>\n            <span>{{$utils.formatDate(item.start_date, 'MMM D, YYYY', 'N/A')}}</span>\n          </v-tooltip>\n          <span v-else>N/A</span>\n          -\n          <v-tooltip bottom v-if=\"item.exp_date\">\n            <template #activator=\"{ on, attrs }\">\n              <span v-on=\"on\">{{$utils.formatDate(item.exp_date, 'M/D/YY', 'N/A')}}</span>\n            </template>\n            <span>{{$utils.formatDate(item.exp_date, 'MMM D, YYYY', 'N/A')}}</span>\n          </v-tooltip>\n          <span v-else>N/A</span>\n        </template>\n        <template #item.org_member_uid=\"{item}\">\n          {{item.org_member_uid || 'N/A'}}\n        </template>\n        <template #item.status=\"{item}\">\n          <v-tooltip bottom v-if=\"item.status == 'accept'\" color=\"success\">\n            <template #activator=\"{ on, attrs }\">\n              <v-icon color=\"success\" v-on=\"on\">{{icons.mdiCheckCircleOutline}}</v-icon>\n            </template>\n            <span>Accepted</span>\n          </v-tooltip>\n          <v-tooltip bottom v-else-if=\"item.status == 'reject'\" color=\"error\">\n            <template #activator=\"{ on, attrs }\">\n              <v-icon color=\"error\" v-on=\"on\">{{icons.mdiCloseCircleOutline}}</v-icon>\n            </template>\n            <span>Rejected</span>\n          </v-tooltip>\n          <v-tooltip bottom v-else-if=\"item.status == 'waiting'\" color=\"warning\">\n            <template #activator=\"{ on, attrs }\">\n              <v-icon color=\"warning\" v-on=\"on\">{{icons.mdiSyncCircle}}</v-icon>\n            </template>\n            <span>Waiting for member review</span>\n          </v-tooltip>\n          <span v-else>{{item.status || '-'}}</span>\n        </template>\n        <template #item.is_admin=\"{item}\">\n          <v-tooltip v-if=\"item.is_master_admin\" bottom>\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-icon v-bind=\"attrs\" v-on=\"on\" color=\"success\">{{icons.mdiAccountCheck}}</v-icon>\n            </template>\n            <span>Is Master Admin</span>\n          </v-tooltip>\n          <v-tooltip v-else-if=\"item.is_admin\" bottom>\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-icon v-bind=\"attrs\" v-on=\"on\" color=\"success\">{{icons.mdiAccountCheckOutline}}</v-icon>\n            </template>\n            <span>Is Admin</span>\n          </v-tooltip>\n          <span v-else>-</span>\n        </template>\n\n        <template #item.name=\"{item}\">\n          <a is=\"router-link\" :to=\"{name: $rns.PUBLIC_RIDER_PROFILE, params:{record_id: item.member}}\"\n             class=\"d-flex align-center title-link\">\n            <v-avatar color=\"success\" class=\"v-avatar-light-bg success--text\" size=\"30\">\n              <v-img v-if=\"item._member._user.avatar\" :src=\"item._member._user.avatar\"></v-img>\n              <span v-else class=\"font-weight-medium\">\n                {{ avatarText(item._member.first_name) }}\n              </span>\n            </v-avatar>\n\n            <div class=\"d-flex flex-column ms-3\">\n              <span class=\"d-block text--success  font-weight-semibold text-truncate\">\n                <v-icon small>{{item._member._user.id? icons.mdiAccountCheck: icons.mdiAccountCancel}}</v-icon>\n                {{ item._member.first_name }} {{ item._member.last_name }}\n              </span>\n              <span class=\"text-xs\">{{ item._member.email || '-' }}</span>\n            </div>\n          </a>\n        </template>\n\n        <!-- actions -->\n        <template #item.actions=\"{item}\">\n          <div class=\"d-flex align-end justify-end\">\n            <v-tooltip bottom v-if=\"organization.my_level.is_admin\">\n              <template #activator=\"{ on, attrs }\">\n                <v-btn icon small v-bind=\"attrs\" v-on=\"on\" @click=\"$refs.formDialogRef.show(item)\">\n                  <v-icon size=\"18\">\n                    {{ icons.mdiPencilOutline }}\n                  </v-icon>\n                </v-btn>\n              </template>\n              <span>Edit / View</span>\n            </v-tooltip>\n\n          </div>\n        </template>\n\n      </v-data-table>\n    </v-card>\n    <organization-member-form-dialog ref=\"formDialogRef\" :organization=\"organization\"\n                                     @save-successed=\"loadRecords(1)\" @delete-successed=\"loadRecords(1)\">\n    </organization-member-form-dialog>\n    <organization-import-members-dialog ref=\"importDialogRef\" :organization=\"organization\"\n                                        @import-successed=\"loadRecords(1)\">\n    </organization-import-members-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  mdiAccountPlus,\n  mdiPencilOutline,\n  mdiEyeOutline,\n  mdiAccountGroupOutline,\n  mdiAccountMultipleOutline,\n  mdiAccountCheck,\n  mdiAccountCancel,\n  mdiAccountCheckOutline,\n  mdiFileExcelOutline,\n  mdiSyncCircle,\n  mdiCheckCircleOutline,\n  mdiCloseCircleOutline,\n  mdiRefresh,\n} from '@mdi/js'\n\nimport { ref, reactive, watch, onMounted } from '@vue/composition-api'\nimport store from '@/store'\nimport axios from \"@/axios\";\nimport {notifyDefaultServerError, refineVTableOptions} from \"@/composables/utils\";\nimport {avatarText} from \"@core/utils/filter\";\nimport OrganizationMemberFormDialog from \"./OrganizationMemberFormDialog\";\nimport OrganizationImportMembersDialog from \"@/views/dashboard/organizationProfile/OrganizationImportMembersDialog\";\n\nexport default {\n  components: {OrganizationImportMembersDialog, OrganizationMemberFormDialog},\n  props: {\n    organization: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props) {\n    const records = ref([]);\n    const pagination = ref({total: 0});\n    const loading = ref(false);\n    const tableOptions = ref({});\n    const tableFiltering = ref({is_active: true});\n    const tableColumns = [\n      {text: 'NAME', value: 'name'},\n      {text: 'ADMIN?', value: 'is_admin'},\n      {text: 'UID', value: 'org_member_uid'},\n      {text: 'START/EXP DATE', value: 'start_date'},\n      {text: 'CREATED AT', value: 'datetime'},\n      {text: 'STATUS', value: 'status'},\n    ];\n    if (props.organization.my_level.is_admin) {\n      tableColumns.push({text: 'ACTIONS', value: 'actions', align: 'end', sortable: false,})\n    }\n\n    const tableRowClass = (item) => {\n      return `member-row${!item.is_active? ' inactive': ''}`\n    };\n\n    const loadRecords = (page) => {\n      if (page) {\n        tableOptions.value.page = page;\n      }\n      const params = Object.assign({}, tableFiltering.value, refineVTableOptions(tableOptions.value));\n      if (!params.is_active) {\n        delete params.is_active;\n      }\n      loading.value = true;\n      axios.get(`cycling_org/organization/${props.organization.id}/members`, {params: params}).then((response) => {\n        loading.value = false;\n        records.value = response.data.results;\n        pagination.value = response.data.pagination;\n      }, (error) => {\n        loading.value = false;\n        notifyDefaultServerError(error, true)\n      });\n\n    };\n\n    watch(() => tableFiltering, (currentValue, oldValue) => {\n        loadRecords(1);\n      },\n      { deep: true }\n    );\n\n    return {\n      records,\n      tableColumns,\n      tableOptions,\n      tableFiltering,\n      loading,\n      pagination,\n      avatarText,\n      loadRecords,\n      tableRowClass,\n\n      icons: {\n        mdiAccountPlus,\n        mdiPencilOutline,\n        mdiEyeOutline,\n        mdiAccountGroupOutline,\n        mdiAccountMultipleOutline,\n        mdiAccountCheck,\n        mdiAccountCheckOutline,\n        mdiFileExcelOutline,\n        mdiSyncCircle,\n        mdiCheckCircleOutline,\n        mdiCloseCircleOutline,\n        mdiAccountCancel,\n        mdiRefresh,\n      },\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.member-profile-organization-tab {\n  a.title-link {\n    color: inherit;\n    text-decoration: none;\n  }\n  .organization-search {\n    max-width: 10.625rem;\n  }\n  .organization-list-actions {\n    max-width: 7.81rem;\n  }\n  table tr.member-row.inactive td:not(:last-child) {\n    opacity: 0.5;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationMembersTab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationMembersTab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrganizationMembersTab.vue?vue&type=template&id=a6df0052&\"\nimport script from \"./OrganizationMembersTab.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationMembersTab.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrganizationMembersTab.vue?vue&type=style&index=0&id=a6df0052&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VAvatar,VBtn,VCard,VCardText,VDataTable,VIcon,VImg,VSpacer,VSwitch,VTextField,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"member-profile-organization-tab\"},[_c('v-card',{attrs:{\"disabled\":_vm.loading}},[_c('v-card-text',{staticClass:\"pb-0\"},[_c('div',{staticClass:\"d-flex justify-space-between pb-5\"},[(!_vm.loading)?_c('div',[(_vm.isSingin)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"me-1\",attrs:{\"small\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.signOutFromCC}},'v-btn',attrs,false),on),[_c('span',[_vm._v(\"Sign Out from CC\")])])]}}],null,false,2648069803)},[_c('span',[_vm._v(\"Sign Out from CC\")])]):_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"me-1\",attrs:{\"small\":\"\",\"color\":\"primary\",\"href\":\"/accounts/constantcontact/login\"}},'v-btn',attrs,false),on),[_c('span',[_vm._v(\"Authenticate with CC\")])])]}}],null,false,1069096462)},[_c('span',[_vm._v(\"Authenticate with CC\")])])],1):_vm._e(),_c('div',{staticClass:\"d-flex align-center pb-5\"},[_c('v-text-field',{staticClass:\"mr-2\",attrs:{\"prepend-inner-icon\":_vm.icons.mdiMagnify,\"single-line\":\"\",\"dense\":\"\",\"placeholder\":\"Search ...\",\"hide-details\":\"auto\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),(_vm.isSingin)?_c('div',[(_vm.ccList.length >= 1)?_c('v-autocomplete',{attrs:{\"dense\":\"\",\"hide-details\":\"auto\",\"items\":_vm.ccList,\"label\":\"Choose List\",\"item-value\":\"list_id\",\"item-text\":\"name\"},on:{\"change\":_vm.loadCCListDetails},model:{value:(_vm.ccListSelect),callback:function ($$v) {_vm.ccListSelect=$$v},expression:\"ccListSelect\"}}):_vm._e()],1):_vm._e()],1)]),_c('v-spacer')],1),_c('v-data-table',{staticClass:\"text-no-wrap\",attrs:{\"headers\":_vm.tableColumns,\"items\":_vm.records,\"loading\":_vm.loading,\"search\":_vm.search},scopedSlots:_vm._u([{key:\"item.match_type\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip',{attrs:{\"small\":\"\",\"color\":_vm.color_chip(item.match_type)}},[_vm._v(_vm._s(item.match_type))])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"member-profile-organization-tab\">\n    <v-card :disabled=\"loading\">\n      <v-card-text class=\"pb-0\">\n        <div class=\"d-flex justify-space-between pb-5\">\n          <div v-if=\"!loading\">\n            <v-tooltip v-if=\"isSingin\" bottom>\n              <template #activator=\"{ on, attrs }\">\n                <v-btn\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                  small\n                  color=\"primary\"\n                  class=\"me-1\"\n                  @click=\"signOutFromCC\"\n                >\n                  <span>Sign Out from CC</span>\n                </v-btn>\n              </template>\n              <span>Sign Out from CC</span>\n            </v-tooltip>\n            <v-tooltip v-else bottom>\n              <template #activator=\"{ on, attrs }\">\n                <v-btn\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                  small\n                  color=\"primary\"\n                  class=\"me-1\"\n                  href=\"/accounts/constantcontact/login\"\n                >\n                  <span>Authenticate with CC</span>\n                </v-btn>\n              </template>\n              <span>Authenticate with CC</span>\n            </v-tooltip>\n          </div>\n\n          <div class=\"d-flex align-center pb-5\">\n            <v-text-field\n              v-model=\"search\"\n              :prepend-inner-icon=\"icons.mdiMagnify\"\n              single-line\n              dense\n              class=\"mr-2\"\n              placeholder=\"Search ...\"\n              hide-details=\"auto\"\n            ></v-text-field>\n\n            <div v-if=\"isSingin\">\n              <v-autocomplete\n                dense\n                hide-details=\"auto\"\n                @change=\"loadCCListDetails\"\n                v-model=\"ccListSelect\"\n                v-if=\"ccList.length >= 1\"\n                :items=\"ccList\"\n                label=\"Choose List\"\n                item-value=\"list_id\"\n                item-text=\"name\"\n              ></v-autocomplete>\n            </div>\n          </div>\n        </div>\n\n        <v-spacer></v-spacer>\n      </v-card-text>\n      <v-data-table\n        :headers=\"tableColumns\"\n        :items=\"records\"\n        :loading=\"loading\"\n        class=\"text-no-wrap\"\n        :search=\"search\"\n      >\n        <template #item.match_type=\"{ item }\">\n          <v-chip small :color=\"color_chip(item.match_type)\">{{\n            item.match_type\n          }}</v-chip>\n        </template>\n      </v-data-table>\n    </v-card>\n  </div>\n</template>\n\n<script>\nimport {\n  mdiAccountPlus,\n  mdiMagnify,\n  mdiPencilOutline,\n  mdiEyeOutline,\n  mdiAccountGroupOutline,\n  mdiAccountMultipleOutline,\n  mdiAccountCheck,\n  mdiAccountCancel,\n  mdiAccountCheckOutline,\n  mdiFileExcelOutline,\n  mdiSyncCircle,\n  mdiCheckCircleOutline,\n  mdiCloseCircleOutline,\n  mdiRefresh,\n} from \"@mdi/js\";\n\nimport { ref, reactive, watch, onMounted } from \"@vue/composition-api\";\nimport axios from \"@/axios\";\nimport {\n  notifyDefaultServerError,\n  refineVTableOptions,\n} from \"@/composables/utils\";\n\nexport default {\n  components: {},\n  props: {\n    organization: {\n      type: Object,\n      required: true,\n    },\n  },\n  setup(props) {\n    const records = ref([]);\n    const isSingin = ref(false);\n    const ccList = ref([]);\n    const ccListSelect = ref();\n    const search = ref();\n    const loading = ref(false);\n    const tableColumns = [\n      { text: \"Member Name\", value: \"member_name\" },\n      { text: \"Member Email\", value: \"member_email\" },\n      { text: \"Match Type\", value: \"match_type\" },\n      { text: \"Contact Name\", value: \"first_name\" },\n      { text: \"Contact Email\", value: \"email_address.address\" },\n    ];\n\n    const tableRowClass = (item) => {\n      return `member-row${!item.is_active ? \" inactive\" : \"\"}`;\n    };\n    const signOutFromCC = () => {\n      loading.value = true;\n      axios.get(`/constantcontact/sign_out`).then(\n        (response) => {\n          loading.value = false;\n          getCCStatus();\n        },\n        (error) => {\n          loading.value = false;\n          notifyDefaultServerError(error, true);\n        }\n      );\n    };\n    const loadCCListDetails = () => {\n      loading.value = true;\n      axios\n        .get(\n          `/constantcontact/contact_list_detail/${ccListSelect.value}/?organization=${props.organization.id}`\n        )\n        .then(\n          (response) => {\n            loading.value = false;\n            records.value = response.data.contacts;\n          },\n          (error) => {\n            loading.value = false;\n            notifyDefaultServerError(error, true);\n          }\n        );\n    };\n    const loadCCList = () => {\n      loading.value = true;\n      axios.get(`/constantcontact/contact_list`).then(\n        (response) => {\n          loading.value = false;\n          ccList.value = response.data.lists;\n        },\n        (error) => {\n          loading.value = false;\n          notifyDefaultServerError(error, true);\n        }\n      );\n    };\n    const color_chip = (match_type) => {\n      if (match_type == \"Matched\") {\n        return \"success\";\n      }\n      return \"error\";\n    };\n    const getCCStatus = () => {\n      loading.value = true;\n      axios.get(`/constantcontact/cc_status`).then(\n        (response) => {\n          loading.value = false;\n          isSingin.value = true;\n          loadCCList();\n        },\n        (error) => {\n          loading.value = false;\n          isSingin.value = false;\n          if (error.response.status !== 403 ) {\n            notifyDefaultServerError(error, true);\n          }\n        }\n      );\n    };\n\n    onMounted(() => {\n      getCCStatus();\n    });\n\n    return {\n      records,\n      isSingin,\n      ccList,\n      ccListSelect,\n      tableColumns,\n      loading,\n      search,\n      signOutFromCC,\n      getCCStatus,\n      loadCCListDetails,\n      loadCCList,\n      tableRowClass,\n      color_chip,\n\n      icons: {\n        mdiMagnify,\n        mdiAccountPlus,\n        mdiPencilOutline,\n        mdiEyeOutline,\n        mdiAccountGroupOutline,\n        mdiAccountMultipleOutline,\n        mdiAccountCheck,\n        mdiAccountCheckOutline,\n        mdiFileExcelOutline,\n        mdiSyncCircle,\n        mdiCheckCircleOutline,\n        mdiCloseCircleOutline,\n        mdiAccountCancel,\n        mdiRefresh,\n      },\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.member-profile-organization-tab {\n  a.title-link {\n    color: inherit;\n    text-decoration: none;\n  }\n  .organization-search {\n    max-width: 10.625rem;\n  }\n  .organization-list-actions {\n    max-width: 7.81rem;\n  }\n  table tr.member-row.inactive td:not(:last-child) {\n    opacity: 0.5;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationConstantContactList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationConstantContactList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrganizationConstantContactList.vue?vue&type=template&id=39fef6df&\"\nimport script from \"./OrganizationConstantContactList.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationConstantContactList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrganizationConstantContactList.vue?vue&type=style&index=0&id=39fef6df&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VAutocomplete,VBtn,VCard,VCardText,VChip,VDataTable,VSpacer,VTextField,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"member-org-profile-organization-tab\"},[_c('v-card',[_c('v-card-text',{staticClass:\"d-flex align-center flex-wrap pb-0\"},[_c('div',{staticClass:\"d-flex align-center pb-5\"},[_c('v-btn',{staticClass:\"me-1\",attrs:{\"fab\":\"\",\"x-small\":\"\",\"color\":\"info\"},on:{\"click\":function($event){return _vm.loadRecords(1)}}},[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiRefresh))])],1),(_vm.organization.my_level.is_admin)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"me-1\",attrs:{\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.formDialogRef.show()}}},'v-btn',attrs,false),on),[_c('v-icon',{staticClass:\"me-1\",attrs:{\"size\":\"18\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiHomePlus)+\" \")]),_c('span',[_vm._v(\"Member Org\")])],1)]}}],null,false,3841220553)},[_c('span',[_vm._v(\"Add A Member-Org To Organization\")])]):_vm._e(),(_vm.organization.my_level.is_admin)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"me-1\",attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"info\"},on:{\"click\":function($event){return _vm.$refs.importDialogRef.show()}}},'v-btn',attrs,false),on),[_c('v-icon',{staticClass:\"me-1\",attrs:{\"size\":\"18\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiFileExcelOutline)+\" \")]),_c('span',[_vm._v(\"Import\")])],1)]}}],null,false,4240874145)},[_c('span',[_vm._v(\"Import member orgs from CSV file\")])]):_vm._e()],1),_c('v-spacer'),_c('div',{staticClass:\"d-flex align-center pb-5\"},[_c('v-text-field',{staticClass:\"me-3 organization-search\",attrs:{\"value\":_vm.tableFiltering.search,\"dense\":\"\",\"clearable\":\"\",\"hide-details\":\"\",\"placeholder\":\"Search ...\"},on:{\"change\":function (value) { return _vm.$set(_vm.tableFiltering, 'search', value); },\"click:clear\":function($event){return _vm.$set(_vm.tableFiltering, 'search', null)}}}),_c('v-switch',{staticClass:\"mt-0\",attrs:{\"hide-details\":\"\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('span',{staticClass:\"text-sm ms-2\"},[_vm._v(\"Only Active?\")])]},proxy:true}]),model:{value:(_vm.tableFiltering.is_active),callback:function ($$v) {_vm.$set(_vm.tableFiltering, \"is_active\", $$v)},expression:\"tableFiltering.is_active\"}})],1)],1),_c('v-data-table',{staticClass:\"text-no-wrap\",attrs:{\"headers\":_vm.tableColumns,\"items\":_vm.records,\"options\":_vm.tableOptions,\"server-items-length\":_vm.pagination.total,\"loading\":_vm.loading,\"item-class\":_vm.tableRowClass,\"footer-props\":{'items-per-page-options': _vm.$const.DEFAULT_TABLE_PER_PAGE_OPTIONS, 'show-current-page': true, 'show-first-last-page': true}},on:{\"update:options\":[function($event){_vm.tableOptions=$event},function($event){return _vm.loadRecords()}]},scopedSlots:_vm._u([{key:\"item.datetime\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{staticClass:\"pr-1\"},[_vm._v(_vm._s(_vm.$utils.formatDate(item.datetime, 'M/D/YY')))]),_c('span',{staticClass:\"text-caption\"},[_vm._v(_vm._s(_vm.$utils.formatDate(item.datetime, 'HH:mm')))])]}},{key:\"item.start_date\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.start_date)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('span',_vm._g({},on),[_vm._v(_vm._s(_vm.$utils.formatDate(item.start_date, 'M/D/YY', 'N/A')))])]}}],null,true)},[_c('span',[_vm._v(_vm._s(_vm.$utils.formatDate(item.start_date, 'MMM D, YYYY', 'N/A')))])]):_c('span',[_vm._v(\"N/A\")]),_vm._v(\" - \"),(item.exp_date)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('span',_vm._g({},on),[_vm._v(_vm._s(_vm.$utils.formatDate(item.exp_date, 'M/D/YY', 'N/A')))])]}}],null,true)},[_c('span',[_vm._v(_vm._s(_vm.$utils.formatDate(item.exp_date, 'MMM D, YYYY', 'N/A')))])]):_c('span',[_vm._v(\"N/A\")])]}},{key:\"item.status\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.status == 'accept')?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"success\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g({attrs:{\"color\":\"success\"}},on),[_vm._v(_vm._s(_vm.icons.mdiCheckCircleOutline))])]}}],null,true)},[_c('span',[_vm._v(\"Accepted\")])]):(item.status == 'reject')?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"error\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g({attrs:{\"color\":\"error\"}},on),[_vm._v(_vm._s(_vm.icons.mdiCloseCircleOutline))])]}}],null,true)},[_c('span',[_vm._v(\"Rejected\")])]):(item.status == 'waiting')?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"warning\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g({attrs:{\"color\":\"warning\"}},on),[_vm._v(_vm._s(_vm.icons.mdiSyncCircle))])]}}],null,true)},[_c('span',[_vm._v(\"Waiting for member review\")])]):_c('span',[_vm._v(_vm._s(item.status || '-'))])]}},{key:\"item.member_org\",fn:function(ref){\nvar item = ref.item;\nreturn [_c(\"router-link\",{tag:\"a\",staticClass:\"d-flex align-center title-link\",attrs:{\"to\":{name: _vm.$rns.PUBLIC_ORG_PROFILE, params:{record_id: item.member_org}}},on:{\"click\":function($event){return _vm.$refs.formDialogRef.show(item)}}},[_c('v-avatar',{staticClass:\"v-avatar-light-bg success--text\",attrs:{\"color\":\"success\",\"size\":\"30\"}},[(item._member_org.logo)?_c('v-img',{attrs:{\"src\":item._member_org.logo}}):_c('span',{staticClass:\"font-weight-medium\"},[_vm._v(\" \"+_vm._s(_vm.avatarText(item._member_org.name))+\" \")])],1),_c('div',{staticClass:\"d-flex flex-column ms-3\"},[_c('span',{staticClass:\"d-block text--success  font-weight-semibold text-truncate\"},[_vm._v(\" \"+_vm._s(item._member_org.name)+\" \")]),_c('span',{staticClass:\"text-xs\",class:(((_vm.$const.ORGANIZATION_TYPE_MAP[item._member_org.type] || {}).css) + \"--text\")},[_vm._v(_vm._s((_vm.$const.ORGANIZATION_TYPE_MAP[item._member_org.type] || {}).title || item._member_org.type))])])],1)]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"d-flex align-end justify-end\"},[(_vm.organization.my_level.is_admin)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.$refs.formDialogRef.show(item)}}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"size\":\"18\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiPencilOutline)+\" \")])],1)]}}],null,true)},[_c('span',[_vm._v(\"Edit / View\")])]):_vm._e()],1)]}}])})],1),_c('organization-member-org-form-dialog',{ref:\"formDialogRef\",attrs:{\"organization\":_vm.organization},on:{\"save-successed\":function($event){return _vm.loadRecords(1)},\"delete-successed\":function($event){return _vm.loadRecords(1)}}}),_c('organization-import-member-orgs-dialog',{ref:\"importDialogRef\",attrs:{\"organization\":_vm.organization},on:{\"import-successed\":function($event){return _vm.loadRecords(1)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},model:{value:(_vm.isVisible),callback:function ($$v) {_vm.isVisible=$$v},expression:\"isVisible\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.isEditMode? (\"Edit Member-Org of Organization: #\" + (_vm.record.id)): 'Add Member-Org to Organization'))])]),_c('v-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save.apply(null, arguments)}}},[_c('v-card-text',[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[(_vm.isEditMode)?_c('v-menu',{attrs:{\"bottom\":\"\",\"right\":\"\",\"transition\":\"scale-transition\",\"origin\":\"top left\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-chip',_vm._g({attrs:{\"pill\":\"\"}},on),[_c('v-avatar',{attrs:{\"left\":\"\"}},[_c('v-img',{attrs:{\"src\":_vm.record._member_org.logo || require('@/assets/images/misc/no-photo.png')}})],1),_vm._v(\" \"+_vm._s(_vm.record._member_org.name)+\" \")],1)]}}],null,false,2990596764)},[_c('v-card',{attrs:{\"width\":\"300\"}},[_c('v-list',{attrs:{\"dark\":\"\"}},[_c('v-list-item',[_c('v-list-item-avatar',[_c('v-img',{attrs:{\"src\":_vm.record._member_org.logo || require('@/assets/images/misc/no-photo.png')}})],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.record._member_org.name)+\" \")])],1),_c('v-chip',{attrs:{\"small\":\"\",\"color\":(_vm.$const.ORGANIZATION_TYPE_MAP[_vm.record._member_org.type] || {}).css}},[_vm._v(\" \"+_vm._s((_vm.$const.ORGANIZATION_TYPE_MAP[_vm.record._member_org.type] || {}).title || _vm.record._member_org.type)+\" \")])],1)],1),_c('v-list',{staticClass:\"member-org-info-list\",attrs:{\"dense\":\"\"}},[_c('v-list-item',[_c('v-list-item-content',[_c('v-list-item-subtitle',[_vm._v(\"Website\")]),_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(_vm.record._member_org.website || '[NO WEBSITE]')}})],1)],1),_c('v-list-item',[_c('v-list-item-content',[_c('v-list-item-subtitle',[_vm._v(\"E-Mail\")]),_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(_vm.record._member_org.email || '[NO E-MAIL]')}})],1)],1),_c('v-list-item',[_c('v-list-item-content',[_c('v-list-item-subtitle',[_vm._v(\"Phone\")]),_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(_vm.record._member_org.phone? _vm.$utils.formatPhone(_vm.record._member_org.phone): '[NO PHONE]')}})],1)],1),_c('v-list-item',[_c('v-list-item-content',[_c('v-list-item-subtitle',[_vm._v(\"Country\")]),_c('v-list-item-title',{domProps:{\"textContent\":_vm._s((_vm.$const.COUNTRY_MAP[_vm.record._member_org.country] || {}).name || _vm.record._member_org.country || '[NO COUNTRY]')}})],1)],1),_c('v-list-item',[_c('v-list-item-content',[_c('v-list-item-subtitle',[_vm._v(\"City\")]),_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(_vm.record._member_org.city || '[NO CITY]')}})],1)],1),_c('v-list-item',[_c('v-list-item-content',[_c('v-list-item-subtitle',[_vm._v(\"State\")]),_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(_vm.record._member_org.state || '[NO STATE]')}})],1)],1),_c('v-list-item',[_c('v-list-item-content',[_c('v-list-item-subtitle',[_vm._v(\"Zipcode\")]),_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(_vm.record._member_org.zipcode || '[NO ZIPCODE]')}})],1)],1),_c('v-list-item',[_c('v-list-item-content',[_c('v-list-item-subtitle',[_vm._v(\"Address1\")]),_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(_vm.record._member_org.address || '[NO ADDRESS]')}})],1)],1)],1)],1)],1):_c('v-autocomplete',{attrs:{\"search-input\":_vm.memberOrgSearchInput,\"loading\":_vm.findingMemberOrgs,\"items\":_vm.memberOrgs,\"no-data-text\":\"Enter part of organization name.\",\"chips\":\"\",\"hide-details\":\"\",\"label\":\"Member Org\",\"item-text\":\"name\",\"item-value\":\"id\",\"menu-props\":{contentClass:'list-style'},\"return-object\":\"\"},on:{\"update:searchInput\":function($event){_vm.memberOrgSearchInput=$event},\"update:search-input\":function($event){_vm.memberOrgSearchInput=$event}},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c('v-chip',_vm._b({attrs:{\"input-value\":data.selected,\"close\":\"\"},on:{\"click\":data.select,\"click:close\":function($event){_vm.record._member_org = null}}},'v-chip',data.attrs,false),[_c('v-avatar',{attrs:{\"left\":\"\"}},[_c('v-img',{attrs:{\"src\":data.item.logo || require('@/assets/images/misc/no-photo.png')}})],1),_c('div',{staticClass:\"d-flex flex-column ms-3\"},[_c('span',{staticClass:\"d-block text--success font-weight-semibold text-truncate\"},[_vm._v(\" \"+_vm._s(data.item.name)+\" \")]),_c('span',{staticClass:\"text-xs\"},[_vm._v(_vm._s(data.item.website || '[NO WEBSITE]'))])])],1)]}},{key:\"item\",fn:function(data){return [[_c('v-list-item-avatar',[_c('v-img',{attrs:{\"src\":data.item.logo || require('@/assets/images/misc/no-photo.png')}})],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(data.item.name)+\" \")]),_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(data.item.website || '[NO WEBSITE]')+\" \")])],1)]]}}]),model:{value:(_vm.record._member_org),callback:function ($$v) {_vm.$set(_vm.record, \"_member_org\", $$v)},expression:\"record._member_org\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-menu',{attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({staticClass:\"pt-0 pb-0\",attrs:{\"label\":\"Start Date\",\"prepend-icon\":_vm.icons.mdiCalendar,\"readonly\":\"\"},model:{value:(_vm.record.start_date),callback:function ($$v) {_vm.$set(_vm.record, \"start_date\", $$v)},expression:\"record.start_date\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.startDateMenu),callback:function ($$v) {_vm.startDateMenu=$$v},expression:\"startDateMenu\"}},[_c('v-date-picker',{attrs:{\"color\":\"primary\"},on:{\"input\":function($event){_vm.startDateMenu = false}},model:{value:(_vm.record.start_date),callback:function ($$v) {_vm.$set(_vm.record, \"start_date\", $$v)},expression:\"record.start_date\"}})],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-menu',{attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({staticClass:\"pt-0 pb-0\",attrs:{\"label\":\"Exp Date\",\"prepend-icon\":_vm.icons.mdiCalendar,\"readonly\":\"\"},model:{value:(_vm.record.exp_date),callback:function ($$v) {_vm.$set(_vm.record, \"exp_date\", $$v)},expression:\"record.exp_date\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.expDateMenu),callback:function ($$v) {_vm.expDateMenu=$$v},expression:\"expDateMenu\"}},[_c('v-date-picker',{attrs:{\"color\":\"primary\"},on:{\"input\":function($event){_vm.expDateMenu = false}},model:{value:(_vm.record.exp_date),callback:function ($$v) {_vm.$set(_vm.record, \"exp_date\", $$v)},expression:\"record.exp_date\"}})],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-switch',{attrs:{\"label\":\"Is Active?\",\"color\":\"primary\",\"hide-details\":\"\"},model:{value:(_vm.record.is_active),callback:function ($$v) {_vm.$set(_vm.record, \"is_active\", $$v)},expression:\"record.is_active\"}})],1)],1)],1)],1),(_vm.confirmDelete)?_c('v-card-text',[_c('v-alert',{attrs:{\"type\":\"warning\",\"dense\":\"\",\"text\":\"\",\"icon\":_vm.icons.mdiAlert}},[_c('p',[_vm._v(\"If you delete this member-org, all related records will be deleted! Are you sure?\")]),_c('v-btn',{attrs:{\"color\":\"error\",\"outlined\":\"\",\"small\":\"\",\"loading\":_vm.deleting},on:{\"click\":function($event){return _vm.deleteRecord()}}},[_vm._v(\"Yes, Delete It\")]),_c('v-btn',{staticClass:\"ml-1\",attrs:{\"color\":\"secondary\",\"small\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.confirmDelete=false}}},[_vm._v(\"Cancel\")])],1)],1):_vm._e(),_c('v-card-actions',[(_vm.isEditMode)?[_c('v-btn',{attrs:{\"color\":\"error\",\"outlined\":\"\",\"disabled\":_vm.confirmDelete},on:{\"click\":function($event){_vm.confirmDelete=true}}},[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiDelete))]),_vm._v(\"Delete \")],1)]:_vm._e(),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"secondary\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.hide()}}},[_vm._v(\"Close\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"type\":\"submit\",\"loading\":_vm.saving}},[_vm._v(\"Save\")])],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog\n    v-model=\"isVisible\"\n    persistent\n    max-width=\"600px\"\n  >\n    <v-card>\n      <v-card-title>\n        <span class=\"headline\">{{isEditMode? `Edit Member-Org of Organization: #${record.id}`: 'Add Member-Org to Organization'}}</span>\n      </v-card-title>\n      <v-form @submit.prevent=\"save\">\n        <v-card-text>\n          <v-container>\n            <v-row>\n              <v-col cols=\"12\">\n                <v-menu\n                  v-if=\"isEditMode\"\n                  bottom\n                  right\n                  transition=\"scale-transition\"\n                  origin=\"top left\"\n                >\n                  <template v-slot:activator=\"{ on }\">\n                    <v-chip pill v-on=\"on\">\n                      <v-avatar left>\n                        <v-img :src=\"record._member_org.logo || require('@/assets/images/misc/no-photo.png')\"></v-img>\n                      </v-avatar>\n                      {{ record._member_org.name }}\n                    </v-chip>\n                  </template>\n                  <v-card width=\"300\">\n                    <v-list dark>\n                      <v-list-item>\n                        <v-list-item-avatar>\n                          <v-img :src=\"record._member_org.logo || require('@/assets/images/misc/no-photo.png')\"></v-img>\n                        </v-list-item-avatar>\n                        <v-list-item-content>\n                          <v-list-item-title>\n                            {{ record._member_org.name }}\n                          </v-list-item-title>\n                        </v-list-item-content>\n                        <v-chip small :color=\"($const.ORGANIZATION_TYPE_MAP[record._member_org.type] || {}).css\">\n                          {{($const.ORGANIZATION_TYPE_MAP[record._member_org.type] || {}).title || record._member_org.type}}\n                        </v-chip>\n                      </v-list-item>\n                    </v-list>\n                    <v-list dense class=\"member-org-info-list\">\n                      <v-list-item>\n                        <v-list-item-content>\n                          <v-list-item-subtitle>Website</v-list-item-subtitle>\n                          <v-list-item-title v-text=\"record._member_org.website || '[NO WEBSITE]'\"></v-list-item-title>\n                        </v-list-item-content>\n                      </v-list-item>\n                      <v-list-item>\n                        <v-list-item-content>\n                          <v-list-item-subtitle>E-Mail</v-list-item-subtitle>\n                          <v-list-item-title v-text=\"record._member_org.email || '[NO E-MAIL]'\"></v-list-item-title>\n                        </v-list-item-content>\n                      </v-list-item>\n                      <v-list-item>\n                        <v-list-item-content>\n                          <v-list-item-subtitle>Phone</v-list-item-subtitle>\n                          <v-list-item-title v-text=\"record._member_org.phone? $utils.formatPhone(record._member_org.phone): '[NO PHONE]'\"></v-list-item-title>\n                        </v-list-item-content>\n                      </v-list-item>\n                      <v-list-item>\n                        <v-list-item-content>\n                          <v-list-item-subtitle>Country</v-list-item-subtitle>\n                          <v-list-item-title v-text=\"($const.COUNTRY_MAP[record._member_org.country] || {}).name || record._member_org.country || '[NO COUNTRY]'\"></v-list-item-title>\n                        </v-list-item-content>\n                      </v-list-item>\n                      <v-list-item>\n                        <v-list-item-content>\n                          <v-list-item-subtitle>City</v-list-item-subtitle>\n                          <v-list-item-title v-text=\"record._member_org.city || '[NO CITY]'\"></v-list-item-title>\n                        </v-list-item-content>\n                      </v-list-item>\n                      <v-list-item>\n                        <v-list-item-content>\n                          <v-list-item-subtitle>State</v-list-item-subtitle>\n                          <v-list-item-title v-text=\"record._member_org.state || '[NO STATE]'\"></v-list-item-title>\n                        </v-list-item-content>\n                      </v-list-item>\n                      <v-list-item>\n                        <v-list-item-content>\n                          <v-list-item-subtitle>Zipcode</v-list-item-subtitle>\n                          <v-list-item-title v-text=\"record._member_org.zipcode || '[NO ZIPCODE]'\"></v-list-item-title>\n                        </v-list-item-content>\n                      </v-list-item>\n                      <v-list-item>\n                        <v-list-item-content>\n                          <v-list-item-subtitle>Address1</v-list-item-subtitle>\n                          <v-list-item-title v-text=\"record._member_org.address || '[NO ADDRESS]'\"></v-list-item-title>\n                        </v-list-item-content>\n                      </v-list-item>\n                    </v-list>\n                  </v-card>\n                </v-menu>\n                <v-autocomplete\n                    v-else\n                    v-model=\"record._member_org\"\n                    :search-input.sync=\"memberOrgSearchInput\"\n                    :loading=\"findingMemberOrgs\"\n                    :items=\"memberOrgs\"\n                    no-data-text=\"Enter part of organization name.\"\n                    chips\n                    hide-details\n                    label=\"Member Org\"\n                    item-text=\"name\"\n                    item-value=\"id\"\n                    :menu-props=\"{contentClass:'list-style'}\"\n                    return-object\n                >\n                  <template #selection=\"data\">\n                    <v-chip\n                        v-bind=\"data.attrs\"\n                        :input-value=\"data.selected\"\n                        close\n                        @click=\"data.select\"\n                        @click:close=\"record._member_org = null\"\n                    >\n                      <v-avatar left>\n                        <v-img :src=\"data.item.logo || require('@/assets/images/misc/no-photo.png')\"></v-img>\n                      </v-avatar>\n                      <div class=\"d-flex flex-column ms-3\">\n                        <span class=\"d-block text--success font-weight-semibold text-truncate\">\n                          {{ data.item.name }}\n                        </span>\n                        <span class=\"text-xs\">{{ data.item.website || '[NO WEBSITE]' }}</span>\n                      </div>\n                    </v-chip>\n                  </template>\n\n                  <template #item=\"data\">\n                    <template>\n                      <v-list-item-avatar>\n                        <v-img :src=\"data.item.logo || require('@/assets/images/misc/no-photo.png')\"></v-img>\n                      </v-list-item-avatar>\n\n                      <v-list-item-content>\n                        <v-list-item-title>\n                          {{ data.item.name }}\n                        </v-list-item-title>\n                        <v-list-item-subtitle>\n                          {{ data.item.website || '[NO WEBSITE]' }}\n                        </v-list-item-subtitle>\n                      </v-list-item-content>\n                    </template>\n                  </template>\n                </v-autocomplete>\n              </v-col>\n              <v-col cols=\"12\" md=\"6\">\n                <v-menu v-model=\"startDateMenu\" :close-on-content-click=\"false\"\n                    :nudge-right=\"40\" transition=\"scale-transition\" offset-y min-width=\"auto\">\n                  <template v-slot:activator=\"{ on, attrs }\">\n                    <v-text-field class=\"pt-0 pb-0\" v-model=\"record.start_date\" label=\"Start Date\"\n                                  :prepend-icon=\"icons.mdiCalendar\" v-bind=\"attrs\" v-on=\"on\" readonly>\n                    </v-text-field>\n                  </template>\n                  <v-date-picker v-model=\"record.start_date\" color=\"primary\" @input=\"startDateMenu = false\">\n                  </v-date-picker>\n                </v-menu>\n              </v-col>\n              <v-col cols=\"12\" md=\"6\">\n                <v-menu v-model=\"expDateMenu\" :close-on-content-click=\"false\"\n                    :nudge-right=\"40\" transition=\"scale-transition\" offset-y min-width=\"auto\">\n                  <template v-slot:activator=\"{ on, attrs }\">\n                    <v-text-field class=\"pt-0 pb-0\" v-model=\"record.exp_date\" label=\"Exp Date\"\n                                  :prepend-icon=\"icons.mdiCalendar\" v-bind=\"attrs\" v-on=\"on\" readonly>\n                    </v-text-field>\n                  </template>\n                  <v-date-picker v-model=\"record.exp_date\" color=\"primary\" @input=\"expDateMenu = false\">\n                  </v-date-picker>\n                </v-menu>\n              </v-col>\n              <v-col cols=\"12\" md=\"6\">\n                <v-switch v-model=\"record.is_active\" label=\"Is Active?\" color=\"primary\" hide-details></v-switch>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-card-text>\n        <v-card-text v-if=\"confirmDelete\">\n          <v-alert type=\"warning\" dense text :icon=\"icons.mdiAlert\">\n            <p>If you delete this member-org, all related records will be deleted! Are you sure?</p>\n            <v-btn color=\"error\" outlined small :loading=\"deleting\" @click=\"deleteRecord()\">Yes, Delete It</v-btn>\n            <v-btn color=\"secondary\" @click=\"confirmDelete=false\" small text class=\"ml-1\">Cancel</v-btn>\n          </v-alert>\n        </v-card-text>\n        <v-card-actions>\n          <template v-if=\"isEditMode\" >\n            <v-btn color=\"error\" outlined @click=\"confirmDelete=true\" :disabled=\"confirmDelete\">\n              <v-icon>{{icons.mdiDelete}}</v-icon>Delete\n            </v-btn>\n          </template>\n          <v-spacer></v-spacer>\n          <v-btn color=\"secondary\" outlined @click=\"hide()\">Close</v-btn>\n          <v-btn color=\"primary\" type=\"submit\" :loading=\"saving\">Save</v-btn>\n        </v-card-actions>\n      </v-form>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport {\n  mdiPencilOutline,\n  mdiPlus,\n  mdiDelete,\n  mdiAlert,\n  mdiCalendar,\n  mdiAccountCheck,\n  mdiAccountCancel,\n} from '@mdi/js'\nimport _ from 'lodash';\nimport {ref, computed, watch} from '@vue/composition-api'\nimport axios from \"@/axios\";\nimport {notifyDefaultServerError, notifySuccess} from \"@/composables/utils\";\n\nexport default {\n  props: {\n    organization: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props, context) {\n    const isVisible = ref(false);\n    const record = ref({});\n    const saving = ref(false);\n    const deleting = ref(false);\n    const confirmDelete = ref(false);\n    const findingMemberOrgs = ref(false);\n    const startDateMenu = ref(false);\n    const expDateMenu = ref(false);\n    const memberOrgs = ref([]);\n    const memberOrgSearchInput = ref('');\n\n    watch(memberOrgSearchInput, () => {\n      findMemberOrgsDebounce(memberOrgSearchInput.value);\n    });\n\n    const isEditMode = computed(() => !!record.value.id);\n\n    const deleteRecord = () => {\n      deleting.value = true;\n      axios.delete(`cycling_org/organization/${props.organization.id}/member_orgs/${record.value.id}`).then((response) => {\n        deleting.value = false;\n        notifySuccess(`Member-Org deleted.`);\n        hide();\n        context.emit('delete-successed', record.value);\n      }, (error) => {\n        deleting.value = false;\n        notifyDefaultServerError(error, true);\n      });\n    };\n\n    const save = () => {\n      if (!record.value._member_org) {\n        return;\n      }\n      var data = Object.assign({}, record.value);\n      data.member_org = data._member_org.id;\n      delete data._member_org;\n      saving.value = true;\n      var url = `cycling_org/organization/${props.organization.id}/member_orgs`,\n          httpMethod = axios.post,\n          successMsg = \"Member-Org added successfully.\";\n      if (isEditMode.value) {\n        url = `${url}/${record.value.id}`;\n        httpMethod = axios.patch;\n        successMsg = \"Member-Org updated successfully.\"\n      }\n      httpMethod(url, data).then((response) => {\n        saving.value = false;\n        notifySuccess(successMsg);\n        hide();\n        context.emit('save-successed', response.data);\n      }, (error) => {\n        saving.value = false;\n        notifyDefaultServerError(error, true);\n      });\n    };\n\n    const findMemberOrgs = (search) => {\n      if (findingMemberOrgs.value || (search || '').length < 3) {\n        memberOrgs.value = [];\n        return;\n      }\n      findingMemberOrgs.value = true;\n      axios.get(\"cycling_org/organization/find\", {params: {search: search}}).then((response) => {\n        findingMemberOrgs.value = false;\n        memberOrgs.value = response.data.results;\n      }, (error) => {\n        findingMemberOrgs.value = false;\n        notifyDefaultServerError(error, true)\n      });\n    };\n\n    const findMemberOrgsDebounce = _.debounce(findMemberOrgs, 500);\n\n    const hide = () => {\n      isVisible.value = false;\n    };\n    const show = (r) => {\n      record.value = Object.assign({is_active: true}, r);\n      confirmDelete.value = false;\n      deleting.value = false;\n      saving.value = false;\n      isVisible.value = true;\n    };\n\n    return {\n      isVisible,\n      confirmDelete,\n      isEditMode,\n      record,\n      saving,\n      deleting,\n      deleteRecord,\n      hide,\n      show,\n      save,\n      findingMemberOrgs,\n      findMemberOrgs,\n      findMemberOrgsDebounce,\n      memberOrgs,\n      memberOrgSearchInput,\n      startDateMenu,\n      expDateMenu,\n      icons: {\n        mdiPlus,\n        mdiPencilOutline,\n        mdiDelete,\n        mdiAlert,\n        mdiCalendar,\n        mdiAccountCheck,\n        mdiAccountCancel,\n      },\n    }\n  },\n}\n</script>\n<style scoped>\n.member-org-info-list .v-list-item {\n  margin-bottom: 15px;\n  margin-top: 15px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationMemberOrgFormDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationMemberOrgFormDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrganizationMemberOrgFormDialog.vue?vue&type=template&id=58cbdf7c&scoped=true&\"\nimport script from \"./OrganizationMemberOrgFormDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationMemberOrgFormDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrganizationMemberOrgFormDialog.vue?vue&type=style&index=0&id=58cbdf7c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"58cbdf7c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VAutocomplete,VAvatar,VBtn,VCard,VCardActions,VCardText,VCardTitle,VChip,VCol,VContainer,VDatePicker,VDialog,VForm,VIcon,VImg,VList,VListItem,VListItemAvatar,VListItemContent,VListItemSubtitle,VListItemTitle,VMenu,VRow,VSpacer,VSwitch,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"width\":\"500\"},model:{value:(_vm.isVisible),callback:function ($$v) {_vm.isVisible=$$v},expression:\"isVisible\"}},[_c('v-card',{staticClass:\"org-import-member-orgs-card\"},[_c('v-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.importCsv()}}},[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\" Import Member-Orgs From CSV \")]),_c('v-card-text',[_c('v-file-input',{ref:\"csvFileRef\",attrs:{\"show-size\":\"\",\"prepend-icon\":_vm.icons.mdiFileExcel,\"label\":\"Choose a CSV file\",\"hide-details\":\"\",\"accept\":\".csv\"},on:{\"change\":_vm.onChangeFile}})],1),_c('v-card-text',[_c('app-card-actions',{ref:\"csvColsCardRef\",attrs:{\"action-collapse\":\"\",\"flat\":\"\",\"outlined\":\"\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('v-icon',{staticClass:\"mr-2\"},[_vm._v(_vm._s(_vm.icons.mdiInformationOutline))]),_vm._v(\" CSV Columns \")]},proxy:true}])},[_c('v-card-text',[_vm._v(\" Your csv file should contains this required columns: \"),_c('ul',[_c('li',[_vm._v(\"name\")]),_c('li',[_vm._v(\"type\")])]),_vm._v(\" and this optional columns \"),_c('ul',[_c('li',[_vm._v(\"website\")]),_c('li',[_vm._v(\"email\")]),_c('li',[_vm._v(\"phone\")]),_c('li',[_vm._v(\"address\")]),_c('li',[_vm._v(\"country\")]),_c('li',[_vm._v(\"city\")]),_c('li',[_vm._v(\"state\")]),_c('li',[_vm._v(\"zipcode\")]),_c('li',[_vm._v(\"about\")]),_c('li',[_vm._v(\"start_date\")]),_c('li',[_vm._v(\"exp_date\")])]),_vm._v(\" And any extra columns based your org config. \")])],1)],1),(_vm.failedRecords && _vm.failedRecords.length)?_c('v-card-text',[_c('app-card-actions',{attrs:{\"action-collapse\":\"\",\"flat\":\"\",\"outlined\":\"\",\"color\":\"warning\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiAlertOutline))]),_vm._v(\" Failed Records \")]},proxy:true}],null,false,4268727094)},[_c('pre',{staticClass:\"failed-records\"},[_vm._v(_vm._s(JSON.stringify(_vm.failedRecords, null, 2)))])])],1):_vm._e(),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"secondary\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.hide()}}},[_vm._v(\"Close\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"type\":\"submit\",\"loading\":_vm.importing,\"disabled\":!_vm.csvFile}},[_vm._v(\"Import\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-model=\"isVisible\" persistent width=\"500\">\n    <v-card class=\"org-import-member-orgs-card\">\n      <v-form @submit.prevent=\"importCsv()\">\n        <v-card-title class=\"headline\">\n          Import Member-Orgs From CSV\n        </v-card-title>\n        <v-card-text>\n          <v-file-input show-size :prepend-icon=\"icons.mdiFileExcel\" label=\"Choose a CSV file\" hide-details\n                        @change=\"onChangeFile\"\n                        accept=\".csv\" ref=\"csvFileRef\"></v-file-input>\n        </v-card-text>\n        <v-card-text>\n          <app-card-actions action-collapse flat outlined ref=\"csvColsCardRef\">\n            <template #title>\n              <v-icon class=\"mr-2\">{{icons.mdiInformationOutline}}</v-icon> CSV Columns\n            </template>\n            <v-card-text>\n              Your csv file should contains this required columns:\n              <ul>\n                <li>name</li>\n                <li>type</li>\n              </ul>\n              and this optional columns\n              <ul>\n                <li>website</li>\n                <li>email</li>\n                <li>phone</li>\n                <li>address</li>\n                <li>country</li>\n                <li>city</li>\n                <li>state</li>\n                <li>zipcode</li>\n                <li>about</li>\n                <li>start_date</li>\n                <li>exp_date</li>\n              </ul>\n              And any extra columns based your org config.\n\n            </v-card-text>\n          </app-card-actions>\n\n        </v-card-text>\n        <v-card-text v-if=\"failedRecords && failedRecords.length\">\n          <app-card-actions action-collapse flat outlined color=\"warning\">\n            <template #title>\n              <v-icon>{{icons.mdiAlertOutline}}</v-icon> Failed Records\n            </template>\n            <pre class=\"failed-records\">{{JSON.stringify(failedRecords, null, 2)}}</pre>\n          </app-card-actions>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"secondary\" outlined @click=\"hide()\">Close</v-btn>\n          <v-btn color=\"primary\" type=\"submit\" :loading=\"importing\" :disabled=\"!csvFile\">Import</v-btn>\n        </v-card-actions>\n\n      </v-form>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport {mdiFileExcel, mdiInformationOutline, mdiAlertOutline} from '@mdi/js';\nimport { ref } from '@vue/composition-api';\nimport axios from \"@/axios\";\nimport {notifyDefaultServerError, notifyInfo} from \"@/composables/utils\";\nimport AppCardActions from \"@core/components/app-card-actions/AppCardActions\";\n\nexport default {\n  components: {AppCardActions},\n  props: {\n    organization: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props, context) {\n    const isVisible = ref(false);\n    const importing = ref(false);\n    const csvFile = ref(null);\n    const csvFileRef = ref(null);\n    const csvColsCardRef = ref(null);\n    const failedRecords = ref([]);\n\n    const hide = () => {\n      isVisible.value = false;\n    };\n\n    const show = (type, _to) => {\n      csvFile.value = null;\n      importing.value = false;\n      failedRecords.value = [];\n      isVisible.value = true;\n    };\n\n    const onChangeFile = (file) => {\n      csvFile.value = file || null;\n    };\n\n    const importCsv = () => {\n      importing.value = true;\n      var formData = new FormData(),\n          orgId = props.organization.id;\n      formData.append('file', csvFile.value);\n      axios.post( `cycling_org/organization/${orgId}/member_orgs/import_from_csv`,\n          formData, {headers: {'Content-Type': 'multipart/form-data'}}\n      ).then((response) => {\n        importing.value = false;\n        context.emit('import-successed');\n        notifyInfo(`Members imported. ${response.data.successed} successed. ${response.data.failed.length} failed.`);\n        failedRecords.value = response.data.failed;\n        csvFileRef.value.clearableCallback();\n        if (failedRecords.value && failedRecords.value.length && !csvColsCardRef.value.isContentCollapsed) {\n          csvColsCardRef.value.triggerCollapse();\n        }\n      }, (error) => {\n        importing.value = false;\n        notifyDefaultServerError(error, true);\n      });\n    };\n    \n    return {\n      isVisible,\n      importing,\n      csvFile,\n      csvFileRef,\n      csvColsCardRef,\n      show,\n      hide,\n      importCsv,\n      onChangeFile,\n      failedRecords,\n      icons: {\n        mdiFileExcel,\n        mdiInformationOutline,\n        mdiAlertOutline\n      }\n    }\n  },\n}\n</script>\n\n<style>\n.org-import-member-orgs-card .v-card .v-card__title {\n  padding: 10px !important;\n}\n.org-import-member-orgs-card pre.failed-records {\n  max-height: 300px;\n  overflow: auto;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationImportMemberOrgsDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationImportMemberOrgsDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrganizationImportMemberOrgsDialog.vue?vue&type=template&id=3fd2f70e&\"\nimport script from \"./OrganizationImportMemberOrgsDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationImportMemberOrgsDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrganizationImportMemberOrgsDialog.vue?vue&type=style&index=0&id=3fd2f70e&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VFileInput,VForm,VIcon,VSpacer})\n","<template>\n  <div class=\"member-org-profile-organization-tab\">\n    <v-card>\n      <v-card-text class=\"d-flex align-center flex-wrap pb-0\">\n        <div class=\"d-flex align-center pb-5\">\n          <v-btn fab x-small color=\"info\" class=\"me-1\" @click=\"loadRecords(1)\">\n            <v-icon>{{icons.mdiRefresh}}</v-icon>\n          </v-btn>\n          <v-tooltip bottom v-if=\"organization.my_level.is_admin\">\n            <template #activator=\"{ on, attrs }\">\n              <v-btn v-bind=\"attrs\" v-on=\"on\" small color=\"primary\" class=\"me-1\" @click=\"$refs.formDialogRef.show()\">\n                <v-icon size=\"18\" class=\"me-1\">\n                  {{ icons.mdiHomePlus }}\n                </v-icon>\n                <span>Member Org</span>\n              </v-btn>\n            </template>\n            <span>Add A Member-Org To Organization</span>\n          </v-tooltip>\n          <v-tooltip bottom v-if=\"organization.my_level.is_admin\">\n            <template #activator=\"{ on, attrs }\">\n              <v-btn v-bind=\"attrs\" v-on=\"on\" small outlined color=\"info\" class=\"me-1\" @click=\"$refs.importDialogRef.show()\">\n                <v-icon size=\"18\" class=\"me-1\">\n                  {{ icons.mdiFileExcelOutline }}\n                </v-icon>\n                <span>Import</span>\n              </v-btn>\n            </template>\n            <span>Import member orgs from CSV file</span>\n          </v-tooltip>\n        </div>\n\n        <v-spacer></v-spacer>\n\n        <div class=\"d-flex align-center pb-5\">\n          <v-text-field\n              :value=\"tableFiltering.search\"\n              @change=\"value => $set(tableFiltering, 'search', value)\"\n              @click:clear=\"$set(tableFiltering, 'search', null)\"\n              dense clearable hide-details\n              placeholder=\"Search ...\" class=\"me-3 organization-search\"\n          ></v-text-field>\n\n          <v-switch hide-details class=\"mt-0\" v-model=\"tableFiltering.is_active\">\n            <template #label>\n              <span class=\"text-sm ms-2\">Only Active?</span>\n            </template>\n          </v-switch>\n        </div>\n      </v-card-text>\n\n      <v-data-table\n        :headers=\"tableColumns\"\n        :items=\"records\"\n        :options.sync=\"tableOptions\"\n        @update:options=\"loadRecords()\"\n        :server-items-length=\"pagination.total\"\n        :loading=\"loading\"\n        class=\"text-no-wrap\"\n        :item-class=\"tableRowClass\"\n        :footer-props=\"{'items-per-page-options': $const.DEFAULT_TABLE_PER_PAGE_OPTIONS, 'show-current-page': true, 'show-first-last-page': true}\"\n      >\n        <template #item.datetime=\"{item}\">\n          <span class=\"pr-1\">{{$utils.formatDate(item.datetime, 'M/D/YY')}}</span>\n          <span class=\"text-caption\">{{$utils.formatDate(item.datetime, 'HH:mm')}}</span>\n        </template>\n        <template #item.start_date=\"{item}\">\n          <v-tooltip bottom v-if=\"item.start_date\">\n            <template #activator=\"{ on, attrs }\">\n              <span v-on=\"on\">{{$utils.formatDate(item.start_date, 'M/D/YY', 'N/A')}}</span>\n            </template>\n            <span>{{$utils.formatDate(item.start_date, 'MMM D, YYYY', 'N/A')}}</span>\n          </v-tooltip>\n          <span v-else>N/A</span>\n          -\n          <v-tooltip bottom v-if=\"item.exp_date\">\n            <template #activator=\"{ on, attrs }\">\n              <span v-on=\"on\">{{$utils.formatDate(item.exp_date, 'M/D/YY', 'N/A')}}</span>\n            </template>\n            <span>{{$utils.formatDate(item.exp_date, 'MMM D, YYYY', 'N/A')}}</span>\n          </v-tooltip>\n          <span v-else>N/A</span>\n        </template>\n        <template #item.status=\"{item}\">\n          <v-tooltip bottom v-if=\"item.status == 'accept'\" color=\"success\">\n            <template #activator=\"{ on, attrs }\">\n              <v-icon color=\"success\" v-on=\"on\">{{icons.mdiCheckCircleOutline}}</v-icon>\n            </template>\n            <span>Accepted</span>\n          </v-tooltip>\n          <v-tooltip bottom v-else-if=\"item.status == 'reject'\" color=\"error\">\n            <template #activator=\"{ on, attrs }\">\n              <v-icon color=\"error\" v-on=\"on\">{{icons.mdiCloseCircleOutline}}</v-icon>\n            </template>\n            <span>Rejected</span>\n          </v-tooltip>\n          <v-tooltip bottom v-else-if=\"item.status == 'waiting'\" color=\"warning\">\n            <template #activator=\"{ on, attrs }\">\n              <v-icon color=\"warning\" v-on=\"on\">{{icons.mdiSyncCircle}}</v-icon>\n            </template>\n            <span>Waiting for member review</span>\n          </v-tooltip>\n          <span v-else>{{item.status || '-'}}</span>\n        </template>\n        <template #item.member_org=\"{item}\">\n          <a is=\"router-link\" :to=\"{name: $rns.PUBLIC_ORG_PROFILE, params:{record_id: item.member_org}}\"\n             class=\"d-flex align-center title-link\" @click=\"$refs.formDialogRef.show(item)\">\n            <v-avatar color=\"success\" class=\"v-avatar-light-bg success--text\" size=\"30\">\n              <v-img v-if=\"item._member_org.logo\" :src=\"item._member_org.logo\"></v-img>\n              <span v-else class=\"font-weight-medium\">\n                {{ avatarText(item._member_org.name) }}\n              </span>\n            </v-avatar>\n\n            <div class=\"d-flex flex-column ms-3\">\n              <span class=\"d-block text--success  font-weight-semibold text-truncate\">\n                {{ item._member_org.name }}\n              </span>\n              <span class=\"text-xs\" :class=\"`${($const.ORGANIZATION_TYPE_MAP[item._member_org.type] || {}).css}--text`\">{{($const.ORGANIZATION_TYPE_MAP[item._member_org.type] || {}).title || item._member_org.type}}</span>\n            </div>\n          </a>\n        </template>\n\n        <!-- actions -->\n        <template #item.actions=\"{item}\">\n          <div class=\"d-flex align-end justify-end\">\n            <v-tooltip bottom v-if=\"organization.my_level.is_admin\">\n              <template #activator=\"{ on, attrs }\">\n                <v-btn icon small v-bind=\"attrs\" v-on=\"on\" @click=\"$refs.formDialogRef.show(item)\">\n                  <v-icon size=\"18\">\n                    {{ icons.mdiPencilOutline }}\n                  </v-icon>\n                </v-btn>\n              </template>\n              <span>Edit / View</span>\n            </v-tooltip>\n\n          </div>\n        </template>\n\n      </v-data-table>\n    </v-card>\n    <organization-member-org-form-dialog ref=\"formDialogRef\" :organization=\"organization\"\n                                         @save-successed=\"loadRecords(1)\" @delete-successed=\"loadRecords(1)\">\n    </organization-member-org-form-dialog>\n    <organization-import-member-orgs-dialog ref=\"importDialogRef\" :organization=\"organization\"\n                                            @import-successed=\"loadRecords(1)\">\n    </organization-import-member-orgs-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  mdiHomePlus,\n  mdiPencilOutline,\n  mdiEyeOutline,\n  mdiAccountGroupOutline,\n  mdiAccountMultipleOutline,\n  mdiAccountCheck,\n  mdiAccountCancel,\n  mdiAccountCheckOutline,\n  mdiFileExcelOutline,\n  mdiSyncCircle,\n  mdiCheckCircleOutline,\n  mdiCloseCircleOutline,\n  mdiRefresh, mdiAccountPlusOutline,\n} from '@mdi/js'\n\nimport { ref, reactive, watch, onMounted } from '@vue/composition-api'\nimport store from '@/store'\nimport axios from \"@/axios\";\nimport {notifyDefaultServerError, refineVTableOptions} from \"@/composables/utils\";\nimport {avatarText} from \"@core/utils/filter\";\nimport OrganizationMemberOrgFormDialog from \"@/views/dashboard/organizationProfile/OrganizationMemberOrgFormDialog\";\nimport OrganizationImportMemberOrgsDialog\n  from \"@/views/dashboard/organizationProfile/OrganizationImportMemberOrgsDialog\";\n\nexport default {\n  components: {\n    OrganizationImportMemberOrgsDialog,\n    OrganizationMemberOrgFormDialog\n  },\n  props: {\n    organization: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props) {\n    const records = ref([]);\n    const pagination = ref({total: 0});\n    const loading = ref(false);\n    const tableOptions = ref({});\n    const tableFiltering = ref({is_active: true});\n    const tableColumns = [\n      {text: 'MEMBER-ORG', value: 'member_org'},\n      {text: 'START/EXP DATE', value: 'start_date'},\n      {text: 'CREATED AT', value: 'datetime'},\n      {text: 'STATUS', value: 'status'},\n    ];\n    if (props.organization.my_level.is_admin) {\n      tableColumns.push({text: 'ACTIONS', value: 'actions', align: 'end', sortable: false,})\n    }\n\n    const tableRowClass = (item) => {\n      return `member-org-row${!item.is_active? ' inactive': ''}`\n    };\n\n    const loadRecords = (page) => {\n      if (page) {\n        tableOptions.value.page = page;\n      }\n      const params = Object.assign({}, tableFiltering.value, refineVTableOptions(tableOptions.value));\n      if (!params.is_active) {\n        delete params.is_active;\n      }\n      loading.value = true;\n      axios.get(`cycling_org/organization/${props.organization.id}/member_orgs`, {params: params}).then((response) => {\n        loading.value = false;\n        records.value = response.data.results;\n        pagination.value = response.data.pagination;\n      }, (error) => {\n        loading.value = false;\n        notifyDefaultServerError(error, true)\n      });\n\n    };\n\n    watch(() => tableFiltering, (currentValue, oldValue) => {\n        loadRecords(1);\n      },\n      { deep: true }\n    );\n\n    return {\n      records,\n      tableColumns,\n      tableOptions,\n      tableFiltering,\n      loading,\n      pagination,\n      avatarText,\n      loadRecords,\n      tableRowClass,\n\n      icons: {\n        mdiHomePlus,\n        mdiPencilOutline,\n        mdiEyeOutline,\n        mdiAccountGroupOutline,\n        mdiAccountMultipleOutline,\n        mdiAccountCheck,\n        mdiAccountCheckOutline,\n        mdiFileExcelOutline,\n        mdiSyncCircle,\n        mdiCheckCircleOutline,\n        mdiCloseCircleOutline,\n        mdiAccountCancel,\n        mdiRefresh,\n      },\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.member-org-profile-organization-tab {\n  a.title-link {\n    color: inherit;\n    text-decoration: none;\n  }\n  .organization-search {\n    max-width: 10.625rem;\n  }\n  table tr.member-org-row.inactive td:not(:last-child) {\n    opacity: 0.5;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationMemberOrgsTab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationMemberOrgsTab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrganizationMemberOrgsTab.vue?vue&type=template&id=0151bdec&\"\nimport script from \"./OrganizationMemberOrgsTab.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationMemberOrgsTab.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrganizationMemberOrgsTab.vue?vue&type=style&index=0&id=0151bdec&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VAvatar,VBtn,VCard,VCardText,VDataTable,VIcon,VImg,VSpacer,VSwitch,VTextField,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"organization-member-fields-tab\"},[_c('v-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save()}},model:{value:(_vm.formValid),callback:function ($$v) {_vm.formValid=$$v},expression:\"formValid\"}},[_c('v-card',{staticClass:\"mb-1\"},[_c('v-card-text',{staticClass:\"d-flex align-center flex-wrap pb-0\"},[_c('div',{staticClass:\"d-flex align-center pb-5\"},[_c('h2',[_vm._v(\"Membership Pricing Plans\")]),_c('span',{staticClass:\"caption ml-1\"},[_vm._v(\"define plans of membership\")])])]),_c('v-simple-table',{scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{},[_vm._v(\"#\")]),_c('th',{},[_vm._v(\"Period (*)\")]),_c('th',{},[_vm._v(\"Price (*)\")]),_c('th',{},[_vm._v(\"Title\")]),_c('th',{staticClass:\"plans-actions text-center\"},[_vm._v(\"Actions\")])])]),_c('tbody',[_vm._l((_vm.membershipPlans),function(field,idx){return _c('tr',{key:idx},[_c('td',{},[_c('span',{staticClass:\"font-weight-semibold\"},[_vm._v(_vm._s(idx + 1))])]),_c('td',{},[_c('v-select',{attrs:{\"items\":_vm.$const.ORGANIZATION_MEMBERSHIP_PLAN_OPTIONS,\"single-line\":\"\",\"hide-details\":\"\",\"dense\":\"\",\"item-text\":\"title\",\"item-value\":\"value\",\"rules\":[_vm.rules.required]},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.title)+\" \"),_c('small',{staticClass:\"caption ml-1\"},[_vm._v(\"(\"+_vm._s(data.item.days)+\" days)\")])]}},{key:\"item\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.title)+\" \"),_c('small',{staticClass:\"caption ml-1\"},[_vm._v(\"(\"+_vm._s(data.item.days)+\" days)\")])]}}],null,true),model:{value:(field.period),callback:function ($$v) {_vm.$set(field, \"period\", $$v)},expression:\"field.period\"}})],1),_c('td',{},[_c('v-text-field',{attrs:{\"type\":\"number\",\"placeholder\":\"Price\",\"prefix\":\"$\",\"min\":\"0\",\"single-line\":\"\",\"hide-details\":\"\",\"dense\":\"\",\"validate-on-blur\":\"\"},model:{value:(field.price),callback:function ($$v) {_vm.$set(field, \"price\", $$v)},expression:\"field.price\"}})],1),_c('td',{},[_c('v-text-field',{attrs:{\"placeholder\":\"Title (optional)\",\"single-line\":\"\",\"hide-details\":\"\",\"dense\":\"\",\"validate-on-blur\":\"\"},model:{value:(field.title),callback:function ($$v) {_vm.$set(field, \"title\", $$v)},expression:\"field.title\"}})],1),_c('td',{staticClass:\"plans-actions text-center\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-1\",attrs:{\"icon\":\"\",\"tabindex\":\"-1\",\"x-small\":\"\",\"color\":\"success\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.insertAfter(_vm.membershipPlans, idx, {})}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiPlus))])],1)]}}],null,true)},[_c('span',[_vm._v(\"Insert a row after this\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-1\",attrs:{\"icon\":\"\",\"tabindex\":\"-1\",\"x-small\":\"\",\"color\":\"error\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.membershipPlans.splice(idx, 1)}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiDelete))])],1)]}}],null,true)},[_c('span',[_vm._v(\"Remove\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"tabindex\":\"-1\",\"x-small\":\"\",\"color\":\"secondary\",\"outlined\":\"\",\"disabled\":idx == 0},on:{\"click\":function($event){return _vm.moveUp(_vm.membershipPlans, idx)}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiArrowUpThin))])],1)]}}],null,true)},[_c('span',[_vm._v(\"Move up\")])])],1)])}),(_vm.membershipPlans.length == 0)?_c('tr',[_c('td',{staticClass:\"text-center\",attrs:{\"colspan\":\"5\"}},[_vm._v(\" No Plan Defined! \"),_c('v-btn',{attrs:{\"plain\":\"\",\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.insertAfter(_vm.membershipPlans, undefined, {})}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(_vm._s(_vm.icons.mdiPlusCircleOutline))]),_vm._v(\" Add New \")],1)],1)]):_vm._e()],2)]},proxy:true}])})],1),_c('v-card',[_c('v-card-text',{staticClass:\"d-flex align-center flex-wrap pb-0\"},[_c('div',{staticClass:\"d-flex align-center pb-5\"},[_c('h2',[_vm._v(\"Member Fields\")]),_c('span',{staticClass:\"caption ml-1\"},[_vm._v(\"define extra fields of organization members\")])])]),_c('v-simple-table',{scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{},[_vm._v(\"#\")]),_c('th',{},[_vm._v(\"Title (*)\")]),_c('th',{},[_vm._v(\"Required?\")]),_c('th',{},[_vm._v(\"Private?\")]),_c('th',{},[_vm._v(\"Type (*)\")]),_c('th',{staticClass:\"fields-actions text-center\"},[_vm._v(\"Actions\")])])]),_c('tbody',[_vm._l((_vm.schema),function(field,idx){return _c('tr',{key:idx},[_c('td',{},[_c('span',{staticClass:\"font-weight-semibold\"},[_vm._v(_vm._s(idx + 1))])]),_c('td',{},[_c('v-text-field',{attrs:{\"placeholder\":\"Title\",\"single-line\":\"\",\"hide-details\":\"\",\"dense\":\"\",\"validate-on-blur\":\"\",\"rules\":[_vm.rules.required]},model:{value:(field.title),callback:function ($$v) {_vm.$set(field, \"title\", $$v)},expression:\"field.title\"}})],1),_c('td',{},[_c('v-checkbox',{attrs:{\"hide-details\":\"\"},model:{value:(field.required),callback:function ($$v) {_vm.$set(field, \"required\", $$v)},expression:\"field.required\"}})],1),_c('td',{},[_c('v-checkbox',{attrs:{\"hide-details\":\"\"},model:{value:(field.private),callback:function ($$v) {_vm.$set(field, \"private\", $$v)},expression:\"field.private\"}})],1),_c('td',{},[_c('v-select',{attrs:{\"items\":_vm.$const.MEMBER_FIELDS_SCHEMA_TYPE_OPTIONS,\"single-line\":\"\",\"hide-details\":\"\",\"dense\":\"\",\"item-text\":\"title\",\"item-value\":\"value\",\"rules\":[_vm.rules.required]},model:{value:(field.type),callback:function ($$v) {_vm.$set(field, \"type\", $$v)},expression:\"field.type\"}})],1),_c('td',{staticClass:\"actions text-center\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-1\",attrs:{\"icon\":\"\",\"tabindex\":\"-1\",\"x-small\":\"\",\"color\":\"success\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.insertAfter(_vm.schema, idx, {type: 'string'})}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiPlus))])],1)]}}],null,true)},[_c('span',[_vm._v(\"Insert a row after this\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-1\",attrs:{\"icon\":\"\",\"tabindex\":\"-1\",\"x-small\":\"\",\"color\":\"primary\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.$refs.fieldsSettingDialogRef.show(field)}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiCogOutline))])],1)]}}],null,true)},[_c('span',[_vm._v(\"More Settings\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-1\",attrs:{\"icon\":\"\",\"tabindex\":\"-1\",\"x-small\":\"\",\"color\":\"error\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.schema.splice(idx, 1)}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiDelete))])],1)]}}],null,true)},[_c('span',[_vm._v(\"Remove\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"tabindex\":\"-1\",\"x-small\":\"\",\"color\":\"secondary\",\"outlined\":\"\",\"disabled\":idx == 0},on:{\"click\":function($event){return _vm.moveUp(_vm.schema, idx)}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiArrowUpThin))])],1)]}}],null,true)},[_c('span',[_vm._v(\"Move up\")])])],1)])}),(_vm.schema.length == 0)?_c('tr',[_c('td',{staticClass:\"text-center\",attrs:{\"colspan\":\"5\"}},[_vm._v(\" No Record! \"),_c('v-btn',{attrs:{\"plain\":\"\",\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.insertAfter(_vm.schema, undefined, {type: 'string'})}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(_vm._s(_vm.icons.mdiPlusCircleOutline))]),_vm._v(\" Add New \")],1)],1)]):_vm._e()],2)]},proxy:true}])}),_c('v-divider'),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"secondary\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.loadRecord()}}},[_vm._v(\"Reset\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"type\":\"submit\",\"loading\":_vm.saving,\"disabled\":!_vm.formValid}},[_vm._v(\"Save\")])],1)],1)],1),_c('organization-member-fields-setting-dialog',{ref:\"fieldsSettingDialogRef\"}),_c('v-overlay',{attrs:{\"value\":_vm.saving || _vm.loading,\"absolute\":true,\"opacity\":\"0.3\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},model:{value:(_vm.isVisible),callback:function ($$v) {_vm.isVisible=$$v},expression:\"isVisible\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(\"Entry Form Settings: \"),_c('span',{staticClass:\"error--text\"},[_vm._v(_vm._s(_vm.fieldData.title))])])]),_c('v-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save.apply(null, arguments)}},model:{value:(_vm.formValid),callback:function ($$v) {_vm.formValid=$$v},expression:\"formValid\"}},[_c('v-card-text',[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('h2',{staticClass:\"text-xl font-weight-semibold\"},[_vm._v(\"Fields Config\")]),_c('v-divider')],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Unique Name\",\"dense\":\"\",\"append-icon\":_vm.nameLocked? _vm.icons.mdiLockOff: _vm.icons.mdiLockOpen,\"readonly\":_vm.nameLocked,\"hint\":\"leave blank to auto generate. Caution! changing this field will lose value of saved records!\",\"persistent-hint\":\"\",\"outlined\":\"\"},on:{\"click:append\":function($event){_vm.nameLocked = !_vm.nameLocked}},model:{value:(_vm.fieldData.name),callback:function ($$v) {_vm.$set(_vm.fieldData, \"name\", $$v)},expression:\"fieldData.name\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('h2',{staticClass:\"text-xl font-weight-semibold\"},[_vm._v(\"Allowed Choices\")]),_c('v-divider')],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-switch',{staticClass:\"pt-0 mt-0\",attrs:{\"label\":\"Is Multiple Choices?\",\"color\":\"primary\",\"hide-details\":\"\"},model:{value:(_vm.fieldData.multiple),callback:function ($$v) {_vm.$set(_vm.fieldData, \"multiple\", $$v)},expression:\"fieldData.multiple\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-simple-table',{attrs:{\"dense\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"index\"},[_vm._v(\"#\")]),_c('th',{},[_vm._v(\"Title (*)\")]),_c('th',{},[_vm._v(\"Value (*)\")]),_c('th',{staticClass:\"actions text-center\"},[_vm._v(\"Actions\")])])]),_c('tbody',[_vm._l(((_vm.fieldData.choices || [])),function(choice,idx){return _c('tr',{key:idx},[_c('td',{},[_c('span',{staticClass:\"font-weight-semibold\"},[_vm._v(_vm._s(idx + 1))])]),_c('td',{},[_c('v-text-field',{attrs:{\"placeholder\":\"Title\",\"single-line\":\"\",\"hide-details\":\"\",\"dense\":\"\",\"validate-on-blur\":\"\",\"rules\":[_vm.rules.required]},model:{value:(choice.title),callback:function ($$v) {_vm.$set(choice, \"title\", $$v)},expression:\"choice.title\"}})],1),_c('td',{},[(_vm.fieldData.type == 'boolean')?_c('v-switch',{attrs:{\"label\":(\"\" + ((choice.value || false).toString())),\"hide-details\":\"\",\"dense\":\"\"},model:{value:(choice.value),callback:function ($$v) {_vm.$set(choice, \"value\", $$v)},expression:\"choice.value\"}}):(_vm.fieldData.type == 'integer' || _vm.fieldData.type == 'number' || _vm.fieldData.type == 'float' || _vm.fieldData.type == 'percent')?_c('v-text-field',{attrs:{\"type\":\"number\",\"placeholder\":\"Value\",\"step\":_vm.fieldData.type == 'integer' || _vm.fieldData.type == 'percent'? 1: 'any',\"min\":_vm.fieldData.type == 'percent'? 0: null,\"max\":_vm.fieldData.type == 'percent'? 100: null,\"single-line\":\"\",\"hide-details\":\"\",\"dense\":\"\",\"validate-on-blur\":\"\",\"rules\":[_vm.rules.required]},model:{value:(choice.value),callback:function ($$v) {_vm.$set(choice, \"value\", _vm._n($$v))},expression:\"choice.value\"}}):_c('v-text-field',{attrs:{\"placeholder\":\"Value\",\"single-line\":\"\",\"hide-details\":\"\",\"dense\":\"\",\"validate-on-blur\":\"\",\"rules\":[_vm.rules.required]},model:{value:(choice.value),callback:function ($$v) {_vm.$set(choice, \"value\", $$v)},expression:\"choice.value\"}})],1),_c('td',{staticClass:\"actions text-center\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-1\",attrs:{\"icon\":\"\",\"tabindex\":\"-1\",\"x-small\":\"\",\"color\":\"success\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.insertAfter(idx)}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiPlus))])],1)]}}],null,true)},[_c('span',[_vm._v(\"Insert a row after this\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-1\",attrs:{\"icon\":\"\",\"tabindex\":\"-1\",\"x-small\":\"\",\"color\":\"error\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.fieldData.choices.splice(idx, 1)}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiDelete))])],1)]}}],null,true)},[_c('span',[_vm._v(\"Remove\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"tabindex\":\"-1\",\"x-small\":\"\",\"color\":\"secondary\",\"outlined\":\"\",\"disabled\":idx == 0},on:{\"click\":function($event){return _vm.moveUp(idx)}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiArrowUpThin))])],1)]}}],null,true)},[_c('span',[_vm._v(\"Move up\")])])],1)])}),((_vm.fieldData.choices || []).length == 0)?_c('tr',[_c('td',{staticClass:\"text-center\",attrs:{\"colspan\":\"5\"}},[_vm._v(\" No Record! \"),_c('v-btn',{attrs:{\"plain\":\"\",\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.insertAfter()}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(_vm._s(_vm.icons.mdiPlusCircleOutline))]),_vm._v(\" Add New \")],1)],1)]):_vm._e()],2)]},proxy:true}])})],1)],1)],1)],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"secondary\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.hide()}}},[_vm._v(\"Close\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"type\":\"submit\",\"loading\":_vm.saving,\"disabled\":!_vm.formValid}},[_vm._v(\"OK\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog\n    v-model=\"isVisible\"\n    persistent\n    max-width=\"600px\"\n  >\n    <v-card>\n      <v-card-title>\n        <span class=\"headline\">Entry Form Settings: <span class=\"error--text\">{{fieldData.title}}</span></span>\n      </v-card-title>\n      <v-form @submit.prevent=\"save\" v-model=\"formValid\">\n        <v-card-text>\n          <v-container>\n            <v-row>\n              <v-col cols=\"12\">\n                <h2 class=\"text-xl font-weight-semibold\">Fields Config</h2>\n                <v-divider></v-divider>\n              </v-col>\n              <v-col cols=\"12\">\n                <v-text-field v-model=\"fieldData.name\" label=\"Unique Name\" dense\n                              :append-icon=\"nameLocked? icons.mdiLockOff: icons.mdiLockOpen\"\n                              @click:append=\"nameLocked = !nameLocked\"\n                              :readonly=\"nameLocked\"\n                              hint=\"leave blank to auto generate. Caution! changing this field will lose value of saved records!\"\n                              persistent-hint outlined></v-text-field>\n              </v-col>\n              <v-col cols=\"12\">\n                <h2 class=\"text-xl font-weight-semibold\">Allowed Choices</h2>\n                <v-divider></v-divider>\n              </v-col>\n              <v-col cols=\"12\">\n                <v-switch v-model=\"fieldData.multiple\" label=\"Is Multiple Choices?\" color=\"primary\" hide-details class=\"pt-0 mt-0\"></v-switch>\n              </v-col>\n              <v-col cols=\"12\">\n                <v-simple-table dense class=\"\">\n                  <template #default>\n                    <thead>\n                    <tr>\n                      <th class=\"index\">#</th>\n                      <th class=\"\">Title (*)</th>\n                      <th class=\"\">Value (*)</th>\n                      <th class=\"actions text-center\">Actions</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr v-for=\"(choice, idx) in (fieldData.choices || [])\" :key=\"idx\">\n                      <td class=\"\">\n                        <span class=\"font-weight-semibold\">{{ idx + 1 }}</span>\n                      </td>\n                      <td class=\"\">\n                        <v-text-field placeholder=\"Title\" v-model=\"choice.title\" single-line hide-details dense validate-on-blur\n                                      :rules=\"[rules.required]\" />\n                      </td>\n                      <td class=\"\">\n                        <v-switch v-if=\"fieldData.type == 'boolean'\" v-model=\"choice.value\"\n                                  :label=\"`${(choice.value || false).toString()}`\" hide-details dense></v-switch>\n                        <v-text-field v-else-if=\"fieldData.type == 'integer' || fieldData.type == 'number' || fieldData.type == 'float' || fieldData.type == 'percent'\"\n                               type=\"number\"\n                               placeholder=\"Value\"\n                               v-model.number=\"choice.value\"\n                               :step=\"fieldData.type == 'integer' || fieldData.type == 'percent'? 1: 'any'\"\n                               :min=\"fieldData.type == 'percent'? 0: null\"\n                               :max=\"fieldData.type == 'percent'? 100: null\"\n                               single-line hide-details dense validate-on-blur :rules=\"[rules.required]\"\n                        />\n                        <v-text-field v-else placeholder=\"Value\" v-model=\"choice.value\"\n                                      single-line hide-details dense validate-on-blur :rules=\"[rules.required]\" />\n                      </td>\n\n                      <td class=\"actions text-center\">\n                        <v-tooltip bottom>\n                          <template #activator=\"{ on, attrs }\">\n                            <v-btn v-on=\"on\" v-bind=\"attrs\" icon @click=\"insertAfter(idx)\" tabindex=\"-1\" x-small color=\"success\"\n                                   outlined class=\"mr-1\">\n                              <v-icon>{{icons.mdiPlus}}</v-icon>\n                            </v-btn>\n                          </template>\n                          <span>Insert a row after this</span>\n                        </v-tooltip>\n                        <v-tooltip bottom>\n                          <template #activator=\"{ on, attrs }\">\n                            <v-btn v-on=\"on\" v-bind=\"attrs\" icon @click=\"fieldData.choices.splice(idx, 1)\" tabindex=\"-1\" x-small\n                                   color=\"error\" outlined class=\"mr-1\">\n                              <v-icon>{{icons.mdiDelete}}</v-icon>\n                            </v-btn>\n                          </template>\n                          <span>Remove</span>\n                        </v-tooltip>\n                        <v-tooltip bottom>\n                          <template #activator=\"{ on, attrs }\">\n                            <v-btn v-on=\"on\" v-bind=\"attrs\" icon @click=\"moveUp(idx)\" tabindex=\"-1\" x-small color=\"secondary\"\n                                   outlined :disabled=\"idx == 0\">\n                              <v-icon>{{icons.mdiArrowUpThin}}</v-icon>\n                            </v-btn>\n                          </template>\n                          <span>Move up</span>\n                        </v-tooltip>\n                      </td>\n                    </tr>\n                    <tr v-if=\"(fieldData.choices || []).length == 0\">\n                      <td colspan=\"5\" class=\"text-center\">\n                        No Record!\n                        <v-btn @click=\"insertAfter()\" plain small color=\"primary\">\n                          <v-icon small>{{icons.mdiPlusCircleOutline}}</v-icon> Add New\n                        </v-btn>\n                      </td>\n                    </tr>\n                    </tbody>\n                  </template>\n                </v-simple-table>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-card-text>\n\n        <v-card-actions>\n          <v-btn color=\"secondary\" outlined @click=\"hide()\">Close</v-btn>\n          <v-btn color=\"primary\" type=\"submit\" :loading=\"saving\" :disabled=\"!formValid\">OK</v-btn>\n        </v-card-actions>\n      </v-form>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport {ref, set} from '@vue/composition-api'\nimport {required} from \"@core/utils/validation\";\nimport {\n  mdiArrowUpThin,\n  mdiDelete,\n  mdiPlus,\n  mdiPlusCircleOutline,\n  mdiLockOff,\n  mdiLockOpen,\n} from \"@mdi/js\";\n\nexport default {\n  setup(props, context) {\n    const isVisible = ref(false);\n    const formValid = ref(false);\n    const nameLocked = ref(true);\n    const originFieldData = ref({});\n    const fieldData = ref({choices: [], name: null});\n    const saving = ref(false);\n\n    const hide = () => {\n      isVisible.value = false;\n    };\n    const show = (_fieldData) => {\n      originFieldData.value = _fieldData;\n      _fieldData = _fieldData || {};\n      var clonedFieldData = Object.assign({}, _fieldData);\n      clonedFieldData.choices = clonedFieldData.choices? clonedFieldData.choices.slice(): [];\n      fieldData.value = clonedFieldData;\n      isVisible.value = true;\n      nameLocked.value = true\n    };\n\n    const save = () => {\n      Object.assign(originFieldData.value, fieldData.value);\n      hide();\n    };\n\n    const moveUp = (idx) => {\n      if (idx <= 0) {\n        return;\n      }\n      var origin = fieldData.value.choices[idx];\n      fieldData.value.choices[idx] = fieldData.value.choices[idx - 1];\n      set(fieldData.value.choices, idx - 1, origin);\n    };\n\n    const insertAfter = (idx) => {\n      var newChoice = { title: \"\", value: \"\" };\n      if (fieldData.value.type === 'boolean') {\n        newChoice.value = false;\n      }\n      if (!fieldData.value.choices) {\n        fieldData.value.choices = [];\n      }\n      if (idx === undefined) {\n        fieldData.value.choices.push(newChoice);\n      } else {\n        fieldData.value.choices.splice(idx + 1, 0, newChoice);\n      }\n    };\n\n    return {\n      isVisible,\n      formValid,\n      nameLocked,\n      saving,\n      originFieldData,\n      fieldData,\n      hide,\n      show,\n      save,\n      moveUp,\n      insertAfter,\n      rules: {\n        required\n      },\n      icons: {\n        mdiPlusCircleOutline,\n        mdiPlus,\n        mdiDelete,\n        mdiArrowUpThin,\n        mdiLockOff,\n        mdiLockOpen,\n      },\n    }\n  },\n}\n</script>\n\n<style scoped>\n  th.actions {\n    min-width: 120px;\n    width: 120px;\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationMemberFieldsSettingDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationMemberFieldsSettingDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrganizationMemberFieldsSettingDialog.vue?vue&type=template&id=54b8b1ed&scoped=true&\"\nimport script from \"./OrganizationMemberFieldsSettingDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationMemberFieldsSettingDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrganizationMemberFieldsSettingDialog.vue?vue&type=style&index=0&id=54b8b1ed&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54b8b1ed\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VContainer,VDialog,VDivider,VForm,VIcon,VRow,VSimpleTable,VSwitch,VTextField,VTooltip})\n","<template>\n  <div class=\"organization-member-fields-tab\">\n    <v-form @submit.prevent=\"save()\" v-model=\"formValid\">\n\n      <v-card class=\"mb-1\">\n        <v-card-text class=\"d-flex align-center flex-wrap pb-0\">\n          <div class=\"d-flex align-center pb-5\">\n            <h2>Membership Pricing Plans</h2>\n            <span class=\"caption ml-1\">define plans of membership</span>\n          </div>\n        </v-card-text>\n        <v-simple-table>\n          <template #default>\n            <thead>\n            <tr>\n              <th class=\"\">#</th>\n              <th class=\"\">Period (*)</th>\n              <th class=\"\">Price (*)</th>\n              <th class=\"\">Title</th>\n              <th class=\"plans-actions text-center\">Actions</th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr v-for=\"(field, idx) in membershipPlans\" :key=\"idx\">\n              <td class=\"\">\n                <span class=\"font-weight-semibold\">{{ idx + 1 }}</span>\n              </td>\n              <td class=\"\">\n                <v-select v-model=\"field.period\" :items=\"$const.ORGANIZATION_MEMBERSHIP_PLAN_OPTIONS\"\n                          single-line hide-details dense item-text=\"title\" item-value=\"value\" :rules=\"[rules.required]\">\n                  <template #selection=\"data\">\n                    {{data.item.title}} <small class=\"caption ml-1\">({{data.item.days}} days)</small>\n                  </template>\n                  <template #item=\"data\">\n                    {{data.item.title}} <small class=\"caption ml-1\">({{data.item.days}} days)</small>\n                  </template>\n                </v-select>\n              </td>\n              <td class=\"\">\n                <v-text-field type=\"number\" placeholder=\"Price\" v-model=\"field.price\" prefix=\"$\" min=\"0\"\n                              single-line hide-details dense validate-on-blur/>\n              </td>\n              <td class=\"\">\n                <v-text-field placeholder=\"Title (optional)\" v-model=\"field.title\"\n                              single-line hide-details dense validate-on-blur/>\n              </td>\n              <td class=\"plans-actions text-center\">\n                <v-tooltip bottom>\n                  <template #activator=\"{ on, attrs }\">\n                    <v-btn v-on=\"on\" v-bind=\"attrs\" icon @click=\"insertAfter(membershipPlans, idx, {})\" tabindex=\"-1\" x-small color=\"success\"\n                           outlined class=\"mr-1\">\n                      <v-icon>{{icons.mdiPlus}}</v-icon>\n                    </v-btn>\n                  </template>\n                  <span>Insert a row after this</span>\n                </v-tooltip>\n                <v-tooltip bottom>\n                  <template #activator=\"{ on, attrs }\">\n                    <v-btn v-on=\"on\" v-bind=\"attrs\" icon @click=\"membershipPlans.splice(idx, 1)\" tabindex=\"-1\" x-small\n                           color=\"error\" outlined class=\"mr-1\">\n                      <v-icon>{{icons.mdiDelete}}</v-icon>\n                    </v-btn>\n                  </template>\n                  <span>Remove</span>\n                </v-tooltip>\n                <v-tooltip bottom>\n                  <template #activator=\"{ on, attrs }\">\n                    <v-btn v-on=\"on\" v-bind=\"attrs\" icon @click=\"moveUp(membershipPlans, idx)\" tabindex=\"-1\" x-small color=\"secondary\"\n                           outlined :disabled=\"idx == 0\">\n                      <v-icon>{{icons.mdiArrowUpThin}}</v-icon>\n                    </v-btn>\n                  </template>\n                  <span>Move up</span>\n                </v-tooltip>\n              </td>\n            </tr>\n            <tr v-if=\"membershipPlans.length == 0\">\n              <td colspan=\"5\" class=\"text-center\">\n                No Plan Defined!\n                <v-btn @click=\"insertAfter(membershipPlans, undefined, {})\" plain small color=\"primary\">\n                  <v-icon small>{{icons.mdiPlusCircleOutline}}</v-icon> Add New\n                </v-btn>\n              </td>\n            </tr>\n            </tbody>\n          </template>\n        </v-simple-table>\n\n      </v-card>\n\n      <v-card>\n        <v-card-text class=\"d-flex align-center flex-wrap pb-0\">\n          <div class=\"d-flex align-center pb-5\">\n            <h2>Member Fields</h2>\n            <span class=\"caption ml-1\">define extra fields of organization members</span>\n          </div>\n        </v-card-text>\n        <v-simple-table>\n          <template #default>\n            <thead>\n            <tr>\n              <th class=\"\">#</th>\n              <th class=\"\">Title (*)</th>\n              <th class=\"\">Required?</th>\n              <th class=\"\">Private?</th>\n              <th class=\"\">Type (*)</th>\n              <th class=\"fields-actions text-center\">Actions</th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr v-for=\"(field, idx) in schema\" :key=\"idx\">\n              <td class=\"\">\n                <span class=\"font-weight-semibold\">{{ idx + 1 }}</span>\n              </td>\n              <td class=\"\">\n                <v-text-field placeholder=\"Title\" v-model=\"field.title\" single-line hide-details dense validate-on-blur\n                              :rules=\"[rules.required]\" />\n              </td>\n              <td class=\"\">\n                 <v-checkbox v-model=\"field.required\" hide-details></v-checkbox>\n              </td>\n              <td class=\"\">\n                 <v-checkbox v-model=\"field.private\" hide-details></v-checkbox>\n              </td>\n              <td class=\"\">\n                <v-select v-model=\"field.type\" :items=\"$const.MEMBER_FIELDS_SCHEMA_TYPE_OPTIONS\"\n                          single-line hide-details dense item-text=\"title\" item-value=\"value\" :rules=\"[rules.required]\">\n                </v-select>\n              </td>\n              <td class=\"actions text-center\">\n                <v-tooltip bottom>\n                  <template #activator=\"{ on, attrs }\">\n                    <v-btn v-on=\"on\" v-bind=\"attrs\" icon @click=\"insertAfter(schema, idx, {type: 'string'})\" tabindex=\"-1\" x-small color=\"success\"\n                           outlined class=\"mr-1\">\n                      <v-icon>{{icons.mdiPlus}}</v-icon>\n                    </v-btn>\n                  </template>\n                  <span>Insert a row after this</span>\n                </v-tooltip>\n                <v-tooltip bottom>\n                  <template #activator=\"{ on, attrs }\">\n                    <v-btn v-on=\"on\" v-bind=\"attrs\" icon @click=\"$refs.fieldsSettingDialogRef.show(field)\" tabindex=\"-1\" x-small color=\"primary\"\n                           outlined class=\"mr-1\">\n                      <v-icon>{{icons.mdiCogOutline}}</v-icon>\n                    </v-btn>\n                  </template>\n                  <span>More Settings</span>\n                </v-tooltip>\n                <v-tooltip bottom>\n                  <template #activator=\"{ on, attrs }\">\n                    <v-btn v-on=\"on\" v-bind=\"attrs\" icon @click=\"schema.splice(idx, 1)\" tabindex=\"-1\" x-small\n                           color=\"error\" outlined class=\"mr-1\">\n                      <v-icon>{{icons.mdiDelete}}</v-icon>\n                    </v-btn>\n                  </template>\n                  <span>Remove</span>\n                </v-tooltip>\n                <v-tooltip bottom>\n                  <template #activator=\"{ on, attrs }\">\n                    <v-btn v-on=\"on\" v-bind=\"attrs\" icon @click=\"moveUp(schema, idx)\" tabindex=\"-1\" x-small color=\"secondary\"\n                           outlined :disabled=\"idx == 0\">\n                      <v-icon>{{icons.mdiArrowUpThin}}</v-icon>\n                    </v-btn>\n                  </template>\n                  <span>Move up</span>\n                </v-tooltip>\n              </td>\n            </tr>\n            <tr v-if=\"schema.length == 0\">\n              <td colspan=\"5\" class=\"text-center\">\n                No Record!\n                <v-btn @click=\"insertAfter(schema, undefined, {type: 'string'})\" plain small color=\"primary\">\n                  <v-icon small>{{icons.mdiPlusCircleOutline}}</v-icon> Add New\n                </v-btn>\n              </td>\n            </tr>\n            </tbody>\n          </template>\n        </v-simple-table>\n        <v-divider></v-divider>\n        <v-card-actions>\n          <v-btn color=\"secondary\" outlined @click=\"loadRecord()\">Reset</v-btn>\n          <v-btn color=\"primary\" type=\"submit\" :loading=\"saving\" :disabled=\"!formValid\">Save</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-form>\n    <organization-member-fields-setting-dialog ref=\"fieldsSettingDialogRef\"></organization-member-fields-setting-dialog>\n    <v-overlay :value=\"saving || loading\" :absolute=\"true\" opacity=\"0.3\">\n      <v-progress-circular indeterminate></v-progress-circular>\n    </v-overlay>\n  </div>\n</template>\n\n<script>\n\nimport {notifyDefaultServerError, notifySuccess, randomId, refineVTableOptions} from \"@/composables/utils\";\nimport axios from \"@/axios\";\nimport {onMounted, ref, set} from \"@vue/composition-api\";\nimport {required} from \"@core/utils/validation\";\nimport {\n  mdiPlusCircleOutline,\n  mdiPlus,\n  mdiCogOutline,\n  mdiDelete,\n  mdiArrowUpThin,\n} from \"@mdi/js\"\nimport OrganizationMemberFieldsSettingDialog\n  from \"@/views/dashboard/organizationProfile/OrganizationMemberFieldsSettingDialog\";\n\nexport default {\n  props: {\n    organization: {\n      type: Object,\n      required: true\n    }\n  },\n  components: {OrganizationMemberFieldsSettingDialog},\n  setup(props, context) {\n    const schema = ref([]);\n    const membershipPlans = ref([]);\n    const saving = ref(false);\n    const formValid = ref(false);\n    const loading = ref(false);\n\n    const loadRecord = () => {\n      loading.value = true;\n      let params = {exfields: \"member_fields_schema,membership_plans\", fields: \"member_fields_schema,membership_plans\"};\n      axios.get(`cycling_org/organization/${props.organization.id}`, {params: params}).then((response) => {\n        loading.value = false;\n        schema.value = response.data.member_fields_schema || [];\n        membershipPlans.value = response.data.membership_plans || [];\n      }, (error) => {\n        loading.value = false;\n        notifyDefaultServerError(error, true);\n      });\n\n    };\n\n    const moveUp = (list, idx) => {\n      if (idx <= 0) {\n        return;\n      }\n      var origin = list[idx];\n      list[idx] = list[idx - 1];\n      set(list, idx - 1, origin);\n    };\n\n    const insertAfter = (list, idx, defaultValue) => {\n      if (idx === undefined) {\n        list.push(defaultValue);\n      } else {\n        list.splice(idx + 1, 0, defaultValue);\n      }\n    };\n\n    const fieldTitleToName = (title) => {\n      if (!title) {\n        return title;\n      }\n      title = title.trim().toLowerCase().split(/\\W+/);\n      if (!title[title.length -1]) {\n        title = title.slice(0, -1)\n      }\n      return title.join(\"_\");\n    };\n\n    const save = () => {\n      saving.value = true;\n      var memberFields = [];\n      schema.value.forEach(f => {\n        var r = Object.assign({}, f);\n        if (!r.name) {\n          r.name = fieldTitleToName(r.title);\n        }\n        memberFields.push(r);\n      });\n      var plans = [];\n      membershipPlans.value.forEach(f => {\n        var r = Object.assign({}, f);\n        if (!r.id) {\n          r.id = randomId().toString();\n        }\n        plans.push(r);\n      });\n      var postData = {\n        member_fields_schema: memberFields,\n        membership_plans: plans\n      };\n      axios.patch(`cycling_org/organization/${props.organization.id}?exfields=member_fields_schema,membership_plans&fields=member_fields_schema,membership_plans`,\n          postData).then((response) => {\n        saving.value = false;\n        schema.value = response.data.member_fields_schema;\n        membershipPlans.value = response.data.membership_plans || [];\n        notifySuccess(\"membership fields updated successfully.\");\n        context.emit('save-successed');\n      }, (error) => {\n        saving.value = false;\n        notifyDefaultServerError(error, true);\n      });\n    };\n\n    onMounted(() => {\n      loadRecord();\n    });\n\n    return {\n      loading,\n      saving,\n      formValid,\n      schema,\n      membershipPlans,\n      moveUp,\n      insertAfter,\n      fieldTitleToName,\n      loadRecord,\n      save,\n      rules: {\n        required\n      },\n      icons: {\n        mdiPlusCircleOutline,\n        mdiPlus,\n        mdiCogOutline,\n        mdiDelete,\n        mdiArrowUpThin,\n      }\n    }\n  },\n}\n</script>\n\n<style scoped>\n  th.fields-actions {\n    min-width: 150px;\n    width: 150px;\n  }\n\n  th.plans-actions {\n    min-width: 120px;\n    width: 120px;\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationMembershipFormTab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationMembershipFormTab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrganizationMembershipFormTab.vue?vue&type=template&id=5bb8e828&scoped=true&\"\nimport script from \"./OrganizationMembershipFormTab.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationMembershipFormTab.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrganizationMembershipFormTab.vue?vue&type=style&index=0&id=5bb8e828&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bb8e828\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCheckbox,VDivider,VForm,VIcon,VOverlay,VProgressCircular,VSelect,VSimpleTable,VTextField,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"organization-profile-race-series-tab\"},[_c('v-card',[_c('v-card-text',{staticClass:\"pt-2 pb-2 pr-2 pl-2\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-autocomplete',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"Filter by Event\",\"items\":_vm.events,\"item-text\":\"name\",\"item-value\":\"id\",\"hide-details\":\"\",\"search-input\":_vm.eventSearchInput,\"loading\":_vm.findingEvents,\"no-data-text\":\"No Result Found! Type here to Search event\",\"menu-props\":{contentClass:'list-style'},\"return-object\":\"\",\"clearable\":\"\"},on:{\"update:searchInput\":function($event){_vm.eventSearchInput=$event},\"update:search-input\":function($event){_vm.eventSearchInput=$event}},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c('span',{staticClass:\"d-block font-weight-medium text-truncate\"},[_vm._v(\" \"+_vm._s(data.item.name)+\" \")])]}},{key:\"item\",fn:function(data){return [_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"text-sm\"},[_vm._v(\" \"+_vm._s(data.item.name)+\" \")]),_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(_vm.$utils.formatDate(data.item.start_date, 'MMM D, YYYY'))+\" - \"+_vm._s(_vm.$utils.formatDate(data.item.end_date, 'MMM D, YYYY'))+\" \")])],1)]}}]),model:{value:(_vm.tableFiltering.events),callback:function ($$v) {_vm.$set(_vm.tableFiltering, \"events\", $$v)},expression:\"tableFiltering.events\"}})],1)],1)],1),_c('v-divider'),_c('v-card-text',{staticClass:\"d-flex align-center flex-wrap pb-0\"},[_c('div',{staticClass:\"d-flex align-center pb-5\"},[_c('v-btn',{staticClass:\"mr-1\",attrs:{\"fab\":\"\",\"x-small\":\"\",\"color\":\"info\"},on:{\"click\":function($event){return _vm.loadRecords(1);}}},[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiRefresh))])],1),(_vm.organization.my_level.is_admin)?_c('v-btn',{staticClass:\"me-1\",attrs:{\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.formDialogRef.show(null)}}},[_c('v-icon',{staticClass:\"me-1\",attrs:{\"size\":\"18\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiPlus)+\" \")]),_c('span',[_vm._v(\"New Race Series\")])],1):_vm._e()],1),_c('v-spacer'),_c('div',{staticClass:\"d-flex align-center pb-5\"},[_c('v-text-field',{staticClass:\"me-3 search-input\",attrs:{\"value\":_vm.tableFiltering.search,\"dense\":\"\",\"clearable\":\"\",\"hide-details\":\"\",\"placeholder\":\"Search ...\"},on:{\"change\":function (value) { return _vm.$set(_vm.tableFiltering, 'search', value); },\"click:clear\":function($event){return _vm.$set(_vm.tableFiltering, 'search', null)}}})],1)],1),_c('v-data-table',{staticClass:\"text-no-wrap\",attrs:{\"headers\":_vm.tableColumns,\"items\":_vm.records,\"options\":_vm.tableOptions,\"server-items-length\":_vm.pagination.total,\"loading\":_vm.loading,\"footer-props\":{'items-per-page-options': _vm.$const.DEFAULT_TABLE_PER_PAGE_OPTIONS, 'show-current-page': true, 'show-first-last-page': true}},on:{\"update:options\":[function($event){_vm.tableOptions=$event},function($event){return _vm.loadRecords()}]},scopedSlots:_vm._u([{key:\"item.events\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('div',_vm._g(_vm._b({staticClass:\"text-truncate\"},'div',attrs,false),on),_vm._l((item._events),function(r){return _c('v-chip',{key:r.id,staticClass:\"mr-1\",attrs:{\"lable\":\"\",\"small\":\"\",\"color\":\"secondary\"}},[_vm._v(_vm._s(r.name))])}),1)]}}],null,true)},[_c('span',_vm._l((item._events),function(r){return _c('v-chip',{key:r.id,staticClass:\"mr-1\",attrs:{\"lable\":\"\",\"small\":\"\",\"color\":\"secondary\"}},[_vm._v(_vm._s(r.name))])}),1)])]}},{key:\"item.races\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('div',_vm._g(_vm._b({staticClass:\"text-truncate\"},'div',attrs,false),on),_vm._l((item._races),function(r){return _c('v-chip',{key:r.id,staticClass:\"mr-1\",attrs:{\"lable\":\"\",\"small\":\"\",\"color\":\"primary\"}},[_vm._v(_vm._s(r.name))])}),1)]}}],null,true)},[_c('span',_vm._l((item._races),function(r){return _c('v-chip',{key:r.id,staticClass:\"mr-1\",attrs:{\"lable\":\"\",\"small\":\"\",\"color\":\"primary\"}},[_vm._v(_vm._s(r.name))])}),1)])]}},{key:\"item.categories\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('div',_vm._g(_vm._b({staticClass:\"text-truncate\"},'div',attrs,false),on),_vm._l((item._categories),function(r){return _c('v-chip',{key:r.id,staticClass:\"mr-1\",attrs:{\"lable\":\"\",\"small\":\"\",\"color\":\"info\"}},[_vm._v(_vm._s(r.title))])}),1)]}}],null,true)},[_c('span',_vm._l((item._categories),function(r){return _c('v-chip',{key:r.id,staticClass:\"mr-1\",attrs:{\"lable\":\"\",\"small\":\"\",\"color\":\"info\"}},[_vm._v(_vm._s(r.title))])}),1)])]}},{key:\"item.name\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{staticClass:\"text-truncate font-weight-semibold\"},[_vm._v(\" \"+_vm._s(item.name)+\" \")])]}},{key:\"item.create_datetime\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{staticClass:\"pr-1\"},[_vm._v(_vm._s(_vm.$utils.formatDate(item.create_datetime, 'M/D/YY')))]),_c('span',{staticClass:\"text-caption\"},[_vm._v(_vm._s(_vm.$utils.formatDate(item.create_datetime, 'HH:mm')))])]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"d-flex align-end justify-end\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.$refs.formDialogRef.show(item)}}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"size\":\"18\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiPencilOutline)+\" \")])],1)]}}],null,true)},[_c('span',[_vm._v(\"Edit\")])])],1)]}}])})],1),_c('organization-race-series-form-dialog',{ref:\"formDialogRef\",attrs:{\"organization\":_vm.organization},on:{\"save-successed\":function($event){return _vm.loadRecords(1)},\"delete-successed\":function($event){return _vm.loadRecords(1)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"700px\"},model:{value:(_vm.isVisible),callback:function ($$v) {_vm.isVisible=$$v},expression:\"isVisible\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.isEditMode? (\"Edit Race Series #\" + (_vm.record.id)): 'New Race Series'))])]),_c('v-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save.apply(null, arguments)}}},[_c('v-tabs',{staticClass:\"mb-5\"},[_c('v-tab',[_vm._v(\"Basic Info\")]),_c('v-tab',[_vm._v(\"Points Map\")]),_c('v-tab-item',{staticClass:\"pt-6\"},[_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Race Series Name\",\"dense\":\"\"},model:{value:(_vm.record.name),callback:function ($$v) {_vm.$set(_vm.record, \"name\", $$v)},expression:\"record.name\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-autocomplete',{staticClass:\"pb-4\",attrs:{\"multiple\":\"\",\"dense\":\"\",\"label\":\"Events\",\"items\":_vm.events,\"item-text\":\"name\",\"item-value\":\"id\",\"hide-details\":\"\",\"search-input\":_vm.eventSearchInput,\"loading\":_vm.findingEvents,\"no-data-text\":\"No Result Found! Type here to Search event\",\"menu-props\":{contentClass:'list-style'},\"return-object\":\"\",\"clearable\":\"\"},on:{\"update:searchInput\":function($event){_vm.eventSearchInput=$event},\"update:search-input\":function($event){_vm.eventSearchInput=$event}},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c('v-chip',{staticClass:\"mt-1 mb-1\",attrs:{\"small\":\"\",\"color\":\"secondary\",\"close\":\"\"},on:{\"click:close\":function($event){return _vm.record._events.splice(data.index, 1)}}},[_vm._v(\" \"+_vm._s(data.item.name)+\" \")])]}},{key:\"item\",fn:function(data){return [_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"text-sm\"},[_vm._v(\" \"+_vm._s(data.item.name)+\" \")]),_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(_vm.$utils.formatDate(data.item.start_date, 'MMM D, YYYY'))+\" - \"+_vm._s(_vm.$utils.formatDate(data.item.end_date, 'MMM D, YYYY'))+\" \")])],1)]}},{key:\"prepend-item\",fn:function(){return [_c('v-row',{staticClass:\"pl-1 pr-1 mb-1\"},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-menu',{attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({staticClass:\"pt-0 pb-0\",attrs:{\"label\":\"From Date\",\"hide-details\":\"\",\"dense\":\"\",\"readonly\":\"\",\"clearable\":\"\",\"filled\":\"\"},model:{value:(_vm.eventFiltering.from_date),callback:function ($$v) {_vm.$set(_vm.eventFiltering, \"from_date\", $$v)},expression:\"eventFiltering.from_date\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.eventFromDate),callback:function ($$v) {_vm.eventFromDate=$$v},expression:\"eventFromDate\"}},[_c('v-date-picker',{attrs:{\"color\":\"primary\"},on:{\"input\":function($event){_vm.eventFromDate = false}},model:{value:(_vm.eventFiltering.from_date),callback:function ($$v) {_vm.$set(_vm.eventFiltering, \"from_date\", $$v)},expression:\"eventFiltering.from_date\"}})],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-menu',{attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({staticClass:\"pt-0 pb-0\",attrs:{\"label\":\"To Date\",\"hide-details\":\"\",\"dense\":\"\",\"readonly\":\"\",\"clearable\":\"\",\"filled\":\"\"},model:{value:(_vm.eventFiltering.to_date),callback:function ($$v) {_vm.$set(_vm.eventFiltering, \"to_date\", $$v)},expression:\"eventFiltering.to_date\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.eventToDate),callback:function ($$v) {_vm.eventToDate=$$v},expression:\"eventToDate\"}},[_c('v-date-picker',{attrs:{\"color\":\"primary\"},on:{\"input\":function($event){_vm.eventToDate = false}},model:{value:(_vm.eventFiltering.to_date),callback:function ($$v) {_vm.$set(_vm.eventFiltering, \"to_date\", $$v)},expression:\"eventFiltering.to_date\"}})],1)],1)],1)]},proxy:true}]),model:{value:(_vm.record._events),callback:function ($$v) {_vm.$set(_vm.record, \"_events\", $$v)},expression:\"record._events\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-autocomplete',{attrs:{\"multiple\":\"\",\"dense\":\"\",\"label\":\"Races\",\"items\":_vm.races,\"item-text\":\"name\",\"item-value\":\"id\",\"menu-props\":{contentClass:'list-style'},\"disabled\":!(_vm.record._events || []).length,\"return-object\":\"\"},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c('v-chip',{staticClass:\"mt-1 mb-1\",attrs:{\"small\":\"\",\"color\":\"primary\",\"close\":\"\"},on:{\"click:close\":function($event){return _vm.record._races.splice(data.index, 1)}}},[_vm._v(\" \"+_vm._s(data.item.name)+\" \")])]}},{key:\"item\",fn:function(data){return [_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"text-sm\"},[_vm._v(\" \"+_vm._s(data.item.name)+\" \")]),_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(_vm.$utils.formatDate(data.item.start_datetime, 'MMM D, YYYY'))+\" - \"),_c('small',[_vm._v(_vm._s(data.item._event.name))])])],1)]}},{key:\"prepend-item\",fn:function(){return [_c('v-list-item',[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"space-around\"}},[_c('v-btn',{attrs:{\"depressed\":\"\"},on:{\"click\":function($event){_vm.record._races=[].concat( _vm.races )}}},[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiCheckboxMultipleMarkedOutline))]),_vm._v(\" Select All \")],1),_c('v-btn',{attrs:{\"depressed\":\"\"},on:{\"click\":function($event){_vm.record._races=[]}}},[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiCheckboxMultipleBlankOutline))]),_vm._v(\" Unselect All \")],1)],1)],1)]},proxy:true}]),model:{value:(_vm.record._races),callback:function ($$v) {_vm.$set(_vm.record, \"_races\", $$v)},expression:\"record._races\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-autocomplete',{attrs:{\"multiple\":\"\",\"dense\":\"\",\"label\":\"Categories\",\"items\":_vm.categories,\"item-text\":\"title\",\"item-value\":\"id\",\"return-object\":\"\"},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c('v-chip',{staticClass:\"mt-1 mb-1\",attrs:{\"small\":\"\",\"color\":\"info\",\"close\":\"\"},on:{\"click:close\":function($event){return _vm.record._categories.splice(data.index, 1)}}},[_vm._v(\" \"+_vm._s(data.item.title)+\" \")])]}}]),model:{value:(_vm.record._categories),callback:function ($$v) {_vm.$set(_vm.record, \"_categories\", $$v)},expression:\"record._categories\"}})],1)],1)],1)],1),_c('v-tab-item',{staticClass:\"pt-6\"},[_c('v-card-text',[_c('v-alert',{attrs:{\"border\":\"left\",\"color\":\"primary\",\"text\":\"\",\"dense\":\"\"}},[_vm._v(\" Enter Points of every place here! \")]),_c('v-row',_vm._l((_vm.pointsMapCount),function(p){return _c('v-col',{key:(\"points-map-\" + p),attrs:{\"cols\":\"3\"}},[_c('v-text-field',{attrs:{\"type\":\"number\",\"min\":\"0\",\"step\":\"1\",\"outlined\":\"\",\"hide-details\":\"\",\"dense\":\"\",\"label\":(\"Place #\" + p)},model:{value:(_vm.record.points_map[p]),callback:function ($$v) {_vm.$set(_vm.record.points_map, p, _vm._n($$v))},expression:\"record.points_map[p]\"}})],1)}),1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-btn',{attrs:{\"plain\":\"\",\"x-small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.pointsMapCount+=4}}},[_c('v-icon',{attrs:{\"x-small\":\"\"}},[_vm._v(_vm._s(_vm.icons.mdiPlusCircleOutline))]),_vm._v(\" Add More Places \")],1)],1)],1)],1)],1)],1),(_vm.confirmDelete)?_c('v-card-text',[_c('v-alert',{attrs:{\"type\":\"warning\",\"dense\":\"\",\"text\":\"\",\"icon\":_vm.icons.mdiAlert}},[_c('p',[_vm._v(\"If you delete it, all related records will be deleted! Are you sure?\")]),_c('v-btn',{attrs:{\"color\":\"error\",\"outlined\":\"\",\"small\":\"\",\"loading\":_vm.deleting},on:{\"click\":function($event){return _vm.deleteRecord()}}},[_vm._v(\"Yes, Delete It\")]),_c('v-btn',{staticClass:\"ml-1\",attrs:{\"color\":\"secondary\",\"small\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.confirmDelete=false}}},[_vm._v(\"Cancel\")])],1)],1):_vm._e(),_c('v-card-actions',[(_vm.isEditMode)?[_c('v-btn',{attrs:{\"color\":\"error\",\"outlined\":\"\",\"disabled\":_vm.confirmDelete},on:{\"click\":function($event){_vm.confirmDelete=true}}},[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiDelete))]),_vm._v(\"Delete \")],1)]:_vm._e(),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"secondary\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.hide()}}},[_vm._v(\"Close\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"type\":\"submit\",\"loading\":_vm.saving}},[_vm._v(\"Save\")])],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog\n    v-model=\"isVisible\"\n    persistent\n    max-width=\"700px\"\n  >\n    <v-card>\n      <v-card-title>\n        <span class=\"headline\">{{isEditMode? `Edit Race Series #${record.id}`: 'New Race Series'}}</span>\n      </v-card-title>\n      <v-form @submit.prevent=\"save\">\n        <v-tabs class=\"mb-5\">\n          <v-tab>Basic Info</v-tab>\n          <v-tab>Points Map</v-tab>\n          <v-tab-item class=\"pt-6\">\n            <v-card-text>\n              <v-row>\n                <v-col cols=\"12\">\n                  <v-text-field v-model=\"record.name\" label=\"Race Series Name\" dense></v-text-field>\n                </v-col>\n                <v-col cols=\"12\">\n                  <v-autocomplete\n                      v-model=\"record._events\"\n                      multiple\n                      dense\n                      label=\"Events\"\n                      :items=\"events\"\n                      item-text=\"name\"\n                      item-value=\"id\"\n                      hide-details\n                      :search-input.sync=\"eventSearchInput\"\n                      :loading=\"findingEvents\"\n                      no-data-text=\"No Result Found! Type here to Search event\"\n                      :menu-props=\"{contentClass:'list-style'}\"\n                      return-object\n                      clearable\n                      class=\"pb-4\"\n                  >\n                    <template #selection=\"data\">\n                      <v-chip small color=\"secondary\" close @click:close=\"record._events.splice(data.index, 1)\"\n                              class=\"mt-1 mb-1\">\n                        {{ data.item.name }}\n                      </v-chip>\n                    </template>\n                    <template #item=\"data\">\n                      <v-list-item-content>\n                        <v-list-item-title class=\"text-sm\">\n                          {{ data.item.name }}\n                        </v-list-item-title>\n                        <v-list-item-subtitle>\n                          {{ $utils.formatDate(data.item.start_date, 'MMM D, YYYY') }} - {{ $utils.formatDate(data.item.end_date, 'MMM D, YYYY') }}\n                        </v-list-item-subtitle>\n                      </v-list-item-content>\n                    </template>\n                    <template #prepend-item>\n                      <v-row class=\"pl-1 pr-1 mb-1\">\n                        <v-col cols=\"12\" md=\"6\">\n                          <v-menu v-model=\"eventFromDate\" :close-on-content-click=\"false\"\n                              :nudge-right=\"40\" transition=\"scale-transition\" offset-y min-width=\"auto\">\n                            <template v-slot:activator=\"{ on, attrs }\">\n                              <v-text-field class=\"pt-0 pb-0\" v-model=\"eventFiltering.from_date\" label=\"From Date\" hide-details\n                                            v-bind=\"attrs\" v-on=\"on\" dense readonly clearable filled>\n                              </v-text-field>\n                            </template>\n                            <v-date-picker v-model=\"eventFiltering.from_date\" color=\"primary\" @input=\"eventFromDate = false\">\n                            </v-date-picker>\n                          </v-menu>\n                        </v-col>\n                        <v-col cols=\"12\" md=\"6\">\n                          <v-menu v-model=\"eventToDate\" :close-on-content-click=\"false\"\n                              :nudge-right=\"40\" transition=\"scale-transition\" offset-y min-width=\"auto\">\n                            <template v-slot:activator=\"{ on, attrs }\">\n                              <v-text-field class=\"pt-0 pb-0\" v-model=\"eventFiltering.to_date\" label=\"To Date\" hide-details\n                                            v-bind=\"attrs\" v-on=\"on\" dense readonly clearable filled>\n                              </v-text-field>\n                            </template>\n                            <v-date-picker v-model=\"eventFiltering.to_date\" color=\"primary\" @input=\"eventToDate = false\">\n                            </v-date-picker>\n                          </v-menu>\n                        </v-col>\n                      </v-row>\n                    </template>\n                  </v-autocomplete>\n                </v-col>\n                <v-col cols=\"12\">\n                  <v-autocomplete\n                      v-model=\"record._races\"\n                      multiple\n                      dense\n                      label=\"Races\"\n                      :items=\"races\"\n                      item-text=\"name\"\n                      item-value=\"id\"\n                      :menu-props=\"{contentClass:'list-style'}\"\n                      :disabled=\"!(record._events || []).length\"\n                      return-object\n                  >\n                    <template #selection=\"data\">\n                      <v-chip small color=\"primary\" close @click:close=\"record._races.splice(data.index, 1)\"\n                              class=\"mt-1 mb-1\">\n                        {{ data.item.name }}\n                      </v-chip>\n                    </template>\n                    <template #item=\"data\">\n                      <v-list-item-content>\n                        <v-list-item-title class=\"text-sm\">\n                          {{ data.item.name }}\n                        </v-list-item-title>\n                        <v-list-item-subtitle>\n                          {{ $utils.formatDate(data.item.start_datetime, 'MMM D, YYYY') }} - <small>{{data.item._event.name}}</small>\n                        </v-list-item-subtitle>\n                      </v-list-item-content>\n                    </template>\n                    <template #prepend-item>\n                      <v-list-item>\n                        <v-row align=\"center\" justify=\"space-around\">\n                          <v-btn depressed @click=\"record._races=[...races]\">\n                            <v-icon>{{icons.mdiCheckboxMultipleMarkedOutline}}</v-icon> Select All\n                          </v-btn>\n                          <v-btn depressed @click=\"record._races=[]\">\n                            <v-icon>{{icons.mdiCheckboxMultipleBlankOutline}}</v-icon> Unselect All\n                          </v-btn>\n                        </v-row>\n                      </v-list-item>\n                    </template>\n                  </v-autocomplete>\n                </v-col>\n                <v-col cols=\"12\">\n                  <v-autocomplete\n                      v-model=\"record._categories\"\n                      multiple\n                      dense\n                      label=\"Categories\"\n                      :items=\"categories\"\n                      item-text=\"title\"\n                      item-value=\"id\"\n                      return-object\n                  >\n                    <template #selection=\"data\">\n                      <v-chip small color=\"info\" close @click:close=\"record._categories.splice(data.index, 1)\"\n                              class=\"mt-1 mb-1\">\n                        {{ data.item.title }}\n                      </v-chip>\n                    </template>\n                  </v-autocomplete>\n                </v-col>\n\n              </v-row>\n            </v-card-text>\n          </v-tab-item>\n          <v-tab-item class=\"pt-6\">\n            <v-card-text>\n              <v-alert border=\"left\" color=\"primary\" text dense>\n                Enter Points of every place here!\n              </v-alert>\n              <v-row>\n                <v-col cols=\"3\" :key=\"`points-map-${p}`\" v-for=\"p in pointsMapCount\">\n<!--                  <div class=\"font-weight-medium\">#{{p}}:</div>-->\n                  <v-text-field type=\"number\" min=\"0\" step=\"1\" v-model.number=\"record.points_map[p]\" outlined hide-details dense\n                                :label=\"`Place #${p}`\"></v-text-field>\n                </v-col>\n              </v-row>\n              <v-row>\n                <v-col cols=\"12\">\n                  <v-btn plain x-small color=\"primary\" @click=\"pointsMapCount+=4\">\n                    <v-icon x-small>{{icons.mdiPlusCircleOutline}}</v-icon> Add More Places\n                  </v-btn>\n                </v-col>\n              </v-row>\n\n            </v-card-text>\n          </v-tab-item>\n        </v-tabs>\n        <v-card-text v-if=\"confirmDelete\">\n          <v-alert type=\"warning\" dense text :icon=\"icons.mdiAlert\">\n            <p>If you delete it, all related records will be deleted! Are you sure?</p>\n            <v-btn color=\"error\" outlined small :loading=\"deleting\" @click=\"deleteRecord()\">Yes, Delete It</v-btn>\n            <v-btn color=\"secondary\" @click=\"confirmDelete=false\" small text class=\"ml-1\">Cancel</v-btn>\n          </v-alert>\n        </v-card-text>\n        <v-card-actions>\n          <template v-if=\"isEditMode\" >\n            <v-btn color=\"error\" outlined @click=\"confirmDelete=true\" :disabled=\"confirmDelete\">\n              <v-icon>{{icons.mdiDelete}}</v-icon>Delete\n            </v-btn>\n          </template>\n          <v-spacer></v-spacer>\n          <v-btn color=\"secondary\" outlined @click=\"hide()\">Close</v-btn>\n          <v-btn color=\"primary\" type=\"submit\" :loading=\"saving\">Save</v-btn>\n        </v-card-actions>\n      </v-form>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport {\n  mdiDelete,\n  mdiAlert,\n  mdiCalendar,\n  mdiClock,\n  mdiCheckboxMultipleMarkedOutline,\n  mdiCheckboxMultipleBlankOutline,\n  mdiPlusCircleOutline,\n} from '@mdi/js'\nimport {ref, computed} from '@vue/composition-api'\nimport axios from \"@/axios\";\nimport {formatDate, notifyDefaultServerError, notifySuccess} from \"@/composables/utils\";\nimport {watch} from \"@vue/composition-api/dist/vue-composition-api\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\n\nexport default {\n  props: {\n    organization: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props, context) {\n    const isVisible = ref(false);\n    const record = ref({_events: null, _races: null, _categories: null, points_map: {}});\n    const saving = ref(false);\n    const deleting = ref(false);\n    const confirmDelete = ref(false);\n    const isEditMode = computed(() => !!record.value.id);\n    const races = ref([]);\n    const categories = ref([]);\n    const events = ref([]);\n    const eventSearchInput = ref('');\n    const findingEvents = ref(false);\n    const eventFromDate = ref();\n    const eventToDate = ref();\n    const eventFiltering = ref({});\n    const pointsMapCount = ref(20);\n\n    watch(eventSearchInput, () => {\n      findEventsDebounce(eventSearchInput.value);\n    });\n\n    watch(() => eventFiltering, (currentValue, oldValue) => {\n        findEvents(eventSearchInput.value);\n      },\n      { deep: true }\n    );\n\n    const findEvents = (search, ids) => {\n      if (findingEvents.value) {\n        return;\n      }\n      var params = {search: search};\n      if (ids && ids.length) {\n        params.id__in = ids.join();\n      }\n      if (eventFiltering.value.from_date) {\n        params.start_date__gte = eventFiltering.value.from_date\n      }\n      if (eventFiltering.value.to_date) {\n        params.start_date__lte = eventFiltering.value.to_date\n      }\n      findingEvents.value = true;\n      axios.get(\"cycling_org/event/\", {params: params, include_org_private: props.organization.id}).then((response) => {\n        findingEvents.value = false;\n        events.value = _.unionBy(response.data.results, record.value._events || [], r => r.id);\n      }, (error) => {\n        findingEvents.value = false;\n        notifyDefaultServerError(error, true)\n      });\n    };\n\n    const findEventsDebounce = _.debounce(findEvents, 500);\n\n    const loadRaces = () => {\n      if (!(record.value._events || []).length) {\n        record.value._races = [];\n        return;\n      }\n      var params = {\n        event: record.value._events.map(r => r.id),\n        page_size: 0\n      };\n      axios.get(\"cycling_org/race/\", {params: params}).then((response) => {\n        races.value = _.unionBy(response.data.results, record.value._races || [], r => r.id);\n      }, (error) => {\n        notifyDefaultServerError(error, true)\n      });\n    };\n\n    watch(\n        () => record.value._events,\n        (current, old) => {\n          loadRaces()\n        },\n        { deep: true }\n    );\n\n    const loadCategories = () => {\n      var params = {\n        organization: props.organization.id,\n        page_size: 0\n      };\n      axios.get(\"cycling_org/category/\", {params: params}).then((response) => {\n        categories.value = response.data.results;\n      }, (error) => {\n        notifyDefaultServerError(error, true)\n      });\n    };\n\n    const deleteRecord = () => {\n      deleting.value = true;\n      axios.delete(`cycling_org/race_series/${record.value.id}`).then((response) => {\n        deleting.value = false;\n        notifySuccess(`Race Series #${record.value.id} deleted.`);\n        hide();\n        context.emit('delete-successed', record.value);\n      }, (error) => {\n        deleting.value = false;\n        notifyDefaultServerError(error, true);\n      });\n    };\n\n    const save = () => {\n      var data = Object.assign({}, record.value);\n      var url = \"cycling_org/race_series\",\n          httpMethod = axios.post,\n          successMsg = \"Race Series added successfully.\";\n      if (isEditMode.value) {\n        url = `cycling_org/race_series/${record.value.id}`;\n        httpMethod = axios.patch;\n        successMsg = \"Race Series updated successfully.\"\n      } else {\n        data.organization = props.organization.id;\n      }\n      data.events = data._events.map(r => r.id);\n      data.races = data._races.map(r => r.id);\n      data.categories = data._categories.map(r => r.id);\n      delete data._events;\n      delete data._races;\n      delete data._categories;\n      saving.value = true;\n      httpMethod(url, data).then((response) => {\n        saving.value = false;\n        notifySuccess(successMsg);\n        hide();\n        context.emit('save-successed', response.data);\n      }, (error) => {\n        saving.value = false;\n        notifyDefaultServerError(error, true);\n      });\n    };\n\n    const hide = () => {\n      isVisible.value = false;\n    };\n    const show = (r) => {\n      record.value = Object.assign({_events: null, _races: null, _categories: null, points_map: {}}, r);\n      record.value._events = events.value = [...(record.value._events || [])]; // copy events\n      record.value._races = races.value = [...(record.value._races || [])]; // copy races\n      record.value._categories = categories.value = [...(record.value._categories || [])]; // copy categories\n      if (!record.value.points_map) {\n        record.value.points_map = {};\n      }\n      pointsMapCount.value = _.max([_.maxBy(Object.keys(record.value.points_map), r => r * 1) * 1, 20]);\n      confirmDelete.value = false;\n      deleting.value = false;\n      saving.value = false;\n      if (record.value.events && record.value.events.length) {\n        findEvents('', record.value.events);\n      }\n      loadCategories();\n      isVisible.value = true;\n    };\n\n    return {\n      isVisible,\n      confirmDelete,\n      isEditMode,\n      record,\n      saving,\n      deleting,\n      deleteRecord,\n      hide,\n      show,\n      save,\n      eventSearchInput,\n      categories,\n      races,\n      events,\n      findingEvents,\n      findEvents,\n      findEventsDebounce,\n      eventFromDate,\n      eventToDate,\n      eventFiltering,\n      pointsMapCount,\n      icons: {\n        mdiDelete,\n        mdiAlert,\n        mdiCalendar,\n        mdiClock,\n        mdiCheckboxMultipleMarkedOutline,\n        mdiCheckboxMultipleBlankOutline,\n        mdiPlusCircleOutline,\n      },\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationRaceSeriesFormDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationRaceSeriesFormDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrganizationRaceSeriesFormDialog.vue?vue&type=template&id=33c6d2b0&\"\nimport script from \"./OrganizationRaceSeriesFormDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationRaceSeriesFormDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VAutocomplete,VBtn,VCard,VCardActions,VCardText,VCardTitle,VChip,VCol,VDatePicker,VDialog,VForm,VIcon,VListItem,VListItemContent,VListItemSubtitle,VListItemTitle,VMenu,VRow,VSpacer,VTab,VTabItem,VTabs,VTextField})\n","<template>\n  <div class=\"organization-profile-race-series-tab\">\n    <v-card>\n      <v-card-text class=\"pt-2 pb-2 pr-2 pl-2\">\n        <v-row>\n          <v-col cols=\"12\">\n            <v-autocomplete\n                v-model=\"tableFiltering.events\"\n                outlined\n                dense\n                label=\"Filter by Event\"\n                :items=\"events\"\n                item-text=\"name\"\n                item-value=\"id\"\n                hide-details\n                :search-input.sync=\"eventSearchInput\"\n                :loading=\"findingEvents\"\n                no-data-text=\"No Result Found! Type here to Search event\"\n                :menu-props=\"{contentClass:'list-style'}\"\n                return-object\n                clearable\n            >\n              <template #selection=\"data\">\n                <span class=\"d-block font-weight-medium text-truncate\">\n                  {{ data.item.name }}\n                </span>\n              </template>\n              <template #item=\"data\">\n                <v-list-item-content>\n                  <v-list-item-title class=\"text-sm\">\n                    {{ data.item.name }}\n                  </v-list-item-title>\n                  <v-list-item-subtitle>\n                    {{ $utils.formatDate(data.item.start_date, 'MMM D, YYYY') }} - {{ $utils.formatDate(data.item.end_date, 'MMM D, YYYY') }}\n                  </v-list-item-subtitle>\n                </v-list-item-content>\n              </template>\n            </v-autocomplete>\n          </v-col>\n        </v-row>\n      </v-card-text>\n      <v-divider></v-divider>\n      <v-card-text class=\"d-flex align-center flex-wrap pb-0\">\n        <div class=\"d-flex align-center pb-5\">\n          <v-btn fab x-small color=\"info\" class=\"mr-1\" @click=\"loadRecords(1);\">\n            <v-icon>{{icons.mdiRefresh}}</v-icon>\n          </v-btn>\n          <v-btn v-if=\"organization.my_level.is_admin\" small color=\"primary\" class=\"me-1\"\n                 @click=\"$refs.formDialogRef.show(null)\">\n            <v-icon size=\"18\" class=\"me-1\">\n              {{ icons.mdiPlus }}\n            </v-icon>\n            <span>New Race Series</span>\n          </v-btn>\n        </div>\n\n        <v-spacer></v-spacer>\n\n        <div class=\"d-flex align-center pb-5\">\n          <v-text-field\n              :value=\"tableFiltering.search\"\n              @change=\"value => $set(tableFiltering, 'search', value)\"\n              @click:clear=\"$set(tableFiltering, 'search', null)\"\n              dense clearable hide-details\n              placeholder=\"Search ...\" class=\"me-3 search-input\"\n          ></v-text-field>\n\n        </div>\n      </v-card-text>\n\n      <v-data-table\n        :headers=\"tableColumns\"\n        :items=\"records\"\n        :options.sync=\"tableOptions\"\n        @update:options=\"loadRecords()\"\n        :server-items-length=\"pagination.total\"\n        :loading=\"loading\"\n        class=\"text-no-wrap\"\n        :footer-props=\"{'items-per-page-options': $const.DEFAULT_TABLE_PER_PAGE_OPTIONS, 'show-current-page': true, 'show-first-last-page': true}\"\n      >\n        <template #item.events=\"{item}\">\n          <v-tooltip bottom>\n            <template #activator=\"{ on, attrs }\">\n              <div v-on=\"on\" v-bind=\"attrs\" class=\"text-truncate\">\n                <v-chip lable small color=\"secondary\" v-for=\"r in item._events\" :key=\"r.id\" class=\"mr-1\">{{r.name}}</v-chip>\n              </div>\n            </template>\n            <span>\n              <v-chip lable small color=\"secondary\" v-for=\"r in item._events\" :key=\"r.id\" class=\"mr-1\">{{r.name}}</v-chip>\n            </span>\n          </v-tooltip>\n        </template>\n        <template #item.races=\"{item}\">\n          <v-tooltip bottom>\n            <template #activator=\"{ on, attrs }\">\n              <div v-on=\"on\" v-bind=\"attrs\" class=\"text-truncate\">\n                <v-chip lable small color=\"primary\" v-for=\"r in item._races\" :key=\"r.id\" class=\"mr-1\">{{r.name}}</v-chip>\n              </div>\n            </template>\n            <span>\n              <v-chip lable small color=\"primary\" v-for=\"r in item._races\" :key=\"r.id\" class=\"mr-1\">{{r.name}}</v-chip>\n            </span>\n          </v-tooltip>\n        </template>\n        <template #item.categories=\"{item}\">\n          <v-tooltip bottom>\n            <template #activator=\"{ on, attrs }\">\n              <div v-on=\"on\" v-bind=\"attrs\" class=\"text-truncate\">\n                <v-chip lable small color=\"info\" v-for=\"r in item._categories\" :key=\"r.id\" class=\"mr-1\">{{r.title}}</v-chip>\n              </div>\n            </template>\n            <span>\n              <v-chip lable small color=\"info\" v-for=\"r in item._categories\" :key=\"r.id\" class=\"mr-1\">{{r.title}}</v-chip>\n            </span>\n          </v-tooltip>\n        </template>\n        <template #item.name=\"{item}\">\n          <span class=\"text-truncate font-weight-semibold\">\n            {{item.name}}\n          </span>\n        </template>\n        <template #item.create_datetime=\"{item}\">\n          <span class=\"pr-1\">{{$utils.formatDate(item.create_datetime, 'M/D/YY')}}</span>\n          <span class=\"text-caption\">{{$utils.formatDate(item.create_datetime, 'HH:mm')}}</span>\n        </template>\n\n        <!-- actions -->\n        <template #item.actions=\"{item}\">\n          <div class=\"d-flex align-end justify-end\">\n            <v-tooltip bottom>\n              <template #activator=\"{ on, attrs }\">\n                <v-btn icon small v-bind=\"attrs\" v-on=\"on\" @click=\"$refs.formDialogRef.show(item)\">\n                  <v-icon size=\"18\">\n                    {{ icons.mdiPencilOutline }}\n                  </v-icon>\n                </v-btn>\n              </template>\n              <span>Edit</span>\n            </v-tooltip>\n          </div>\n        </template>\n\n      </v-data-table>\n    </v-card>\n    <organization-race-series-form-dialog :organization=\"organization\" ref=\"formDialogRef\" @save-successed=\"loadRecords(1)\"\n                                    @delete-successed=\"loadRecords(1)\">\n    </organization-race-series-form-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  mdiPlus,\n  mdiPencilOutline,\n  mdiEyeOutline,\n  mdiAccountGroupOutline,\n  mdiAccountMultipleOutline,\n  mdiClose,\n  mdiCheck,\n  mdiInformationOutline,\n  mdiRefresh,\n  mdiAccountCheck,\n  mdiFileExcelOutline,\n  mdiPodiumGold,\n} from '@mdi/js'\n\nimport { ref, reactive, watch, onMounted } from '@vue/composition-api'\nimport axios from \"@/axios\";\nimport {notifyDefaultServerError, notifySuccess, refineVTableOptions} from \"@/composables/utils\";\nimport _ from \"lodash\";\nimport OrganizationRaceSeriesFormDialog from \"./OrganizationRaceSeriesFormDialog\";\n\nexport default {\n  components: {OrganizationRaceSeriesFormDialog},\n  props: {\n    organization: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props, context) {\n    const records = ref([]);\n    const pagination = ref({total: 0});\n    const loading = ref(false);\n    const tableOptions = ref({});\n    const tableFiltering = ref({});\n    const tableColumns = [\n      {text: '#ID', value: 'id', align: 'start',},\n      {text: 'NAME', value: 'name'},\n      {text: 'EVENTS', value: 'events', cellClass: 'events-td', sortable: false},\n      {text: 'RACES', value: 'races', cellClass: 'races-td', sortable: false},\n      {text: 'CATEGORIES', value: 'categories', cellClass: 'categories-td', sortable: false},\n      // {text: 'CREATED AT', value: 'create_datetime'},\n    ];\n    if (props.organization.my_level.is_admin) {\n      tableColumns.push({text: 'ACTIONS', value: 'actions', align: 'end', sortable: false})\n    }\n    const events = ref([]);\n    const eventSearchInput = ref('');\n    const findingEvents = ref(false);\n\n    watch(eventSearchInput, () => {\n      findEventsDebounce(eventSearchInput.value);\n    });\n\n    const findEvents = (search, ids) => {\n      if (findingEvents.value) {\n        return;\n      }\n      findingEvents.value = true;\n      axios.get(\"cycling_org/event/\", {params: {search: search, include_org_private: props.organization.id}}).then((response) => {\n        findingEvents.value = false;\n        events.value = response.data.results;\n      }, (error) => {\n        findingEvents.value = false;\n        notifyDefaultServerError(error, true)\n      });\n    };\n\n    const findEventsDebounce = _.debounce(findEvents, 500);\n\n    const loadRecords = (page) => {\n      if (page) {\n        tableOptions.value.page = page;\n      }\n      const params = Object.assign({organization: props.organization.id}, tableFiltering.value, refineVTableOptions(tableOptions.value));\n      if (params.events) {\n        params.events = params.events.id\n      } else {\n        delete params.events;\n      }\n      loading.value = true;\n      axios.get(\"cycling_org/race_series/\", {params: params}).then((response) => {\n        loading.value = false;\n        records.value = response.data.results;\n        pagination.value = response.data.pagination;\n      }, (error) => {\n        loading.value = false;\n        notifyDefaultServerError(error, true)\n      });\n    };\n    watch(() => tableFiltering, (currentValue, oldValue) => {\n        loadRecords(1);\n      },\n      { deep: true }\n    );\n\n    onMounted(() => {\n    });\n\n    return {\n      records,\n      eventSearchInput,\n      events,\n      findEvents,\n      findEventsDebounce,\n      findingEvents,\n      tableColumns,\n      tableOptions,\n      tableFiltering,\n      loading,\n      pagination,\n      loadRecords,\n      icons: {\n        mdiPlus,\n        mdiPencilOutline,\n        mdiEyeOutline,\n        mdiAccountGroupOutline,\n        mdiAccountMultipleOutline,\n        mdiClose,\n        mdiCheck,\n        mdiInformationOutline,\n        mdiRefresh,\n        mdiAccountCheck,\n        mdiFileExcelOutline,\n        mdiPodiumGold,\n      },\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.organization-profile-race-series-tab {\n  .search-input {\n    max-width: 10.625rem;\n  }\n  td.races-td {\n    max-width: 250px;\n  }\n  td.events-td {\n    max-width: 250px;\n  }\n  td.categories-td {\n    max-width: 250px;\n  }\n\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationRaceSeriesTab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationRaceSeriesTab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrganizationRaceSeriesTab.vue?vue&type=template&id=cef68508&\"\nimport script from \"./OrganizationRaceSeriesTab.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationRaceSeriesTab.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrganizationRaceSeriesTab.vue?vue&type=style&index=0&id=cef68508&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VAutocomplete,VBtn,VCard,VCardText,VChip,VCol,VDataTable,VDivider,VIcon,VListItemContent,VListItemSubtitle,VListItemTitle,VRow,VSpacer,VTextField,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"organization-profile-race-results-tab\"},[_c('v-card',[_c('v-card-text',{staticClass:\"pt-2 pb-2 pr-2 pl-2\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-autocomplete',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"Choose a Race-Series\",\"items\":_vm.raceSeries,\"item-text\":\"name\",\"item-value\":\"id\",\"hide-details\":\"\",\"search-input\":_vm.raceSeriesSearchInput,\"loading\":_vm.findingRaceSeries,\"no-data-text\":\"No Result Found! Type here to Search Race-Series\",\"menu-props\":{contentClass:'list-style'},\"return-object\":\"\",\"clearable\":\"\"},on:{\"update:searchInput\":function($event){_vm.raceSeriesSearchInput=$event},\"update:search-input\":function($event){_vm.raceSeriesSearchInput=$event}},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c('span',{staticClass:\"d-block font-weight-medium text-truncate\"},[_vm._v(\" \"+_vm._s(data.item.name)+\" \")])]}},{key:\"item\",fn:function(data){return [_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"text-sm\"},[_vm._v(\" \"+_vm._s(data.item.name)+\" \")]),_c('v-list-item-subtitle',_vm._l(((data.item._events || [])),function(e){return _c('v-chip',{key:e.id,staticClass:\"mr-1\",attrs:{\"x-small\":\"\"}},[_vm._v(\" \"+_vm._s(e.name)+\" \")])}),1)],1)]}}]),model:{value:(_vm.selectedRaceSeries),callback:function ($$v) {_vm.selectedRaceSeries=$$v},expression:\"selectedRaceSeries\"}})],1)],1)],1),_c('v-divider'),_c('v-card-text',{staticClass:\"d-flex align-center flex-wrap pb-0\"},[_c('div',{staticClass:\"d-flex align-center pb-5\"},[_c('v-btn',{staticClass:\"mr-1\",attrs:{\"fab\":\"\",\"x-small\":\"\",\"color\":\"info\"},on:{\"click\":function($event){return _vm.loadRecords(1);}}},[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiRefresh))])],1),(_vm.organization.my_level.is_admin)?_c('v-btn',{staticClass:\"me-1\",attrs:{\"small\":\"\",\"color\":\"primary\",\"disabled\":!_vm.selectedRaceSeries},on:{\"click\":function($event){return _vm.$refs.formDialogRef.show(null, _vm.selectedRaceSeries)}}},[_c('v-icon',{staticClass:\"me-1\",attrs:{\"size\":\"18\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiPlus)+\" \")]),_c('span',[_vm._v(\"Race Series Result\")])],1):_vm._e(),(_vm.organization.my_level.is_admin)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"me-1\",attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"info\",\"disabled\":!_vm.selectedRaceSeries},on:{\"click\":function($event){return _vm.$refs.importDialogRef.show(_vm.selectedRaceSeries)}}},'v-btn',attrs,false),on),[_c('v-icon',{staticClass:\"me-1\",attrs:{\"size\":\"18\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiFileExcelOutline)+\" \")]),_c('span',[_vm._v(\"Import\")])],1)]}}],null,false,3637951942)},[_c('span',[_vm._v(\"Import results from CSV file\")])]):_vm._e()],1),_c('v-spacer'),_c('div',{staticClass:\"d-flex align-center pb-5\"},[_c('v-text-field',{staticClass:\"me-3 search-input\",attrs:{\"value\":_vm.tableFiltering.search,\"dense\":\"\",\"clearable\":\"\",\"hide-details\":\"\",\"placeholder\":\"Search ...\"},on:{\"change\":function (value) { return _vm.$set(_vm.tableFiltering, 'search', value); },\"click:clear\":function($event){return _vm.$set(_vm.tableFiltering, 'search', null)}}})],1)],1),_c('v-data-table',{staticClass:\"text-no-wrap\",attrs:{\"headers\":_vm.tableColumns,\"items\":_vm.records,\"options\":_vm.tableOptions,\"server-items-length\":_vm.pagination.total,\"loading\":_vm.loading,\"footer-props\":{'items-per-page-options': _vm.$const.DEFAULT_TABLE_PER_PAGE_OPTIONS, 'show-current-page': true, 'show-first-last-page': true}},on:{\"update:options\":[function($event){_vm.tableOptions=$event},function($event){return _vm.loadRecords()}]},scopedSlots:_vm._u([{key:\"item.rider\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"d-flex align-center\"},[_c('v-avatar',{staticClass:\"v-avatar-light-bg success--text\",attrs:{\"color\":\"success\",\"size\":\"30\"}},[(item._race_result._rider && item._race_result._rider._user.avatar)?_c('v-img',{attrs:{\"src\":item._race_result._rider._user.avatar}}):_c('span',{staticClass:\"font-weight-medium\"},[_vm._v(\" \"+_vm._s(_vm.avatarText(item._race_result._rider? item._race_result._rider.first_name: (item._race_result.more_data.first_name || 'N/A')))+\" \")])],1),_c('div',{staticClass:\"d-flex flex-column pl-1\"},[_c('span',{staticClass:\"font-weight-semibold text-truncate text-decoration-none\",attrs:{\"href\":\"javascript:\"}},[(item._race_result._rider)?_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(_vm._s(_vm.icons.mdiAccountCheck))]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.displayRiderName(item))+\" \")],1)])],1)]}},{key:\"item.race\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"d-flex flex-column\"},[_c('span',{staticClass:\"font-weight-semibold text-truncate\"},[_vm._v(\" \"+_vm._s(item._race_result._race.name)+\" \")]),_c('span',{staticClass:\"text-xs text-truncate\"},[_vm._v(\" \"+_vm._s(item._race_result._race._event.name)+\" \")])])]}},{key:\"item.race_series\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"d-flex flex-column\"},[_c('span',{staticClass:\"font-weight-semibold text-truncate\"},[_vm._v(\" \"+_vm._s(item._race_series.name)+\" \")])])]}},{key:\"item.category\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{staticClass:\"font-weight-medium text-truncate\"},[_vm._v(_vm._s(item._category.title))])]}},{key:\"item.place\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{staticClass:\"font-weight-semibold\"},[_vm._v(_vm._s(item.place))]),(item.place == 1)?_c('v-icon',{staticClass:\"ml-1\",attrs:{\"size\":\"20\",\"color\":\"warning\"}},[_vm._v(_vm._s(_vm.icons.mdiPodiumGold))]):_vm._e()]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"d-flex align-end justify-end\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.$refs.formDialogRef.show(item)}}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"size\":\"18\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiPencilOutline)+\" \")])],1)]}}],null,true)},[_c('span',[_vm._v(\"Edit\")])])],1)]}}])})],1),_c('organization-race-series-result-form-dialog',{ref:\"formDialogRef\",attrs:{\"organization\":_vm.organization},on:{\"save-successed\":function($event){return _vm.loadRecords(1)},\"delete-successed\":function($event){return _vm.loadRecords(1)}}}),_c('organization-import-race-series-results-dialog',{ref:\"importDialogRef\",attrs:{\"organization\":_vm.organization},on:{\"import-successed\":function($event){return _vm.loadRecords(1)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},model:{value:(_vm.isVisible),callback:function ($$v) {_vm.isVisible=$$v},expression:\"isVisible\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.isEditMode? (\"Edit Race Series Result #\" + (_vm.record.id)): 'New Race Series Result'))])]),_c('v-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save.apply(null, arguments)}}},[_c('v-card-text',[_c('v-container',[_c('v-row',[(_vm.record._race_series || _vm.currentRaceSeries)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('div',[_vm._v(\"Race Series: \"),_c('span',{staticClass:\"font-weight-semibold\"},[_vm._v(_vm._s((_vm.record._race_series || _vm.currentRaceSeries).name))])])]):_vm._e(),_c('v-col',{attrs:{\"cols\":\"12 pt-0\"}},[_c('v-divider')],1)],1),_c('v-row',[(_vm.isEditMode)?[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"d-flex align-center\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Rider: \")]),_c('v-avatar',{staticClass:\"v-avatar-light-bg success--text\",attrs:{\"color\":\"success\",\"size\":\"30\"}},[(_vm.record._race_result._rider && _vm.record._race_result._rider._user.avatar)?_c('v-img',{attrs:{\"src\":_vm.record._race_result._rider._user.avatar}}):_c('span',{staticClass:\"font-weight-medium\"},[_vm._v(\" \"+_vm._s(_vm.avatarText(_vm.record._race_result._rider? _vm.record._race_result._rider.first_name: (_vm.record._race_result.more_data.first_name || 'N/A')))+\" \")])],1),_c('div',{staticClass:\"d-flex flex-column pl-1\"},[_c('span',{staticClass:\"font-weight-semibold text-truncate text-decoration-none\",attrs:{\"href\":\"javascript:\"}},[(_vm.record._race_result._rider)?_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(_vm._s(_vm.icons.mdiAccountCheck))]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.displayRiderName(_vm.record))+\" \")],1)])],1)]),_c('v-col',{attrs:{\"cols\":\"12 pt-0\"}},[_c('v-divider')],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"d-flex\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Race: \")]),_c('div',{staticClass:\"d-flex flex-column\"},[_c('span',{staticClass:\"font-weight-semibold text-truncate\"},[_vm._v(\" \"+_vm._s(_vm.record._race_result._race.name)+\" \")]),_c('span',{staticClass:\"text-xs text-truncate\"},[_vm._v(\" \"+_vm._s(_vm.record._race_result._race._event.name)+\" \")])])])]),_c('v-col',{attrs:{\"cols\":\"12 pt-0\"}},[_c('v-divider')],1)]:_vm._e()],2),_c('v-row',[(!_vm.isEditMode)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"type\":\"number\",\"label\":\"Race-Result ID\",\"dense\":\"\"},model:{value:(_vm.record.race_result),callback:function ($$v) {_vm.$set(_vm.record, \"race_result\", $$v)},expression:\"record.race_result\"}})],1):_vm._e(),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-autocomplete',{attrs:{\"dense\":\"\",\"label\":\"Category\",\"items\":_vm.categories,\"item-text\":\"title\",\"item-value\":\"id\",\"return-object\":\"\"},model:{value:(_vm.record._category),callback:function ($$v) {_vm.$set(_vm.record, \"_category\", $$v)},expression:\"record._category\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"type\":\"number\",\"min\":\"1\",\"step\":\"1\",\"dense\":\"\",\"label\":\"Place\"},model:{value:(_vm.record.place),callback:function ($$v) {_vm.$set(_vm.record, \"place\", $$v)},expression:\"record.place\"}})],1)],1)],1)],1),(_vm.confirmDelete)?_c('v-card-text',[_c('v-alert',{attrs:{\"type\":\"warning\",\"dense\":\"\",\"text\":\"\",\"icon\":_vm.icons.mdiAlert}},[_c('p',[_vm._v(\"If you delete it, all related records will be deleted! Are you sure?\")]),_c('v-btn',{attrs:{\"color\":\"error\",\"outlined\":\"\",\"small\":\"\",\"loading\":_vm.deleting},on:{\"click\":function($event){return _vm.deleteRecord()}}},[_vm._v(\"Yes, Delete It\")]),_c('v-btn',{staticClass:\"ml-1\",attrs:{\"color\":\"secondary\",\"small\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.confirmDelete=false}}},[_vm._v(\"Cancel\")])],1)],1):_vm._e(),_c('v-card-actions',[(_vm.isEditMode)?[_c('v-btn',{attrs:{\"color\":\"error\",\"outlined\":\"\",\"disabled\":_vm.confirmDelete},on:{\"click\":function($event){_vm.confirmDelete=true}}},[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiDelete))]),_vm._v(\"Delete \")],1)]:_vm._e(),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"secondary\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.hide()}}},[_vm._v(\"Close\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"type\":\"submit\",\"loading\":_vm.saving}},[_vm._v(\"Save\")])],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog\n    v-model=\"isVisible\"\n    persistent\n    max-width=\"600px\"\n  >\n    <v-card>\n      <v-card-title>\n        <span class=\"headline\">{{isEditMode? `Edit Race Series Result #${record.id}`: 'New Race Series Result'}}</span>\n      </v-card-title>\n      <v-form @submit.prevent=\"save\">\n        <v-card-text>\n          <v-container>\n            <v-row>\n              <v-col cols=\"12\" v-if=\"record._race_series || currentRaceSeries\">\n                <div>Race Series: <span class=\"font-weight-semibold\">{{(record._race_series || currentRaceSeries).name}}</span></div>\n              </v-col>\n              <v-col cols=\"12 pt-0\">\n                <v-divider></v-divider>\n              </v-col>\n            </v-row>\n            <v-row>\n              <template v-if=\"isEditMode\">\n                <v-col cols=\"12\">\n                  <div class=\"d-flex align-center\">\n                    <span class=\"mr-2\">Rider: </span>\n                    <v-avatar color=\"success\" class=\"v-avatar-light-bg success--text\" size=\"30\">\n                      <v-img v-if=\"record._race_result._rider && record._race_result._rider._user.avatar\" :src=\"record._race_result._rider._user.avatar\"></v-img>\n                      <span v-else class=\"font-weight-medium\">\n                        {{ avatarText(record._race_result._rider? record._race_result._rider.first_name: (record._race_result.more_data.first_name || 'N/A')) }}\n                      </span>\n                    </v-avatar>\n\n                    <div class=\"d-flex flex-column pl-1\">\n                      <span href=\"javascript:\" class=\"font-weight-semibold text-truncate text-decoration-none\">\n                        <v-icon v-if=\"record._race_result._rider\" small>{{icons.mdiAccountCheck}}</v-icon> {{ displayRiderName(record) }}\n                      </span>\n                    </div>\n                  </div>\n                </v-col>\n                <v-col cols=\"12 pt-0\">\n                  <v-divider></v-divider>\n                </v-col>\n                <v-col cols=\"12\">\n                  <div class=\"d-flex\">\n                    <span class=\"mr-2\">Race: </span>\n                    <div class=\"d-flex flex-column\">\n                      <span class=\"font-weight-semibold text-truncate\">\n                        {{record._race_result._race.name}}\n                      </span>\n                      <span class=\"text-xs text-truncate\">\n                        {{record._race_result._race._event.name}}\n                      </span>\n                    </div>\n                  </div>\n                </v-col>\n                <v-col cols=\"12 pt-0\">\n                  <v-divider></v-divider>\n                </v-col>\n              </template>\n\n            </v-row>\n            <v-row>\n              <v-col cols=\"12\" v-if=\"!isEditMode\">\n                <v-text-field type=\"number\" v-model=\"record.race_result\" label=\"Race-Result ID\" dense></v-text-field>\n              </v-col>\n\n              <v-col cols=\"12\">\n                <v-autocomplete\n                    v-model=\"record._category\"\n                    dense\n                    label=\"Category\"\n                    :items=\"categories\"\n                    item-text=\"title\"\n                    item-value=\"id\"\n                    return-object\n                >\n                </v-autocomplete>\n              </v-col>\n\n              <v-col cols=\"12\">\n                <v-text-field type=\"number\" min=\"1\" step=\"1\" v-model=\"record.place\" dense label=\"Place\"></v-text-field>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-card-text>\n\n        <v-card-text v-if=\"confirmDelete\">\n          <v-alert type=\"warning\" dense text :icon=\"icons.mdiAlert\">\n            <p>If you delete it, all related records will be deleted! Are you sure?</p>\n            <v-btn color=\"error\" outlined small :loading=\"deleting\" @click=\"deleteRecord()\">Yes, Delete It</v-btn>\n            <v-btn color=\"secondary\" @click=\"confirmDelete=false\" small text class=\"ml-1\">Cancel</v-btn>\n          </v-alert>\n        </v-card-text>\n        <v-card-actions>\n          <template v-if=\"isEditMode\" >\n            <v-btn color=\"error\" outlined @click=\"confirmDelete=true\" :disabled=\"confirmDelete\">\n              <v-icon>{{icons.mdiDelete}}</v-icon>Delete\n            </v-btn>\n          </template>\n          <v-spacer></v-spacer>\n          <v-btn color=\"secondary\" outlined @click=\"hide()\">Close</v-btn>\n          <v-btn color=\"primary\" type=\"submit\" :loading=\"saving\">Save</v-btn>\n        </v-card-actions>\n      </v-form>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport {\n  mdiDelete,\n  mdiAlert,\n} from '@mdi/js'\nimport {ref, computed} from '@vue/composition-api'\nimport axios from \"@/axios\";\nimport {notifyDefaultServerError, notifySuccess} from \"@/composables/utils\";\nimport {watch} from \"@vue/composition-api/dist/vue-composition-api\";\nimport _ from \"lodash\";\nimport {avatarText} from \"@core/utils/filter\";\n\nexport default {\n  props: {\n    organization: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props, context) {\n    const isVisible = ref(false);\n    const record = ref({more_data: {}});\n    const currentRaceSeries = ref(null);\n    const saving = ref(false);\n    const deleting = ref(false);\n    const confirmDelete = ref(false);\n    const categories = ref([]);\n\n    const isEditMode = computed(() => !!record.value.id);\n\n    const loadCategories = () => {\n      var params = {\n        organization: props.organization.id,\n        page_size: 0\n      };\n      axios.get(\"cycling_org/category/\", {params: params}).then((response) => {\n        categories.value = response.data.results;\n      }, (error) => {\n        notifyDefaultServerError(error, true)\n      });\n    };\n\n    const deleteRecord = () => {\n      deleting.value = true;\n      axios.delete(`cycling_org/race_series_result/${record.value.id}`).then((response) => {\n        deleting.value = false;\n        notifySuccess(`Record #${record.value.id} deleted.`);\n        hide();\n        context.emit('delete-successed', record.value);\n      }, (error) => {\n        deleting.value = false;\n        notifyDefaultServerError(error, true);\n      });\n    };\n\n    const displayRiderName = (r) => {\n      var name = '';\n      if (r._race_result._rider) {\n        name = `${r._race_result._rider.first_name} ${r._race_result._rider.last_name}`.trim();\n      } else {\n        name = `${r._race_result.more_data.first_name || ''} ${r._race_result.more_data.last_name || ''}`.trim();\n      }\n      return name || 'N/A'\n    };\n\n    const save = () => {\n      var data = Object.assign({}, record.value);\n      data.rider = data._rider? data._rider.id: null;\n      delete data._rider;\n      var url = \"cycling_org/race_series_result\",\n          httpMethod = axios.post,\n          successMsg = \"Race Series Result added successfully.\";\n      if (isEditMode.value) {\n        url = `cycling_org/race_series_result/${record.value.id}`;\n        httpMethod = axios.patch;\n        successMsg = \"Race Series Result updated successfully.\"\n      } else {\n        data.race_series = currentRaceSeries.value.id;\n        data.organization = props.organization.id;\n      }\n      data.category = data._category && data._category.id;\n      saving.value = true;\n      httpMethod(url, data).then((response) => {\n        saving.value = false;\n        notifySuccess(successMsg);\n        hide();\n        context.emit('save-successed', response.data);\n      }, (error) => {\n        saving.value = false;\n        notifyDefaultServerError(error, true);\n      });\n    };\n\n    const hide = () => {\n      isVisible.value = false;\n    };\n    const show = (r, race) => {\n      record.value = Object.assign({more_data: {}}, r);\n      currentRaceSeries.value = race || null;\n      confirmDelete.value = false;\n      deleting.value = false;\n      saving.value = false;\n      isVisible.value = true;\n      loadCategories();\n    };\n\n    return {\n      isVisible,\n      confirmDelete,\n      isEditMode,\n      record,\n      saving,\n      deleting,\n      categories,\n      deleteRecord,\n      hide,\n      show,\n      save,\n      avatarText,\n      currentRaceSeries,\n      displayRiderName,\n      icons: {\n        mdiDelete,\n        mdiAlert,\n      },\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationRaceSeriesResultFormDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationRaceSeriesResultFormDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrganizationRaceSeriesResultFormDialog.vue?vue&type=template&id=5bf12c3c&\"\nimport script from \"./OrganizationRaceSeriesResultFormDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationRaceSeriesResultFormDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VAutocomplete,VAvatar,VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VContainer,VDialog,VDivider,VForm,VIcon,VImg,VRow,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"width\":\"500\"},model:{value:(_vm.isVisible),callback:function ($$v) {_vm.isVisible=$$v},expression:\"isVisible\"}},[_c('v-card',{staticClass:\"org-import-members-card\"},[_c('v-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.importCsv()}}},[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\" Import Race Series Results From CSV \")]),(_vm.raceSeries)?_c('v-card-text',[_c('div',[_vm._v(\"Race Series: \"),_c('span',{staticClass:\"font-weight-semibold\"},[_vm._v(_vm._s(_vm.raceSeries.name))])])]):_vm._e(),_c('v-divider'),_c('v-card-text',[_c('v-file-input',{ref:\"csvFileRef\",attrs:{\"show-size\":\"\",\"prepend-icon\":_vm.icons.mdiFileExcel,\"label\":\"Choose a CSV file\",\"hide-details\":\"\",\"accept\":\".csv\"},on:{\"change\":_vm.onChangeFile}})],1),_c('v-card-text',[_c('app-card-actions',{ref:\"csvColsCardRef\",attrs:{\"action-collapse\":\"\",\"flat\":\"\",\"outlined\":\"\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('v-icon',{staticClass:\"mr-2\"},[_vm._v(_vm._s(_vm.icons.mdiInformationOutline))]),_vm._v(\" CSV Columns \")]},proxy:true}])},[_c('v-card-text',[_vm._v(\" Your csv file should contains this required columns: \"),_c('ul',[_c('li',[_vm._v(\"id\")]),_c('li',[_vm._v(\"category\")]),_c('li',[_vm._v(\"category_place\")])])])],1)],1),(_vm.failedRecords && _vm.failedRecords.length)?_c('v-card-text',[_c('app-card-actions',{attrs:{\"action-collapse\":\"\",\"flat\":\"\",\"outlined\":\"\",\"color\":\"warning\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiAlertOutline))]),_vm._v(\" Failed Records \")]},proxy:true}],null,false,4268727094)},[_c('pre',{staticClass:\"failed-records\"},[_vm._v(_vm._s(JSON.stringify(_vm.failedRecords, null, 2)))])])],1):_vm._e(),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"secondary\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.hide()}}},[_vm._v(\"Close\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"type\":\"submit\",\"loading\":_vm.importing,\"disabled\":!_vm.csvFile}},[_vm._v(\"Import\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-model=\"isVisible\" persistent width=\"500\">\n    <v-card class=\"org-import-members-card\">\n      <v-form @submit.prevent=\"importCsv()\">\n        <v-card-title class=\"headline\">\n          Import Race Series Results From CSV\n        </v-card-title>\n        <v-card-text v-if=\"raceSeries\">\n          <div>Race Series: <span class=\"font-weight-semibold\">{{raceSeries.name}}</span></div>\n        </v-card-text>\n        <v-divider></v-divider>\n        <v-card-text>\n          <v-file-input show-size :prepend-icon=\"icons.mdiFileExcel\" label=\"Choose a CSV file\" hide-details\n                        @change=\"onChangeFile\"\n                        accept=\".csv\" ref=\"csvFileRef\"></v-file-input>\n        </v-card-text>\n        <v-card-text>\n          <app-card-actions action-collapse flat outlined ref=\"csvColsCardRef\">\n            <template #title>\n              <v-icon class=\"mr-2\">{{icons.mdiInformationOutline}}</v-icon> CSV Columns\n            </template>\n            <v-card-text>\n              Your csv file should contains this required columns:\n              <ul>\n                <li>id</li>\n                <li>category</li>\n                <li>category_place</li>\n              </ul>\n            </v-card-text>\n          </app-card-actions>\n\n        </v-card-text>\n        <v-card-text v-if=\"failedRecords && failedRecords.length\">\n          <app-card-actions action-collapse flat outlined color=\"warning\">\n            <template #title>\n              <v-icon>{{icons.mdiAlertOutline}}</v-icon> Failed Records\n            </template>\n            <pre class=\"failed-records\">{{JSON.stringify(failedRecords, null, 2)}}</pre>\n          </app-card-actions>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"secondary\" outlined @click=\"hide()\">Close</v-btn>\n          <v-btn color=\"primary\" type=\"submit\" :loading=\"importing\" :disabled=\"!csvFile\">Import</v-btn>\n        </v-card-actions>\n\n      </v-form>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport {mdiFileExcel, mdiInformationOutline, mdiAlertOutline} from '@mdi/js';\nimport { ref } from '@vue/composition-api';\nimport axios from \"@/axios\";\nimport {notifyDefaultServerError, notifyInfo} from \"@/composables/utils\";\nimport AppCardActions from \"@core/components/app-card-actions/AppCardActions\";\n\nexport default {\n  components: {AppCardActions},\n  props: {\n    organization: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props, context) {\n    const isVisible = ref(false);\n    const importing = ref(false);\n    const csvFile = ref(null);\n    const csvFileRef = ref(null);\n    const csvColsCardRef = ref(null);\n    const failedRecords = ref([]);\n    const raceSeries = ref(null);\n\n    const hide = () => {\n      isVisible.value = false;\n    };\n\n    const show = (_raceSeries) => {\n      csvFile.value = null;\n      importing.value = false;\n      failedRecords.value = [];\n      isVisible.value = true;\n      raceSeries.value = _raceSeries;\n    };\n\n    const onChangeFile = (file) => {\n      csvFile.value = file || null;\n    };\n\n    const importCsv = () => {\n      importing.value = true;\n      var formData = new FormData(),\n          orgId = props.organization.id,\n          raceSeriesId = raceSeries.value.id;\n      formData.append('file', csvFile.value);\n      axios.post( `cycling_org/race_series_result/organization/${orgId}/race_series/${raceSeriesId}/import_from_csv`,\n          formData, {headers: {'Content-Type': 'multipart/form-data'}}\n      ).then((response) => {\n        importing.value = false;\n        context.emit('import-successed');\n        notifyInfo(`Race Series Results imported. ${response.data.successed} successed. ${response.data.failed.length} failed.`);\n        failedRecords.value = response.data.failed;\n        csvFileRef.value.clearableCallback();\n        if (failedRecords.value && failedRecords.value.length && !csvColsCardRef.value.isContentCollapsed) {\n          csvColsCardRef.value.triggerCollapse();\n        }\n      }, (error) => {\n        importing.value = false;\n        notifyDefaultServerError(error, true);\n      });\n    };\n    \n    return {\n      isVisible,\n      importing,\n      csvFile,\n      csvFileRef,\n      csvColsCardRef,\n      show,\n      hide,\n      importCsv,\n      onChangeFile,\n      failedRecords,\n      raceSeries,\n      icons: {\n        mdiFileExcel,\n        mdiInformationOutline,\n        mdiAlertOutline\n      }\n    }\n  },\n}\n</script>\n\n<style>\n.org-import-members-card .v-card .v-card__title {\n  padding: 10px !important;\n}\n.org-import-members-card pre.failed-records {\n  max-height: 300px;\n  overflow: auto;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationImportRaceSeriesResultsDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationImportRaceSeriesResultsDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrganizationImportRaceSeriesResultsDialog.vue?vue&type=template&id=2e3df0d2&\"\nimport script from \"./OrganizationImportRaceSeriesResultsDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationImportRaceSeriesResultsDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrganizationImportRaceSeriesResultsDialog.vue?vue&type=style&index=0&id=2e3df0d2&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VDivider,VFileInput,VForm,VIcon,VSpacer})\n","<template>\n  <div class=\"organization-profile-race-results-tab\">\n    <v-card>\n      <v-card-text class=\"pt-2 pb-2 pr-2 pl-2\">\n        <v-row>\n          <v-col cols=\"12\">\n            <v-autocomplete\n                v-model=\"selectedRaceSeries\"\n                outlined\n                dense\n                label=\"Choose a Race-Series\"\n                :items=\"raceSeries\"\n                item-text=\"name\"\n                item-value=\"id\"\n                hide-details\n                :search-input.sync=\"raceSeriesSearchInput\"\n                :loading=\"findingRaceSeries\"\n                no-data-text=\"No Result Found! Type here to Search Race-Series\"\n                :menu-props=\"{contentClass:'list-style'}\"\n                return-object\n                clearable\n            >\n              <template #selection=\"data\">\n                <span class=\"d-block font-weight-medium text-truncate\">\n                  {{ data.item.name }}\n                </span>\n              </template>\n              <template #item=\"data\">\n                <v-list-item-content>\n                  <v-list-item-title class=\"text-sm\">\n                    {{ data.item.name }}\n                  </v-list-item-title>\n                  <v-list-item-subtitle>\n                    <v-chip x-small v-for=\"e in (data.item._events || [])\" :key=\"e.id\" class=\"mr-1\">\n                      {{e.name}}\n                    </v-chip>\n                  </v-list-item-subtitle>\n                </v-list-item-content>\n              </template>\n            </v-autocomplete>\n          </v-col>\n        </v-row>\n      </v-card-text>\n      <v-divider></v-divider>\n      <v-card-text class=\"d-flex align-center flex-wrap pb-0\">\n        <div class=\"d-flex align-center pb-5\">\n          <v-btn fab x-small color=\"info\" class=\"mr-1\" @click=\"loadRecords(1);\">\n            <v-icon>{{icons.mdiRefresh}}</v-icon>\n          </v-btn>\n          <v-btn v-if=\"organization.my_level.is_admin\" small color=\"primary\" class=\"me-1\"\n                 @click=\"$refs.formDialogRef.show(null, selectedRaceSeries)\" :disabled=\"!selectedRaceSeries\">\n            <v-icon size=\"18\" class=\"me-1\">\n              {{ icons.mdiPlus }}\n            </v-icon>\n            <span>Race Series Result</span>\n          </v-btn>\n          <v-tooltip v-if=\"organization.my_level.is_admin\" bottom>\n            <template #activator=\"{ on, attrs }\">\n              <v-btn v-bind=\"attrs\" v-on=\"on\" small outlined color=\"info\" class=\"me-1\" :disabled=\"!selectedRaceSeries\" @click=\"$refs.importDialogRef.show(selectedRaceSeries)\">\n                <v-icon size=\"18\" class=\"me-1\">\n                  {{ icons.mdiFileExcelOutline }}\n                </v-icon>\n                <span>Import</span>\n              </v-btn>\n            </template>\n            <span>Import results from CSV file</span>\n          </v-tooltip>\n        </div>\n\n        <v-spacer></v-spacer>\n\n        <div class=\"d-flex align-center pb-5\">\n          <v-text-field\n              :value=\"tableFiltering.search\"\n              @change=\"value => $set(tableFiltering, 'search', value)\"\n              @click:clear=\"$set(tableFiltering, 'search', null)\"\n              dense clearable hide-details\n              placeholder=\"Search ...\" class=\"me-3 search-input\"\n          ></v-text-field>\n\n        </div>\n      </v-card-text>\n\n      <v-data-table\n        :headers=\"tableColumns\"\n        :items=\"records\"\n        :options.sync=\"tableOptions\"\n        @update:options=\"loadRecords()\"\n        :server-items-length=\"pagination.total\"\n        :loading=\"loading\"\n        class=\"text-no-wrap\"\n        :footer-props=\"{'items-per-page-options': $const.DEFAULT_TABLE_PER_PAGE_OPTIONS, 'show-current-page': true, 'show-first-last-page': true}\"\n      >\n        <template #item.rider=\"{item}\">\n          <div class=\"d-flex align-center\">\n            <v-avatar color=\"success\" class=\"v-avatar-light-bg success--text\" size=\"30\">\n              <v-img v-if=\"item._race_result._rider && item._race_result._rider._user.avatar\" :src=\"item._race_result._rider._user.avatar\"></v-img>\n              <span v-else class=\"font-weight-medium\">\n                {{ avatarText(item._race_result._rider? item._race_result._rider.first_name: (item._race_result.more_data.first_name || 'N/A')) }}\n              </span>\n            </v-avatar>\n\n            <div class=\"d-flex flex-column pl-1\">\n              <span href=\"javascript:\" class=\"font-weight-semibold text-truncate text-decoration-none\">\n                <v-icon v-if=\"item._race_result._rider\" small>{{icons.mdiAccountCheck}}</v-icon> {{ displayRiderName(item) }}\n              </span>\n            </div>\n          </div>\n        </template>\n        <template #item.race=\"{item}\">\n          <div class=\"d-flex flex-column\">\n            <span class=\"font-weight-semibold text-truncate\">\n              {{item._race_result._race.name}}\n            </span>\n            <span class=\"text-xs text-truncate\">\n              {{item._race_result._race._event.name}}\n            </span>\n          </div>\n        </template>\n\n        <template #item.race_series=\"{item}\">\n          <div class=\"d-flex flex-column\">\n            <span class=\"font-weight-semibold text-truncate\">\n              {{item._race_series.name}}\n            </span>\n          </div>\n        </template>\n        <template #item.category=\"{item}\">\n          <span class=\"font-weight-medium text-truncate\">{{item._category.title}}</span>\n        </template>\n        <template #item.place=\"{item}\">\n          <span class=\"font-weight-semibold\">{{item.place}}</span>\n          <v-icon size=\"20\" color=\"warning\" v-if=\"item.place == 1\" class=\"ml-1\">{{ icons.mdiPodiumGold }}</v-icon>\n        </template>\n\n        <!-- actions -->\n        <template #item.actions=\"{item}\">\n          <div class=\"d-flex align-end justify-end\">\n            <v-tooltip bottom>\n              <template #activator=\"{ on, attrs }\">\n                <v-btn icon small v-bind=\"attrs\" v-on=\"on\" @click=\"$refs.formDialogRef.show(item)\">\n                  <v-icon size=\"18\">\n                    {{ icons.mdiPencilOutline }}\n                  </v-icon>\n                </v-btn>\n              </template>\n              <span>Edit</span>\n            </v-tooltip>\n          </div>\n        </template>\n\n      </v-data-table>\n    </v-card>\n    <organization-race-series-result-form-dialog :organization=\"organization\" ref=\"formDialogRef\" @save-successed=\"loadRecords(1)\"\n                                          @delete-successed=\"loadRecords(1)\">\n    </organization-race-series-result-form-dialog>\n    <organization-import-race-series-results-dialog ref=\"importDialogRef\" :organization=\"organization\"\n                                             @import-successed=\"loadRecords(1)\">\n    </organization-import-race-series-results-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  mdiPlus,\n  mdiPencilOutline,\n  mdiEyeOutline,\n  mdiAccountGroupOutline,\n  mdiAccountMultipleOutline,\n  mdiClose,\n  mdiCheck,\n  mdiInformationOutline,\n  mdiRefresh,\n  mdiAccountCheck,\n  mdiFileExcelOutline,\n  mdiPodiumGold,\n} from '@mdi/js'\n\nimport { ref, reactive, watch, onMounted } from '@vue/composition-api'\nimport store from '@/store'\nimport axios from \"@/axios\";\nimport {notifyDefaultServerError, notifySuccess, refineVTableOptions} from \"@/composables/utils\";\nimport {avatarText} from \"@core/utils/filter\";\nimport OrganizationRaceResultFormDialog from \"./OrganizationRaceResultFormDialog\";\nimport _ from \"lodash\";\nimport OrganizationImportRaceResultsDialog\n  from \"@/views/dashboard/organizationProfile/OrganizationImportRaceResultsDialog\";\nimport OrganizationRaceSeriesResultFormDialog\n  from \"@/views/dashboard/organizationProfile/OrganizationRaceSeriesResultFormDialog\";\nimport OrganizationImportRaceSeriesResultsDialog\n  from \"@/views/dashboard/organizationProfile/OrganizationImportRaceSeriesResultsDialog\";\n\nexport default {\n  components: {\n    OrganizationImportRaceSeriesResultsDialog,\n    OrganizationRaceSeriesResultFormDialog\n  },\n  props: {\n    organization: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props, context) {\n    const records = ref([]);\n    const pagination = ref({total: 0});\n    const loading = ref(false);\n    const tableOptions = ref({});\n    const tableFiltering = ref({});\n    const tableColumns = [\n      {text: '#ID', value: 'id', align: 'start',},\n      {text: 'RACE-SERIES', value: 'race_series', cellClass: 'race-series-td'},\n      {text: 'RACE', value: 'race'},\n      {text: 'RIDER', value: 'rider'},\n      {text: 'CATEGORY', value: 'category'},\n      {text: 'PLACE', value: 'place'},\n    ];\n    if (props.organization.my_level.is_admin) {\n      tableColumns.push({text: 'ACTIONS', value: 'actions', align: 'end', sortable: false,})\n    }\n    const raceSeries = ref([]);\n    const races = ref([]);\n    const raceSeriesSearchInput = ref('');\n    const selectedRaceSeries = ref(null);\n    const findingRaceSeries = ref(false);\n\n    watch(raceSeriesSearchInput, () => {\n      findRaceSeriesDebounce(raceSeriesSearchInput.value);\n    });\n    watch(selectedRaceSeries, () => {\n      loadRecords(1);\n    });\n\n    const findRaceSeries = (search) => {\n      if (findingRaceSeries.value) {\n        raceSeries.value = [];\n        return;\n      }\n      findingRaceSeries.value = true;\n      axios.get(\"cycling_org/race_series/\", {params: {search: search}}).then((response) => {\n        findingRaceSeries.value = false;\n        raceSeries.value = response.data.results;\n      }, (error) => {\n        findingRaceSeries.value = false;\n        notifyDefaultServerError(error, true)\n      });\n    };\n\n    const findRaceSeriesDebounce = _.debounce(findRaceSeries, 500);\n\n    const displayRiderName = (r) => {\n      var name = '';\n      if (r._race_result._rider) {\n        name = `${r._race_result._rider.first_name} ${r._race_result._rider.last_name}`.trim();\n      } else {\n        name = `${r._race_result.more_data.first_name || ''} ${r._race_result.more_data.last_name || ''}`.trim();\n      }\n      return name || 'N/A'\n    };\n\n    const loadRecords = (page) => {\n      if (page) {\n        tableOptions.value.page = page;\n      }\n      const params = Object.assign(\n          {organization: props.organization.id, exfields: '_race_result.more_data'},\n          tableFiltering.value, refineVTableOptions(tableOptions.value));\n      if (selectedRaceSeries.value) {\n        params.race_series = selectedRaceSeries.value.id\n      }\n      loading.value = true;\n      axios.get(\"cycling_org/race_series_result/\", {params: params}).then((response) => {\n        loading.value = false;\n        records.value = response.data.results;\n        pagination.value = response.data.pagination;\n      }, (error) => {\n        loading.value = false;\n        notifyDefaultServerError(error, true)\n      });\n\n    };\n    watch(() => tableFiltering, (currentValue, oldValue) => {\n        loadRecords(1);\n      },\n      { deep: true }\n    );\n\n    onMounted(() => {\n    });\n\n    return {\n      records,\n      raceSeriesSearchInput,\n      raceSeries,\n      races,\n      selectedRaceSeries,\n      findRaceSeries,\n      findRaceSeriesDebounce,\n      findingRaceSeries,\n      displayRiderName,\n      tableColumns,\n      tableOptions,\n      tableFiltering,\n      loading,\n      pagination,\n      avatarText,\n      loadRecords,\n      icons: {\n        mdiPlus,\n        mdiPencilOutline,\n        mdiEyeOutline,\n        mdiAccountGroupOutline,\n        mdiAccountMultipleOutline,\n        mdiClose,\n        mdiCheck,\n        mdiInformationOutline,\n        mdiRefresh,\n        mdiAccountCheck,\n        mdiFileExcelOutline,\n        mdiPodiumGold,\n      },\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.organization-profile-race-results-tab {\n  .search-input {\n    max-width: 10.625rem;\n  }\n  td.race-td {\n    max-width: 250px;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationRaceSeriesResultsTab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationRaceSeriesResultsTab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrganizationRaceSeriesResultsTab.vue?vue&type=template&id=7cec6702&\"\nimport script from \"./OrganizationRaceSeriesResultsTab.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationRaceSeriesResultsTab.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrganizationRaceSeriesResultsTab.vue?vue&type=style&index=0&id=7cec6702&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VAutocomplete,VAvatar,VBtn,VCard,VCardText,VChip,VCol,VDataTable,VDivider,VIcon,VImg,VListItemContent,VListItemSubtitle,VListItemTitle,VRow,VSpacer,VTextField,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"organization-member-fields-tab\"},[_c('v-card',[_c('v-card-text',{staticClass:\"d-flex align-center flex-wrap pb-0\"},[_c('div',{staticClass:\"d-flex align-center pb-5\"},[_c('h2',[_vm._v(\"Race-Series Standings Points\")])])]),_c('v-divider'),_c('v-card-text',{staticClass:\"pt-2 pb-2 pr-2 pl-2\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-autocomplete',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"Choose a Race-Series\",\"items\":_vm.raceSeries,\"item-text\":\"name\",\"item-value\":\"id\",\"hide-details\":\"\",\"search-input\":_vm.raceSeriesSearchInput,\"loading\":_vm.findingRaceSeries,\"no-data-text\":\"No Result Found! Type here to Search Race-Series\",\"menu-props\":{contentClass:'list-style'},\"return-object\":\"\",\"clearable\":\"\"},on:{\"update:searchInput\":function($event){_vm.raceSeriesSearchInput=$event},\"update:search-input\":function($event){_vm.raceSeriesSearchInput=$event}},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c('span',{staticClass:\"d-block font-weight-medium text-truncate\"},[_vm._v(\" \"+_vm._s(data.item.name)+\" \")])]}},{key:\"item\",fn:function(data){return [_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"text-sm\"},[_vm._v(\" \"+_vm._s(data.item.name)+\" \")]),_c('v-list-item-subtitle',_vm._l(((data.item._events || [])),function(e){return _c('v-chip',{key:e.id,staticClass:\"mr-1\",attrs:{\"x-small\":\"\"}},[_vm._v(\" \"+_vm._s(e.name)+\" \")])}),1)],1)]}}]),model:{value:(_vm.selectedRaceSeries),callback:function ($$v) {_vm.selectedRaceSeries=$$v},expression:\"selectedRaceSeries\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-autocomplete',{attrs:{\"disabled\":!_vm.selectedRaceSeries,\"outlined\":\"\",\"dense\":\"\",\"label\":\"Choose a Category\",\"items\":_vm.categories,\"item-text\":\"title\",\"item-value\":\"id\",\"menu-props\":{contentClass:'list-style'},\"loading\":_vm.loadingCategories,\"no-data-text\":\"No Category Found!\",\"hide-details\":\"\",\"clearable\":\"\",\"return-object\":\"\"},model:{value:(_vm.selectedCategory),callback:function ($$v) {_vm.selectedCategory=$$v},expression:\"selectedCategory\"}})],1)],1)],1),_c('v-divider'),_c('v-simple-table',{scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{},[_vm._v(\"Place\")]),_c('th',{},[_vm._v(\"Points\")]),_c('th',{},[_vm._v(\"Rider\")]),_c('th',{staticClass:\"actions text-center\"},[_vm._v(\"Actions\")])])]),_c('tbody',[_vm._l((_vm.records),function(r,idx){return _c('tr',{key:idx},[_c('td',{},[_c('span',{staticClass:\"font-weight-semibold\"},[_vm._v(_vm._s(idx + 1))])]),_c('td',{},[_c('span',{staticClass:\"font-weight-semibold\"},[_vm._v(_vm._s(r.points))])]),_c('td',{},[_c('div',{staticClass:\"d-flex align-center\"},[_c('v-avatar',{staticClass:\"v-avatar-light-bg success--text\",attrs:{\"color\":\"success\",\"size\":\"30\"}},[(r.rider.user && r.rider.user.avatar)?_c('v-img',{attrs:{\"src\":r.rider.user.avatar}}):_c('span',{staticClass:\"font-weight-medium\"},[_vm._v(\" \"+_vm._s(_vm.avatarText(r.rider.first_name || 'N/A'))+\" \")])],1),_c('div',{staticClass:\"d-flex flex-column pl-1\"},[_c('span',{staticClass:\"font-weight-semibold text-truncate text-decoration-none\",attrs:{\"href\":\"javascript:\"}},[(r.rider.id)?_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(_vm._s(_vm.icons.mdiAccountCheck))]):_vm._e(),_vm._v(\" \"+_vm._s(r.rider.first_name)+\" \"+_vm._s(r.rider.last_name)+\" \")],1)])],1)]),_c('td',{staticClass:\"actions text-center\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-1\",attrs:{\"tabindex\":\"-1\",\"x-small\":\"\",\"outlined\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\" Results \")])]}}],null,true)},[_c('span',[_vm._v(\"View Rece-Series Records\")])])],1)])}),(_vm.records.length == 0)?_c('tr',[_c('td',{staticClass:\"text-center\",attrs:{\"colspan\":\"5\"}},[_vm._v(\" No Record! \")])]):_vm._e()],2)]},proxy:true}])})],1),_c('v-overlay',{attrs:{\"value\":_vm.loading,\"absolute\":true,\"opacity\":\"0.3\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"organization-member-fields-tab\">\n    <v-card>\n      <v-card-text class=\"d-flex align-center flex-wrap pb-0\">\n        <div class=\"d-flex align-center pb-5\">\n          <h2>Race-Series Standings Points</h2>\n        </div>\n      </v-card-text>\n      <v-divider></v-divider>\n      <v-card-text class=\"pt-2 pb-2 pr-2 pl-2\">\n        <v-row>\n          <v-col cols=\"12\" md=\"6\">\n            <v-autocomplete\n                v-model=\"selectedRaceSeries\"\n                outlined\n                dense\n                label=\"Choose a Race-Series\"\n                :items=\"raceSeries\"\n                item-text=\"name\"\n                item-value=\"id\"\n                hide-details\n                :search-input.sync=\"raceSeriesSearchInput\"\n                :loading=\"findingRaceSeries\"\n                no-data-text=\"No Result Found! Type here to Search Race-Series\"\n                :menu-props=\"{contentClass:'list-style'}\"\n                return-object\n                clearable\n            >\n              <template #selection=\"data\">\n                <span class=\"d-block font-weight-medium text-truncate\">\n                  {{ data.item.name }}\n                </span>\n              </template>\n              <template #item=\"data\">\n                <v-list-item-content>\n                  <v-list-item-title class=\"text-sm\">\n                    {{ data.item.name }}\n                  </v-list-item-title>\n                  <v-list-item-subtitle>\n                    <v-chip x-small v-for=\"e in (data.item._events || [])\" :key=\"e.id\" class=\"mr-1\">\n                      {{e.name}}\n                    </v-chip>\n                  </v-list-item-subtitle>\n                </v-list-item-content>\n              </template>\n            </v-autocomplete>\n          </v-col>\n          <v-col cols=\"12\" md=\"6\">\n            <v-autocomplete\n                :disabled=\"!selectedRaceSeries\"\n                v-model=\"selectedCategory\"\n                outlined\n                dense\n                label=\"Choose a Category\"\n                :items=\"categories\"\n                item-text=\"title\"\n                item-value=\"id\"\n                :menu-props=\"{contentClass:'list-style'}\"\n                :loading=\"loadingCategories\"\n                no-data-text=\"No Category Found!\"\n                hide-details\n                clearable\n                return-object\n            >\n            </v-autocomplete>\n          </v-col>\n\n        </v-row>\n      </v-card-text>\n      <v-divider></v-divider>\n      <v-simple-table>\n        <template #default>\n          <thead>\n          <tr>\n            <th class=\"\">Place</th>\n            <th class=\"\">Points</th>\n            <th class=\"\">Rider</th>\n            <th class=\"actions text-center\">Actions</th>\n          </tr>\n          </thead>\n          <tbody>\n          <tr v-for=\"(r, idx) in records\" :key=\"idx\">\n            <td class=\"\">\n              <span class=\"font-weight-semibold\">{{ idx + 1 }}</span>\n            </td>\n            <td class=\"\">\n              <span class=\"font-weight-semibold\">{{r.points}}</span>\n            </td>\n            <td class=\"\">\n              <div class=\"d-flex align-center\">\n                <v-avatar color=\"success\" class=\"v-avatar-light-bg success--text\" size=\"30\">\n                  <v-img v-if=\"r.rider.user && r.rider.user.avatar\" :src=\"r.rider.user.avatar\"></v-img>\n                  <span v-else class=\"font-weight-medium\">\n                    {{ avatarText(r.rider.first_name || 'N/A') }}\n                  </span>\n                </v-avatar>\n\n                <div class=\"d-flex flex-column pl-1\">\n                  <span href=\"javascript:\" class=\"font-weight-semibold text-truncate text-decoration-none\">\n                    <v-icon v-if=\"r.rider.id\" small>{{icons.mdiAccountCheck}}</v-icon> {{ r.rider.first_name }} {{ r.rider.last_name }}\n                  </span>\n                </div>\n              </div>\n\n            </td>\n            <td class=\"actions text-center\">\n              <v-tooltip bottom>\n                <template #activator=\"{ on, attrs }\">\n                  <v-btn v-on=\"on\" v-bind=\"attrs\" tabindex=\"-1\" x-small\n                         outlined class=\"mr-1\">\n                    Results\n                  </v-btn>\n                </template>\n                <span>View Rece-Series Records</span>\n              </v-tooltip>\n            </td>\n          </tr>\n          <tr v-if=\"records.length == 0\">\n            <td colspan=\"5\" class=\"text-center\">\n              No Record!\n            </td>\n          </tr>\n          </tbody>\n        </template>\n      </v-simple-table>\n    </v-card>\n    <v-overlay :value=\"loading\" :absolute=\"true\" opacity=\"0.3\">\n      <v-progress-circular indeterminate></v-progress-circular>\n    </v-overlay>\n  </div>\n</template>\n\n<script>\n\nimport {notifyDefaultServerError} from \"@/composables/utils\";\nimport axios from \"@/axios\";\nimport {avatarText} from \"@core/utils/filter\";\nimport {ref} from \"@vue/composition-api\";\nimport {\n  mdiPlusCircleOutline,\n  mdiPlus,\n  mdiCogOutline,\n  mdiDelete,\n  mdiArrowUpThin,\n  mdiAccountCheck,\n} from \"@mdi/js\"\nimport {watch} from \"@vue/composition-api/dist/vue-composition-api\";\nimport _ from \"lodash\";\n\nexport default {\n  props: {\n    organization: {\n      type: Object,\n      required: true\n    },\n  },\n  components: {},\n  setup(props, context) {\n    const records = ref([]);\n    const loading = ref(false);\n    const selectedCategory = ref(null);\n    const raceSeriesSearchInput = ref('');\n    const selectedRaceSeries = ref(null);\n    const findingRaceSeries = ref(false);\n    const loadingCategories = ref(false);\n    const raceSeries = ref([]);\n    const categories = ref([]);\n\n    watch(raceSeriesSearchInput, () => {\n      findRaceSeriesDebounce(raceSeriesSearchInput.value);\n    });\n    watch(selectedRaceSeries, () => {\n      loadRecords(1);\n    });\n    watch(selectedRaceSeries, () => {\n      selectedCategory.value = null;\n      loadCategories();\n    });\n    watch(selectedCategory, () => {\n      loadRecords(1);\n    });\n\n    const loadCategories = () => {\n      if (categories.value.length) {\n        return\n      }\n      loadingCategories.value = true;\n      var params = {organization: props.organization.id, page_size: 0, fields: 'id,title'};\n      axios.get(\"cycling_org/category/\", {params: params}).then((response) => {\n        loadingCategories.value = false;\n        categories.value = response.data.results;\n      }, (error) => {\n        loadingCategories.value = false;\n        notifyDefaultServerError(error, true)\n      });\n\n    };\n\n    const findRaceSeries = (search) => {\n      if (findingRaceSeries.value) {\n        raceSeries.value = [];\n        return;\n      }\n      findingRaceSeries.value = true;\n      axios.get(\"cycling_org/race_series/\", {params: {search: search}}).then((response) => {\n        findingRaceSeries.value = false;\n        raceSeries.value = response.data.results;\n      }, (error) => {\n        findingRaceSeries.value = false;\n        notifyDefaultServerError(error, true)\n      });\n    };\n\n    const findRaceSeriesDebounce = _.debounce(findRaceSeries, 500);\n\n    const loadRecords = () => {\n      if (!selectedRaceSeries.value || !selectedCategory.value) {\n        records.value = [];\n        return;\n      }\n      loading.value = true;\n      var params = {organization: props.organization.id};\n      axios.get(`cycling_org/race_series_result/standing_points/${selectedRaceSeries.value.id}/${selectedCategory.value.id}`,\n          {params: params}).then((response) => {\n        loading.value = false;\n        records.value = response.data.results;\n      }, (error) => {\n        loading.value = false;\n        notifyDefaultServerError(error, true);\n      });\n\n    };\n\n    return {\n      loading,\n      records,\n      loadRecords,\n      selectedRaceSeries,\n      selectedCategory,\n      findRaceSeries,\n      findRaceSeriesDebounce,\n      findingRaceSeries,\n      raceSeriesSearchInput,\n      raceSeries,\n      categories,\n      loadingCategories,\n      avatarText,\n      icons: {\n        mdiPlusCircleOutline,\n        mdiPlus,\n        mdiCogOutline,\n        mdiDelete,\n        mdiArrowUpThin,\n        mdiAccountCheck,\n      }\n    }\n  },\n}\n</script>\n\n<style scoped>\n  th.actions {\n    min-width: 150px;\n    width: 150px;\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationRaceSeriesStandingsTab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationRaceSeriesStandingsTab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrganizationRaceSeriesStandingsTab.vue?vue&type=template&id=68f2796b&scoped=true&\"\nimport script from \"./OrganizationRaceSeriesStandingsTab.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationRaceSeriesStandingsTab.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrganizationRaceSeriesStandingsTab.vue?vue&type=style&index=0&id=68f2796b&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"68f2796b\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VAutocomplete,VAvatar,VBtn,VCard,VCardText,VChip,VCol,VDivider,VIcon,VImg,VListItemContent,VListItemSubtitle,VListItemTitle,VOverlay,VProgressCircular,VRow,VSimpleTable,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"organization-profile-categories-tab\"},[_c('v-card',[_c('v-card-text',{staticClass:\"d-flex align-center flex-wrap pb-0\"},[_c('div',{staticClass:\"d-flex align-center pb-5\"},[_c('v-btn',{staticClass:\"mr-1\",attrs:{\"fab\":\"\",\"x-small\":\"\",\"color\":\"info\"},on:{\"click\":function($event){return _vm.loadRecords(1);}}},[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiRefresh))])],1),(_vm.organization.my_level.is_admin)?_c('v-btn',{staticClass:\"me-1\",attrs:{\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.formDialogRef.show()}}},[_c('v-icon',{staticClass:\"me-1\",attrs:{\"size\":\"18\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiPlus)+\" \")]),_c('span',[_vm._v(\"New Category\")])],1):_vm._e()],1),_c('v-spacer'),_c('div',{staticClass:\"d-flex align-center pb-5\"},[_c('v-text-field',{staticClass:\"me-3 search-input\",attrs:{\"value\":_vm.tableFiltering.search,\"dense\":\"\",\"clearable\":\"\",\"hide-details\":\"\",\"placeholder\":\"Search ...\"},on:{\"change\":function (value) { return _vm.$set(_vm.tableFiltering, 'search', value); },\"click:clear\":function($event){return _vm.$set(_vm.tableFiltering, 'search', null)}}})],1)],1),_c('v-data-table',{staticClass:\"text-no-wrap\",attrs:{\"headers\":_vm.tableColumns,\"items\":_vm.records,\"options\":_vm.tableOptions,\"server-items-length\":_vm.pagination.total,\"loading\":_vm.loading,\"footer-props\":{'items-per-page-options': _vm.$const.DEFAULT_TABLE_PER_PAGE_OPTIONS, 'show-current-page': true, 'show-first-last-page': true}},on:{\"update:options\":[function($event){_vm.tableOptions=$event},function($event){return _vm.loadRecords()}]},scopedSlots:_vm._u([{key:\"item.title\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{staticClass:\"text-truncate font-weight-semibold cursor-pointer\",on:{\"click\":function($event){return _vm.$refs.formDialogRef.show(item)}}},[_vm._v(\" \"+_vm._s(item.title)+\" \")])]}},{key:\"item.create_by\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"d-flex align-center\"},[_c('v-avatar',{staticClass:\"v-avatar-light-bg success--text\",attrs:{\"color\":\"success\",\"size\":\"30\"}},[(item._create_by.avatar)?_c('v-img',{attrs:{\"src\":item._create_by.avatar}}):_c('span',{staticClass:\"font-weight-medium\"},[_vm._v(\" \"+_vm._s(_vm.avatarText(item._create_by.username))+\" \")])],1),_c('div',{staticClass:\"d-flex flex-column ms-3\"},[_c('span',{staticClass:\"text-xs\"},[_vm._v(_vm._s(item._create_by.username || '-'))])])],1)]}},{key:\"item.create_datetime\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{staticClass:\"pr-1\"},[_vm._v(_vm._s(_vm.$utils.formatDate(item.create_datetime, 'M/D/YY')))]),_c('span',{staticClass:\"text-caption\"},[_vm._v(_vm._s(_vm.$utils.formatDate(item.create_datetime, 'HH:mm')))])]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"d-flex align-end justify-end\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.$refs.formDialogRef.show(item)}}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"size\":\"18\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiPencilOutline)+\" \")])],1)]}}],null,true)},[_c('span',[_vm._v(\"Edit\")])])],1)]}}])})],1),_c('organization-category-form-dialog',{ref:\"formDialogRef\",attrs:{\"organization\":_vm.organization},on:{\"save-successed\":function($event){return _vm.loadRecords(1)},\"delete-successed\":function($event){return _vm.loadRecords(1)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},model:{value:(_vm.isVisible),callback:function ($$v) {_vm.isVisible=$$v},expression:\"isVisible\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.isEditMode? (\"Edit Category #\" + (_vm.record.id)): 'New Category'))])]),_c('v-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save.apply(null, arguments)}}},[_c('v-card-text',[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Title\",\"dense\":\"\"},model:{value:(_vm.record.title),callback:function ($$v) {_vm.$set(_vm.record, \"title\", $$v)},expression:\"record.title\"}})],1)],1)],1)],1),(_vm.confirmDelete)?_c('v-card-text',[_c('v-alert',{attrs:{\"type\":\"warning\",\"dense\":\"\",\"text\":\"\",\"icon\":_vm.icons.mdiAlert}},[_c('p',[_vm._v(\"If you delete it, all related records will be deleted! Are you sure?\")]),_c('v-btn',{attrs:{\"color\":\"error\",\"outlined\":\"\",\"small\":\"\",\"loading\":_vm.deleting},on:{\"click\":function($event){return _vm.deleteRecord()}}},[_vm._v(\"Yes, Delete It\")]),_c('v-btn',{staticClass:\"ml-1\",attrs:{\"color\":\"secondary\",\"small\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.confirmDelete=false}}},[_vm._v(\"Cancel\")])],1)],1):_vm._e(),_c('v-card-actions',[(_vm.isEditMode)?[_c('v-btn',{attrs:{\"color\":\"error\",\"outlined\":\"\",\"disabled\":_vm.confirmDelete},on:{\"click\":function($event){_vm.confirmDelete=true}}},[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiDelete))]),_vm._v(\"Delete \")],1)]:_vm._e(),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"secondary\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.hide()}}},[_vm._v(\"Close\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"type\":\"submit\",\"loading\":_vm.saving}},[_vm._v(\"Save\")])],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog\n    v-model=\"isVisible\"\n    persistent\n    max-width=\"600px\"\n  >\n    <v-card>\n      <v-card-title>\n        <span class=\"headline\">{{isEditMode? `Edit Category #${record.id}`: 'New Category'}}</span>\n      </v-card-title>\n      <v-form @submit.prevent=\"save\">\n        <v-card-text>\n          <v-container>\n            <v-row>\n              <v-col cols=\"12\">\n                <v-text-field v-model=\"record.title\" label=\"Title\" dense></v-text-field>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-card-text>\n\n        <v-card-text v-if=\"confirmDelete\">\n          <v-alert type=\"warning\" dense text :icon=\"icons.mdiAlert\">\n            <p>If you delete it, all related records will be deleted! Are you sure?</p>\n            <v-btn color=\"error\" outlined small :loading=\"deleting\" @click=\"deleteRecord()\">Yes, Delete It</v-btn>\n            <v-btn color=\"secondary\" @click=\"confirmDelete=false\" small text class=\"ml-1\">Cancel</v-btn>\n          </v-alert>\n        </v-card-text>\n        <v-card-actions>\n          <template v-if=\"isEditMode\" >\n            <v-btn color=\"error\" outlined @click=\"confirmDelete=true\" :disabled=\"confirmDelete\">\n              <v-icon>{{icons.mdiDelete}}</v-icon>Delete\n            </v-btn>\n          </template>\n          <v-spacer></v-spacer>\n          <v-btn color=\"secondary\" outlined @click=\"hide()\">Close</v-btn>\n          <v-btn color=\"primary\" type=\"submit\" :loading=\"saving\">Save</v-btn>\n        </v-card-actions>\n      </v-form>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport {\n  mdiDelete,\n  mdiAlert,\n  mdiCalendar,\n  mdiClock\n} from '@mdi/js'\nimport {ref, computed} from '@vue/composition-api'\nimport axios from \"@/axios\";\nimport {notifyDefaultServerError, notifySuccess} from \"@/composables/utils\";\nimport {watch} from \"@vue/composition-api/dist/vue-composition-api\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\n\nexport default {\n  props: {\n    organization: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props, context) {\n    const isVisible = ref(false);\n    const record = ref({});\n    const saving = ref(false);\n    const deleting = ref(false);\n    const confirmDelete = ref(false);\n    const isEditMode = computed(() => !!record.value.id);\n\n    const deleteRecord = () => {\n      deleting.value = true;\n      axios.delete(`cycling_org/category/${record.value.id}`).then((response) => {\n        deleting.value = false;\n        notifySuccess(`Category #${record.value.id} deleted.`);\n        hide();\n        context.emit('delete-successed', record.value);\n      }, (error) => {\n        deleting.value = false;\n        notifyDefaultServerError(error, true);\n      });\n    };\n\n    const save = () => {\n      var data = Object.assign({}, record.value);\n      var url = \"cycling_org/category\",\n          httpMethod = axios.post,\n          successMsg = \"Category added successfully.\";\n      if (isEditMode.value) {\n        url = `cycling_org/category/${record.value.id}`;\n        httpMethod = axios.patch;\n        successMsg = \"Category updated successfully.\"\n      } else {\n        data.organization = props.organization.id;\n      }\n      saving.value = true;\n      httpMethod(url, data).then((response) => {\n        saving.value = false;\n        notifySuccess(successMsg);\n        hide();\n        context.emit('save-successed', response.data);\n      }, (error) => {\n        saving.value = false;\n        notifyDefaultServerError(error, true);\n      });\n    };\n\n    const hide = () => {\n      isVisible.value = false;\n    };\n    const show = (r, event) => {\n      record.value = Object.assign({}, r);\n      confirmDelete.value = false;\n      deleting.value = false;\n      saving.value = false;\n      isVisible.value = true;\n    };\n\n    return {\n      isVisible,\n      confirmDelete,\n      isEditMode,\n      record,\n      saving,\n      deleting,\n      deleteRecord,\n      hide,\n      show,\n      save,\n      icons: {\n        mdiDelete,\n        mdiAlert,\n        mdiCalendar,\n        mdiClock\n      },\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationCategoryFormDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationCategoryFormDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrganizationCategoryFormDialog.vue?vue&type=template&id=117b1de0&\"\nimport script from \"./OrganizationCategoryFormDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationCategoryFormDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VContainer,VDialog,VForm,VIcon,VRow,VSpacer,VTextField})\n","<template>\n  <div class=\"organization-profile-categories-tab\">\n    <v-card>\n      <v-card-text class=\"d-flex align-center flex-wrap pb-0\">\n        <div class=\"d-flex align-center pb-5\">\n          <v-btn fab x-small color=\"info\" class=\"mr-1\" @click=\"loadRecords(1);\">\n            <v-icon>{{icons.mdiRefresh}}</v-icon>\n          </v-btn>\n          <v-btn v-if=\"organization.my_level.is_admin\" small color=\"primary\" class=\"me-1\"\n                 @click=\"$refs.formDialogRef.show()\">\n            <v-icon size=\"18\" class=\"me-1\">\n              {{ icons.mdiPlus }}\n            </v-icon>\n            <span>New Category</span>\n          </v-btn>\n        </div>\n\n        <v-spacer></v-spacer>\n\n        <div class=\"d-flex align-center pb-5\">\n          <v-text-field\n              :value=\"tableFiltering.search\"\n              @change=\"value => $set(tableFiltering, 'search', value)\"\n              @click:clear=\"$set(tableFiltering, 'search', null)\"\n              dense clearable hide-details\n              placeholder=\"Search ...\" class=\"me-3 search-input\"\n          ></v-text-field>\n\n        </div>\n      </v-card-text>\n\n      <v-data-table\n        :headers=\"tableColumns\"\n        :items=\"records\"\n        :options.sync=\"tableOptions\"\n        @update:options=\"loadRecords()\"\n        :server-items-length=\"pagination.total\"\n        :loading=\"loading\"\n        class=\"text-no-wrap\"\n        :footer-props=\"{'items-per-page-options': $const.DEFAULT_TABLE_PER_PAGE_OPTIONS, 'show-current-page': true, 'show-first-last-page': true}\"\n      >\n        <template #item.title=\"{item}\">\n            <span class=\"text-truncate font-weight-semibold cursor-pointer\" @click=\"$refs.formDialogRef.show(item)\">\n              {{item.title}}\n            </span>\n        </template>\n        <template #item.create_by=\"{item}\">\n          <div class=\"d-flex align-center\">\n            <v-avatar color=\"success\" class=\"v-avatar-light-bg success--text\" size=\"30\">\n              <v-img v-if=\"item._create_by.avatar\" :src=\"item._create_by.avatar\"></v-img>\n              <span v-else class=\"font-weight-medium\">\n                {{ avatarText(item._create_by.username) }}\n              </span>\n            </v-avatar>\n\n            <div class=\"d-flex flex-column ms-3\">\n              <span class=\"text-xs\">{{ item._create_by.username || '-' }}</span>\n            </div>\n          </div>\n        </template>\n        <template #item.create_datetime=\"{item}\">\n          <span class=\"pr-1\">{{$utils.formatDate(item.create_datetime, 'M/D/YY')}}</span>\n          <span class=\"text-caption\">{{$utils.formatDate(item.create_datetime, 'HH:mm')}}</span>\n        </template>\n\n        <!-- actions -->\n        <template #item.actions=\"{item}\">\n          <div class=\"d-flex align-end justify-end\">\n            <v-tooltip bottom>\n              <template #activator=\"{ on, attrs }\">\n                <v-btn icon small v-bind=\"attrs\" v-on=\"on\" @click=\"$refs.formDialogRef.show(item)\">\n                  <v-icon size=\"18\">\n                    {{ icons.mdiPencilOutline }}\n                  </v-icon>\n                </v-btn>\n              </template>\n              <span>Edit</span>\n            </v-tooltip>\n          </div>\n        </template>\n\n      </v-data-table>\n    </v-card>\n    <organization-category-form-dialog :organization=\"organization\" ref=\"formDialogRef\" @save-successed=\"loadRecords(1)\"\n                                    @delete-successed=\"loadRecords(1)\">\n    </organization-category-form-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  mdiPlus,\n  mdiPencilOutline,\n  mdiRefresh,\n} from '@mdi/js'\n\nimport { ref, reactive, watch, onMounted } from '@vue/composition-api'\nimport axios from \"@/axios\";\nimport {notifyDefaultServerError, notifySuccess, refineVTableOptions} from \"@/composables/utils\";\nimport OrganizationCategoryFormDialog from \"./OrganizationCategoryFormDialog\";\n\nexport default {\n  components: {OrganizationCategoryFormDialog},\n  props: {\n    organization: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props, context) {\n    const records = ref([]);\n    const pagination = ref({total: 0});\n    const loading = ref(false);\n    const tableOptions = ref({});\n    const tableFiltering = ref({});\n\n    const tableColumns = [\n      {text: '#ID', value: 'id', align: 'start',},\n      {text: 'TITLE', value: 'title'},\n      {text: 'CREATED BY', value: 'create_by'},\n      {text: 'CREATED AT', value: 'create_datetime'},\n    ];\n    if (props.organization.my_level.is_admin) {\n      tableColumns.push({text: 'ACTIONS', value: 'actions', align: 'end', sortable: false,})\n    }\n\n    const loadRecords = (page) => {\n      if (page) {\n        tableOptions.value.page = page;\n      }\n      const params = Object.assign({organization: props.organization.id}, tableFiltering.value, refineVTableOptions(tableOptions.value));\n      loading.value = true;\n      axios.get(\"cycling_org/category/\", {params: params}).then((response) => {\n        loading.value = false;\n        records.value = response.data.results;\n        pagination.value = response.data.pagination;\n      }, (error) => {\n        loading.value = false;\n        notifyDefaultServerError(error, true)\n      });\n    };\n    watch(() => tableFiltering, (currentValue, oldValue) => {\n        loadRecords(1);\n      },\n      { deep: true }\n    );\n\n    onMounted(() => {\n    });\n\n    return {\n      records,\n      tableColumns,\n      tableOptions,\n      tableFiltering,\n      loading,\n      pagination,\n      loadRecords,\n      icons: {\n        mdiPlus,\n        mdiPencilOutline,\n        mdiRefresh,\n      },\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.organization-profile-categories-tab {\n  .search-input {\n    max-width: 10.625rem;\n  }\n  td.event-td {\n    max-width: 250px;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationCategoriesTab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationCategoriesTab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrganizationCategoriesTab.vue?vue&type=template&id=01d5eeee&\"\nimport script from \"./OrganizationCategoriesTab.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationCategoriesTab.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrganizationCategoriesTab.vue?vue&type=style&index=0&id=01d5eeee&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VAvatar,VBtn,VCard,VCardText,VDataTable,VIcon,VImg,VSpacer,VTextField,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"organization-events-tab\"},[_c('v-card',[_c('v-tabs',{attrs:{\"grow\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab',{on:{\"change\":function($event){_vm.tableWidgetRef && _vm.tableWidgetRef.loadRecords()}}},[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiTable))]),_vm._v(\" Events Table\")],1),_c('v-tab',{on:{\"change\":function($event){_vm.calendarWidgetRef && _vm.calendarWidgetRef.refreshCalendar()}}},[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiCalendar))]),_vm._v(\" Events Calendar\")],1)],1),_c('v-tabs-items',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab-item',[_c('events-table-widget',{ref:\"tableWidgetRef\",attrs:{\"event-list-url\":(\"cycling_org/organization/\" + (_vm.organization.id) + \"/event/\"),\"show-actions\":\"\",\"organization\":_vm.organization},on:{\"add-action-clicked\":function($event){return _vm.$refs.eventFormDialogRef.show()},\"shared-orgs-action-clicked\":function (item) { return _vm.$refs.eventSharedOrgsDialogRef.show(item); },\"edit-action-clicked\":function (item) { return _vm.$refs.eventFormDialogRef.show(item); }}})],1),_c('v-tab-item',[_c('events-calendar-widget',{ref:\"calendarWidgetRef\",attrs:{\"event-list-url\":(\"cycling_org/organization/\" + (_vm.organization.id) + \"/event/\"),\"edit-mode\":true},on:{\"nav-link-day-clicked\":function (date) { return _vm.$refs.eventFormDialogRef.show({start_date: _vm.$utils.formatDate(date, 'YYYY-MM-DD')}); },\"event-clicked\":function (item) { return _vm.$refs.eventFormDialogRef.show(item); }}})],1)],1)],1),_c('organization-event-form-dialog',{ref:\"eventFormDialogRef\",attrs:{\"organization\":_vm.organization},on:{\"delete-successed\":function($event){return _vm.refreshCurrentTab()},\"save-successed\":function($event){return _vm.refreshCurrentTab()}}}),_c('event-shared-orgs-dialog',{ref:\"eventSharedOrgsDialogRef\",attrs:{\"organization\":_vm.organization},on:{\"save-successed\":function($event){return _vm.refreshCurrentTab()}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"retain-focus\":false,\"max-width\":\"1000px\"},model:{value:(_vm.isVisible),callback:function ($$v) {_vm.isVisible=$$v},expression:\"isVisible\"}},[_c('v-card',{staticClass:\"event-org-form\"},[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.isEditMode ? (\"Edit Event #\" + (_vm.record.id)) : 'New Event'))])]),_c('v-tabs',{staticClass:\"mb-5\",model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab',[_vm._v(\"Basic Info\")]),_c('v-tab',{attrs:{\"disabled\":!_vm.isEditMode}},[_vm._v(\"Attachments\")]),_c('v-tab',{attrs:{\"disabled\":!_vm.isEditMode}},[_vm._v(\"UI Preferences\")]),_c('v-tab-item',{staticClass:\"pt-6\"},[_c('v-card-text',{staticClass:\"d-flex\"},[_c('v-avatar',{staticClass:\"me-6 v-avatar-light-bg\",attrs:{\"rounded\":\"\",\"size\":\"80\",\"color\":\"grey\"}},[_c('v-img',{attrs:{\"src\":_vm.logoChosenFileData || _vm.record.logo || _vm.$store.state.sitePrefs.site_ui__default_event_logo || require('@/assets/images/misc/no-photo.png')}})],1),_c('div',[_c('v-btn',{staticClass:\"me-3 mt-5\",attrs:{\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.logoImageRef.click()}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiCloudUploadOutline)+\" \")]),_c('span',{staticClass:\"d-none d-sm-block\"},[_vm._v(\"Choose Logo\")])],1),_c('input',{ref:\"logoImageRef\",attrs:{\"type\":\"file\",\"accept\":\".jpeg,.png,.jpg,GIF\",\"hidden\":true},on:{\"change\":_vm.onChangeLogoFile}}),_c('v-btn',{staticClass:\"mt-5 mr-2\",attrs:{\"small\":\"\",\"color\":\"warning\",\"outlined\":\"\",\"disabled\":!_vm.logoChosenFile},on:{\"click\":function($event){return _vm.clearChosenLogo()}}},[_vm._v(\" Reset \")]),_c('v-btn',{staticClass:\"mt-5 mr-2\",attrs:{\"small\":\"\",\"color\":\"error\",\"outlined\":\"\"},on:{\"click\":function($event){_vm.clearChosenLogo(); _vm.record.logo=null}}},[_vm._v(\" Delete \")]),_c('p',{staticClass:\"text-sm mt-5\"},[_vm._v(\" Allowed JPG, GIF or PNG. Max size of 10MB \")])],1)],1),_c('v-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save.apply(null, arguments)}}},[_c('v-card-text',[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Name\",\"dense\":\"\",\"outlined\":\"\",\"hide-details\":\"\"},model:{value:(_vm.record.name),callback:function ($$v) {_vm.$set(_vm.record, \"name\", $$v)},expression:\"record.name\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-textarea',{attrs:{\"label\":\"Description\",\"dense\":\"\",\"outlined\":\"\",\"hide-details\":\"\",\"rows\":\"3\"},model:{value:(_vm.record.description),callback:function ($$v) {_vm.$set(_vm.record, \"description\", $$v)},expression:\"record.description\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-menu',{attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({staticClass:\"pt-0 pb-0\",attrs:{\"label\":\"Start Date\",\"readonly\":\"\",\"dense\":\"\",\"outlined\":\"\",\"hide-details\":\"\"},model:{value:(_vm.record.start_date),callback:function ($$v) {_vm.$set(_vm.record, \"start_date\", $$v)},expression:\"record.start_date\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.startDateMenu),callback:function ($$v) {_vm.startDateMenu=$$v},expression:\"startDateMenu\"}},[_c('v-date-picker',{attrs:{\"color\":\"primary\"},on:{\"input\":function($event){_vm.startDateMenu = false}},model:{value:(_vm.record.start_date),callback:function ($$v) {_vm.$set(_vm.record, \"start_date\", $$v)},expression:\"record.start_date\"}})],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-menu',{attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({staticClass:\"pt-0 pb-0\",attrs:{\"label\":\"End Date\",\"readonly\":\"\",\"dense\":\"\",\"outlined\":\"\",\"hide-details\":\"\"},model:{value:(_vm.record.end_date),callback:function ($$v) {_vm.$set(_vm.record, \"end_date\", $$v)},expression:\"record.end_date\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.endDateMenu),callback:function ($$v) {_vm.endDateMenu=$$v},expression:\"endDateMenu\"}},[_c('v-date-picker',{attrs:{\"color\":\"primary\"},on:{\"input\":function($event){_vm.endDateMenu = false}},model:{value:(_vm.record.end_date),callback:function ($$v) {_vm.$set(_vm.record, \"end_date\", $$v)},expression:\"record.end_date\"}})],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"outlined\":\"\",\"hide-details\":\"\",\"label\":\"Website\"},model:{value:(_vm.record.website),callback:function ($$v) {_vm.$set(_vm.record, \"website\", $$v)},expression:\"record.website\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"outlined\":\"\",\"hide-details\":\"\",\"label\":\"Registration Website\"},model:{value:(_vm.record.registration_website),callback:function ($$v) {_vm.$set(_vm.record, \"registration_website\", $$v)},expression:\"record.registration_website\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-select',{attrs:{\"items\":_vm.$const.EVENT_PUBLISH_TYPE_OPTIONS,\"item-text\":\"title\",\"item-value\":\"value\",\"label\":\"Publish Type\",\"dense\":\"\",\"outlined\":\"\",\"hide-details\":\"\"},model:{value:(_vm.record.publish_type),callback:function ($$v) {_vm.$set(_vm.record, \"publish_type\", $$v)},expression:\"record.publish_type\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-combobox',{attrs:{\"items\":_vm.$store.state.sitePrefs.core_backend__event_tags || [],\"dense\":\"\",\"outlined\":\"\",\"hide-details\":\"\",\"label\":\"Tags\",\"clearable\":\"\",\"multiple\":\"\",\"small-chips\":\"\",\"deletable-chips\":\"\"},model:{value:(_vm.record.tags),callback:function ($$v) {_vm.$set(_vm.record, \"tags\", $$v)},expression:\"record.tags\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"2\"}},[_c('v-text-field',{attrs:{\"outlined\":\"\",\"hide-details\":\"auto\",\"dense\":\"\",\"label\":\"Permit #\"},model:{value:(_vm.record.permit_no),callback:function ($$v) {_vm.$set(_vm.record, \"permit_no\", $$v)},expression:\"record.permit_no\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-checkbox',{staticClass:\"mt-2\",attrs:{\"hide-details\":\"auto\",\"label\":\"USAC permited\"},model:{value:(_vm.record.is_usac_permitted),callback:function ($$v) {_vm.$set(_vm.record, \"is_usac_permitted\", $$v)},expression:\"record.is_usac_permitted\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('v-checkbox',{staticClass:\"mt-2\",attrs:{\"hide-details\":\"auto\",\"label\":\"Featured Event\"},model:{value:(_vm.record.featured_event),callback:function ($$v) {_vm.$set(_vm.record, \"featured_event\", $$v)},expression:\"record.featured_event\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-autocomplete',{attrs:{\"dense\":\"\",\"outlined\":\"\",\"hide-details\":\"\",\"label\":\"Country\",\"items\":_vm.$const.COUNTRY_OPTIONS,\"item-text\":\"name\",\"item-value\":\"code\"},model:{value:(_vm.record.country),callback:function ($$v) {_vm.$set(_vm.record, \"country\", $$v)},expression:\"record.country\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"outlined\":\"\",\"hide-details\":\"\",\"label\":\"State\"},model:{value:(_vm.record.state),callback:function ($$v) {_vm.$set(_vm.record, \"state\", $$v)},expression:\"record.state\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"outlined\":\"\",\"hide-details\":\"\",\"label\":\"City\"},model:{value:(_vm.record.city),callback:function ($$v) {_vm.$set(_vm.record, \"city\", $$v)},expression:\"record.city\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\"}},[_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(\"Choose Event Location:\")]),(_vm.gmapApiKey)?_c('GoogleMap',{attrs:{\"api-key\":_vm.gmapApiKey,\"latitude\":_vm.record.location_lat,\"longitude\":_vm.record.location_lon},on:{\"update:latitude\":function($event){return _vm.$set(_vm.record, \"location_lat\", $event)},\"update:longitude\":function($event){return _vm.$set(_vm.record, \"location_lon\", $event)}}}):_vm._e()],1)],1)],1)],1),(_vm.confirmDelete)?_c('v-card-text',[_c('v-alert',{attrs:{\"type\":\"warning\",\"dense\":\"\",\"text\":\"\",\"icon\":_vm.icons.mdiAlert}},[_c('p',[_vm._v(\"If you delete it, all related records will be deleted! Are you sure?\")]),_c('v-btn',{attrs:{\"color\":\"error\",\"outlined\":\"\",\"small\":\"\",\"loading\":_vm.deleting},on:{\"click\":function($event){return _vm.deleteRecord()}}},[_vm._v(\"Yes, Delete It\")]),_c('v-btn',{staticClass:\"ml-1\",attrs:{\"color\":\"secondary\",\"small\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.confirmDelete=false}}},[_vm._v(\"Cancel\")])],1)],1):_vm._e(),_c('v-card-actions',[(_vm.isEditMode)?[_c('v-btn',{attrs:{\"color\":\"error\",\"outlined\":\"\",\"disabled\":_vm.confirmDelete},on:{\"click\":function($event){_vm.confirmDelete=true}}},[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiDelete))]),_vm._v(\" Delete \")],1)]:_vm._e(),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"secondary\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.hide()}}},[_vm._v(\"Close\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"type\":\"submit\",\"loading\":_vm.saving}},[_vm._v(\"Save\")])],2)],1)],1),_c('v-tab-item',{staticClass:\"pt-6\"},[_c('v-card-text',[(_vm.record && _vm.record.id)?_c('event-attachments-tab',{attrs:{\"event\":_vm.record,\"organization\":_vm.organization}}):_vm._e()],1),_c('v-divider'),_c('v-card-actions',{staticClass:\"pt-5\"},[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"secondary\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.hide()}}},[_vm._v(\"Close\")])],1)],1),_c('v-tab-item',{staticClass:\"pt-6\"},[_c('v-card-text',[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Upload site banner image:\")]),_c('v-img',{staticClass:\"grey darken-4 banner\",class:{'no-banner': !_vm.bannerChosenFileData && !_vm.prefs.banner_image},attrs:{\"src\":_vm.bannerChosenFileData || _vm.prefs.banner_image || _vm.$store.state.sitePrefs.site_ui__default_event_banner_image || require(\"@/assets/images/misc/public-banner-bg-light.jpeg\"),\"height\":\"200\"}}),_c('div',[_c('v-btn',{staticClass:\"me-3 mt-5\",attrs:{\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.bannerImageRef.click()}}},[_c('v-icon',{staticClass:\"d-sm-none\"},[_vm._v(\" \"+_vm._s(_vm.icons.mdiCloudUploadOutline)+\" \")]),_c('span',{staticClass:\"d-none d-sm-block\"},[_vm._v(\"Choose Banner\")])],1),_c('input',{ref:\"bannerImageRef\",attrs:{\"type\":\"file\",\"accept\":\".jpeg,.png,.jpg,GIF\",\"hidden\":true},on:{\"change\":_vm.onChangeBannerFile}}),_c('v-btn',{staticClass:\"mt-5 mr-2\",attrs:{\"small\":\"\",\"color\":\"warning\",\"outlined\":\"\",\"disabled\":!_vm.bannerChosenFile},on:{\"click\":function($event){return _vm.clearChosenBanner()}}},[_vm._v(\" Reset \")]),_c('v-btn',{staticClass:\"mt-5 mr-2\",attrs:{\"small\":\"\",\"color\":\"error\",\"outlined\":\"\"},on:{\"click\":function($event){_vm.clearChosenBanner(); _vm.prefs.banner_image=null}}},[_vm._v(\" Delete \")]),_c('p',{staticClass:\"text-sm mt-5\"},[_vm._v(\" Allowed JPG, GIF or PNG. Max size of 10MB \")])],1)],1),_c('v-divider'),_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Event page information board:\")]),_c('ckeditor',{attrs:{\"editor\":_vm.editor,\"config\":_vm.$const.DEFAULT_CKEDITOR_CONFIG},model:{value:(_vm.prefs.information_board_content),callback:function ($$v) {_vm.$set(_vm.prefs, \"information_board_content\", $$v)},expression:\"prefs.information_board_content\"}})],1)],1)],1),_c('v-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.savePrefs.apply(null, arguments)}}},[_c('v-divider'),_c('v-card-actions',{staticClass:\"pt-5\"},[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"secondary\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.hide()}}},[_vm._v(\"Close\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"type\":\"submit\",\"loading\":_vm.savingPrefs}},[_vm._v(\"Save\")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"hide-details\":\"\",\"label\":\"Attachment Title(Optional)\"},model:{value:(_vm.newRecord.attachment_title),callback:function ($$v) {_vm.$set(_vm.newRecord, \"attachment_title\", $$v)},expression:\"newRecord.attachment_title\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-file-input',{staticClass:\"mb-1\",attrs:{\"multiple\":\"\",\"label\":\"Choose Attachment\",\"hide-details\":\"\",\"show-size\":\"\",\"loading\":_vm.uploading},scopedSlots:_vm._u([{key:\"append-outer\",fn:function(){return [_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"primary\",\"disabled\":!(_vm.newRecord.files && _vm.newRecord.files.length),\"loading\":_vm.uploading},on:{\"click\":function($event){return _vm.uploadFiles()}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiCloudUploadOutline)+\" \")]),_c('span',{staticClass:\"d-none d-sm-block\"},[_vm._v(\"Upload\")])],1)]},proxy:true}]),model:{value:(_vm.newRecord.files),callback:function ($$v) {_vm.$set(_vm.newRecord, \"files\", $$v)},expression:\"newRecord.files\"}})],1)],1),_c('v-data-table',{staticClass:\"text-no-wrap\",attrs:{\"headers\":_vm.tableColumns,\"items\":_vm.records,\"options\":_vm.tableOptions,\"server-items-length\":_vm.pagination.total,\"loading\":_vm.loading,\"footer-props\":{'items-per-page-options': _vm.$const.DEFAULT_TABLE_PER_PAGE_OPTIONS, 'show-current-page': true, 'show-first-last-page': true}},on:{\"update:options\":[function($event){_vm.tableOptions=$event},function($event){return _vm.loadRecords()}]},scopedSlots:_vm._u([{key:\"item.create_datetime\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{staticClass:\"pr-1\"},[_vm._v(_vm._s(_vm.$utils.formatDate(item.create_datetime, 'M/D/YY')))]),_c('span',{staticClass:\"text-caption\"},[_vm._v(_vm._s(_vm.$utils.formatDate(item.create_datetime, 'HH:mm')))])]}},{key:\"item.upload_by\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',[_vm._v(_vm._s(item._upload_by? item._upload_by.username: 'N/A'))])]}},{key:\"item.title\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',[_vm._v(_vm._s(item.title || '-'))])]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"d-flex align-end justify-end\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\",\"href\":item.file,\"target\":\"_blank\"}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"size\":\"18\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiDownload)+\" \")])],1)]}}],null,true)},[_c('span',[_vm._v(\"Download Attachment\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteRecord(item)}}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"size\":\"18\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiDelete)+\" \")])],1)]}}],null,true)},[_c('span',[_vm._v(\"Delete Attachment\")])])],1)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-row>\n      <v-col cols=\"12\" md=\"6\">\n        <v-text-field hide-details label=\"Attachment Title(Optional)\" v-model=\"newRecord.attachment_title\"></v-text-field>\n      </v-col>\n      <v-col cols=\"12\" md=\"6\">\n        <v-file-input multiple label=\"Choose Attachment\" hide-details show-size class=\"mb-1\" v-model=\"newRecord.files\" :loading=\"uploading\">\n          <template v-slot:append-outer>\n            <v-btn small color=\"primary\" @click=\"uploadFiles()\" :disabled=\"!(newRecord.files && newRecord.files.length)\" :loading=\"uploading\">\n              <v-icon left>\n                {{ icons.mdiCloudUploadOutline }}\n              </v-icon>\n              <span class=\"d-none d-sm-block\">Upload</span>\n            </v-btn>\n\n          </template>\n        </v-file-input>\n      </v-col>\n    </v-row>\n    <v-data-table\n        :headers=\"tableColumns\"\n        :items=\"records\"\n        :options.sync=\"tableOptions\"\n        @update:options=\"loadRecords()\"\n        :server-items-length=\"pagination.total\"\n        :loading=\"loading\"\n        class=\"text-no-wrap\"\n        :footer-props=\"{'items-per-page-options': $const.DEFAULT_TABLE_PER_PAGE_OPTIONS, 'show-current-page': true, 'show-first-last-page': true}\"\n    >\n      <template #item.create_datetime=\"{item}\">\n        <span class=\"pr-1\">{{ $utils.formatDate(item.create_datetime, 'M/D/YY') }}</span>\n        <span class=\"text-caption\">{{ $utils.formatDate(item.create_datetime, 'HH:mm') }}</span>\n      </template>\n      <template #item.upload_by=\"{item}\">\n        <span>{{item._upload_by? item._upload_by.username: 'N/A'}}</span>\n      </template>\n      <template #item.title=\"{item}\">\n        <span>{{item.title || '-'}}</span>\n      </template>\n      <!-- actions -->\n      <template #item.actions=\"{item}\">\n        <div class=\"d-flex align-end justify-end\">\n          <v-tooltip bottom>\n            <template #activator=\"{ on, attrs }\">\n              <v-btn icon small v-bind=\"attrs\" v-on=\"on\" :href=\"item.file\" target=\"_blank\">\n                <v-icon size=\"18\">\n                  {{ icons.mdiDownload }}\n                </v-icon>\n              </v-btn>\n            </template>\n            <span>Download Attachment</span>\n          </v-tooltip>\n\n          <v-tooltip bottom>\n            <template #activator=\"{ on, attrs }\">\n              <v-btn icon small v-bind=\"attrs\" v-on=\"on\" @click=\"deleteRecord(item)\">\n                <v-icon size=\"18\">\n                  {{ icons.mdiDelete }}\n                </v-icon>\n              </v-btn>\n            </template>\n            <span>Delete Attachment</span>\n          </v-tooltip>\n\n        </div>\n      </template>\n\n    </v-data-table>\n  </div>\n\n</template>\n\n<script>\nimport {ref, watch} from \"@vue/composition-api\";\nimport {\n  convertModelToFormData,\n  notifyDefaultServerError,\n  notifySuccess,\n  refineVTableOptions\n} from \"@/composables/utils\";\nimport axios from \"@/axios\";\nimport {\n  mdiDelete,\n  mdiDownload,\n  mdiCloudUploadOutline,\n} from \"@mdi/js\";\nimport store from \"@/store\";\nimport {routeNames} from \"@/router\";\n\nexport default {\n  props: {\n    event: {\n      type: Object,\n      required: true\n    },\n    organization: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props) {\n    const records = ref([]);\n    const pagination = ref({total: 0});\n    const loading = ref(false);\n    const uploading = ref(false);\n    const tableOptions = ref({});\n    const newRecord = ref({});\n    const tableColumns = [\n      {text: '#ID', value: 'id', sortable: false},\n      {text: 'TITLE', value: 'title', sortable: false},\n      {text: 'FILE NAME', value: 'file_name', sortable: false},\n      {text: 'UPLOAD BY', value: 'upload_by', sortable: false},\n      {text: 'CREATED AT', value: 'create_datetime', sortable: false},\n      {text: 'ACTIONS', value: 'actions', align: 'end', sortable: false}\n    ];\n\n    const loadRecords = (page) => {\n      if (page) {\n        tableOptions.value.page = page;\n      }\n      const params = Object.assign({}, refineVTableOptions(tableOptions.value));\n      loading.value = true;\n      axios.get(`cycling_org/organization/${props.organization.id}/event/${props.event.id}/attachment`, {params: params}).then((response) => {\n        loading.value = false;\n        records.value = response.data.results;\n        pagination.value = response.data.pagination;\n      }, (error) => {\n        loading.value = false;\n        notifyDefaultServerError(error, true)\n      });\n\n    };\n\n    const deleteRecord = (item) => {\n      axios.delete(`cycling_org/organization/${props.organization.id}/event/${props.event.id}/attachment/${item.id}`).then((response) => {\n        notifySuccess(`Attachment #${item.id} deleted.`);\n        loadRecords();\n      }, (error) => {\n        notifyDefaultServerError(error, true);\n      });\n\n    };\n\n    const uploadFiles = () => {\n      var formData = convertModelToFormData(newRecord.value),\n          headers = { headers: { \"Content-Type\": \"multipart/form-data\" } };\n      uploading.value = true;\n      axios.post(`cycling_org/organization/${props.organization.id}/event/${props.event.id}/attachment`, formData, headers).then((response) => {\n        uploading.value = false;\n        loadRecords(0);\n        newRecord.value = {};\n        notifySuccess(`uploaded ${response.data.attachments.length} files successfully.`);\n      }, (error) => {\n        uploading.value = false;\n        notifyDefaultServerError(error, true)\n      });\n\n    };\n\n    return {\n      records,\n      tableColumns,\n      tableOptions,\n      loading,\n      uploading,\n      pagination,\n      loadRecords,\n      uploadFiles,\n      deleteRecord,\n      newRecord,\n\n      icons: {\n        mdiDelete,\n        mdiDownload,\n        mdiCloudUploadOutline,\n      },\n    }\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventAttachmentsTab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventAttachmentsTab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventAttachmentsTab.vue?vue&type=template&id=3a94ef00&scoped=true&\"\nimport script from \"./EventAttachmentsTab.vue?vue&type=script&lang=js&\"\nexport * from \"./EventAttachmentsTab.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a94ef00\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCol,VDataTable,VFileInput,VIcon,VRow,VTextField,VTooltip})\n","<template>\n  <v-dialog\n    v-model=\"isVisible\"\n    persistent\n    :retain-focus=\"false\"\n    max-width=\"1000px\"\n  >\n    <v-card class=\"event-org-form\">\n      <v-card-title>\n        <span class=\"headline\">{{ isEditMode ? `Edit Event #${record.id}` : 'New Event' }}</span>\n      </v-card-title>\n      <v-tabs class=\"mb-5\" v-model=\"tab\">\n        <v-tab>Basic Info</v-tab>\n        <v-tab :disabled=\"!isEditMode\">Attachments</v-tab>\n        <v-tab :disabled=\"!isEditMode\">UI Preferences</v-tab>\n        <v-tab-item class=\"pt-6\">\n          <v-card-text class=\"d-flex\">\n            <v-avatar rounded size=\"80\" class=\"me-6 v-avatar-light-bg\" color=\"grey\">\n              <v-img\n                  :src=\"logoChosenFileData || record.logo || $store.state.sitePrefs.site_ui__default_event_logo || require('@/assets/images/misc/no-photo.png')\"></v-img>\n            </v-avatar>\n\n            <!-- upload photo -->\n            <div>\n              <v-btn small color=\"primary\" class=\"me-3 mt-5\" @click=\"logoImageRef.click()\">\n                <v-icon left>\n                  {{ icons.mdiCloudUploadOutline }}\n                </v-icon>\n                <span class=\"d-none d-sm-block\">Choose Logo</span>\n              </v-btn>\n\n              <input\n                  ref=\"logoImageRef\"\n                  type=\"file\"\n                  accept=\".jpeg,.png,.jpg,GIF\"\n                  :hidden=\"true\"\n                  @change=\"onChangeLogoFile\"\n              />\n\n              <v-btn\n                  small color=\"warning\" outlined class=\"mt-5 mr-2\" @click=\"clearChosenLogo()\"\n                  :disabled=\"!logoChosenFile\">\n                Reset\n              </v-btn>\n              <v-btn small color=\"error\" outlined class=\"mt-5 mr-2\" @click=\"clearChosenLogo(); record.logo=null\">\n                Delete\n              </v-btn>\n\n              <p class=\"text-sm mt-5\">\n                Allowed JPG, GIF or PNG. Max size of 10MB\n              </p>\n            </div>\n          </v-card-text>\n          <v-form @submit.prevent=\"save\">\n            <v-card-text>\n              <v-container>\n                <v-row>\n                  <v-col cols=\"12\">\n                    <v-text-field v-model=\"record.name\" label=\"Name\" dense outlined hide-details></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\">\n                    <v-textarea v-model=\"record.description\" label=\"Description\" dense outlined hide-details\n                                rows=\"3\"></v-textarea>\n                  </v-col>\n                  <v-col cols=\"12\" md=\"6\">\n                    <v-menu v-model=\"startDateMenu\" :close-on-content-click=\"false\"\n                            :nudge-right=\"40\" transition=\"scale-transition\" offset-y min-width=\"auto\">\n                      <template v-slot:activator=\"{ on, attrs }\">\n                        <v-text-field class=\"pt-0 pb-0\" v-model=\"record.start_date\" label=\"Start Date\"\n                                      v-bind=\"attrs\" v-on=\"on\" readonly dense outlined hide-details>\n                        </v-text-field>\n                      </template>\n                      <v-date-picker v-model=\"record.start_date\" color=\"primary\" @input=\"startDateMenu = false\">\n                      </v-date-picker>\n                    </v-menu>\n                  </v-col>\n                  <v-col cols=\"12\" md=\"6\">\n                    <v-menu v-model=\"endDateMenu\" :close-on-content-click=\"false\"\n                            :nudge-right=\"40\" transition=\"scale-transition\" offset-y min-width=\"auto\">\n                      <template v-slot:activator=\"{ on, attrs }\">\n                        <v-text-field class=\"pt-0 pb-0\" v-model=\"record.end_date\" label=\"End Date\"\n                                      v-bind=\"attrs\" v-on=\"on\" readonly dense outlined hide-details>\n                        </v-text-field>\n                      </template>\n                      <v-date-picker v-model=\"record.end_date\" color=\"primary\" @input=\"endDateMenu = false\">\n                      </v-date-picker>\n                    </v-menu>\n                  </v-col>\n                  <v-col cols=\"12\" md=\"6\">\n                    <v-text-field v-model=\"record.website\" dense outlined hide-details label=\"Website\"></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\" md=\"6\">\n                    <v-text-field v-model=\"record.registration_website\" dense outlined hide-details\n                                  label=\"Registration Website\"></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\">\n                    <v-select v-model=\"record.publish_type\" :items=\"$const.EVENT_PUBLISH_TYPE_OPTIONS\"\n                              item-text=\"title\" item-value=\"value\" label=\"Publish Type\" dense outlined hide-details>\n                    </v-select>\n                  </v-col>\n                  <v-col cols=\"12\">\n                    <v-combobox v-model=\"record.tags\" :items=\"$store.state.sitePrefs.core_backend__event_tags || []\"\n                                dense outlined hide-details label=\"Tags\" clearable multiple small-chips\n                                deletable-chips></v-combobox>\n                  </v-col>\n                  <v-col cols=\"12\" md=\"2\">\n                    <v-text-field v-model=\"record.permit_no\"  outlined hide-details=\"auto\" dense label=\"Permit #\"></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\" md=\"4\">\n                    <v-checkbox v-model=\"record.is_usac_permitted\" class=\"mt-2\" hide-details=\"auto\" label=\"USAC permited\"></v-checkbox>\n                  </v-col>\n                  <v-col cols=\"12\" md=\"3\">\n                    <v-checkbox v-model=\"record.featured_event\" class=\"mt-2\" hide-details=\"auto\" label=\"Featured Event\"></v-checkbox>\n                  </v-col>\n                  <v-col cols=\"12\" md=\"4\">\n                    <v-autocomplete v-model=\"record.country\" dense outlined hide-details label=\"Country\"\n                                    :items=\"$const.COUNTRY_OPTIONS\"\n                                    item-text=\"name\" item-value=\"code\"></v-autocomplete>\n                  </v-col>\n                  <v-col cols=\"12\" md=\"4\">\n                    <v-text-field v-model=\"record.state\" dense outlined hide-details label=\"State\"></v-text-field>\n                  </v-col>\n\n                  <v-col cols=\"12\" md=\"4\">\n                    <v-text-field v-model=\"record.city\" dense outlined hide-details label=\"City\"></v-text-field>\n                  </v-col>\n\n                  <v-col cols=\"12\" sm=\"12\">\n                    <span class=\"font-weight-bold\">Choose Event Location:</span>\n                    <GoogleMap v-if=\"gmapApiKey\" :api-key=\"gmapApiKey\" :latitude.sync=\"record.location_lat\"\n                               :longitude.sync=\"record.location_lon\"></GoogleMap>\n                  </v-col>\n\n                </v-row>\n              </v-container>\n            </v-card-text>\n\n            <v-card-text v-if=\"confirmDelete\">\n              <v-alert type=\"warning\" dense text :icon=\"icons.mdiAlert\">\n                <p>If you delete it, all related records will be deleted! Are you sure?</p>\n                <v-btn color=\"error\" outlined small :loading=\"deleting\" @click=\"deleteRecord()\">Yes, Delete It</v-btn>\n                <v-btn color=\"secondary\" @click=\"confirmDelete=false\" small text class=\"ml-1\">Cancel</v-btn>\n              </v-alert>\n            </v-card-text>\n            <v-card-actions>\n              <template v-if=\"isEditMode\">\n                <v-btn color=\"error\" outlined @click=\"confirmDelete=true\" :disabled=\"confirmDelete\">\n                  <v-icon>{{ icons.mdiDelete }}</v-icon>\n                  Delete\n                </v-btn>\n              </template>\n              <v-spacer></v-spacer>\n              <v-btn color=\"secondary\" outlined @click=\"hide()\">Close</v-btn>\n              <v-btn color=\"primary\" type=\"submit\" :loading=\"saving\">Save</v-btn>\n            </v-card-actions>\n          </v-form>\n        </v-tab-item>\n        <v-tab-item class=\"pt-6\">\n          <v-card-text>\n            <event-attachments-tab v-if=\"record && record.id\" :event=\"record\" :organization=\"organization\"></event-attachments-tab>\n          </v-card-text>\n          <v-divider></v-divider>\n          <v-card-actions class=\"pt-5\">\n            <v-spacer></v-spacer>\n            <v-btn color=\"secondary\" outlined @click=\"hide()\">Close</v-btn>\n          </v-card-actions>\n        </v-tab-item>\n        <v-tab-item class=\"pt-6\">\n          <v-card-text>\n            <h3 class=\"mb-2\">Upload site banner image:</h3>\n            <v-img\n                :src=\"bannerChosenFileData || prefs.banner_image || $store.state.sitePrefs.site_ui__default_event_banner_image || require(`@/assets/images/misc/public-banner-bg-light.jpeg`)\"\n                height=\"200\"\n                class=\"grey darken-4 banner\"\n                :class=\"{'no-banner': !bannerChosenFileData && !prefs.banner_image}\"\n            ></v-img>\n            <!-- upload photo -->\n            <div>\n              <v-btn small color=\"primary\" class=\"me-3 mt-5\" @click=\"bannerImageRef.click()\">\n                <v-icon class=\"d-sm-none\">\n                  {{ icons.mdiCloudUploadOutline }}\n                </v-icon>\n                <span class=\"d-none d-sm-block\">Choose Banner</span>\n              </v-btn>\n\n              <input\n                  ref=\"bannerImageRef\"\n                  type=\"file\"\n                  accept=\".jpeg,.png,.jpg,GIF\"\n                  :hidden=\"true\"\n                  @change=\"onChangeBannerFile\"\n              />\n\n              <v-btn\n                  small color=\"warning\" outlined class=\"mt-5 mr-2\" @click=\"clearChosenBanner()\"\n                  :disabled=\"!bannerChosenFile\">\n                Reset\n              </v-btn>\n              <v-btn small color=\"error\" outlined class=\"mt-5 mr-2\"\n                     @click=\"clearChosenBanner(); prefs.banner_image=null\">\n                Delete\n              </v-btn>\n\n              <p class=\"text-sm mt-5\">\n                Allowed JPG, GIF or PNG. Max size of 10MB\n              </p>\n            </div>\n          </v-card-text>\n          <v-divider></v-divider>\n          <v-card-text>\n            <v-row>\n              <v-col cols=\"12\">\n                <h3 class=\"mb-2\">Event page information board:</h3>\n                <ckeditor :editor=\"editor\" v-model=\"prefs.information_board_content\"\n                          :config=\"$const.DEFAULT_CKEDITOR_CONFIG\"></ckeditor>\n              </v-col>\n            </v-row>\n          </v-card-text>\n          <v-form @submit.prevent=\"savePrefs\">\n            <v-divider></v-divider>\n            <v-card-actions class=\"pt-5\">\n              <v-spacer></v-spacer>\n              <v-btn color=\"secondary\" outlined @click=\"hide()\">Close</v-btn>\n              <v-btn color=\"primary\" type=\"submit\" :loading=\"savingPrefs\">Save</v-btn>\n            </v-card-actions>\n          </v-form>\n        </v-tab-item>\n      </v-tabs>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport {\n  mdiDelete,\n  mdiAlert,\n  mdiCalendar,\n  mdiClock,\n  mdiCloudUploadOutline\n} from '@mdi/js'\nimport {ref, computed} from '@vue/composition-api'\nimport axios from \"@/axios\";\nimport {notifyDefaultServerError, notifySuccess} from \"@/composables/utils\";\nimport CKEditor from '@ckeditor/ckeditor5-vue2';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nimport GoogleMap from '@/components/GoogleMap.vue';\nimport EventAttachmentsTab from \"@/views/dashboard/organizationProfile/EventAttachmentsTab.vue\";\nimport {EVENT_PUBLISH_TYPE_OPTIONS} from \"@/Constants\";\n\nexport default {\n  props: {\n    organization: {\n      type: Object,\n      required: true\n    }\n  },\n  components: {\n    ckeditor: CKEditor.component,\n    GoogleMap,\n    EventAttachmentsTab,\n  },\n  setup(props, context) {\n    const isVisible = ref(false);\n    const tab = ref(0);\n    const record = ref({location_lat: null, location_lon: null});\n    const prefs = ref({});\n    const saving = ref(false);\n    const savingPrefs = ref(false);\n    const deleting = ref(false);\n    const confirmDelete = ref(false);\n    const startDateMenu = ref(false);\n    const endDateMenu = ref(false);\n    const logoChosenFile = ref(null);\n    const logoChosenFileData = ref(null);\n    const logoImageRef = ref(null);\n    const bannerChosenFile = ref(null);\n    const bannerChosenFileData = ref(null);\n    const bannerImageRef = ref(null);\n    const isEditMode = computed(() => !!record.value.id);\n    const gmapApiKey = ref(null);\n\n    const loadGmapApiKey = () => {\n      axios.get(\"cycling_org/global_conf/GOOGLE_MAP_API_TOKEN\").then(\n        response => {\n          gmapApiKey.value = response.data;\n        },\n        error => {\n          notifyDefaultServerError(error, true);\n        }\n      );\n    };\n\n    const clearChosenLogo = () => {\n      logoChosenFile.value = null;\n      logoChosenFileData.value = null;\n      if (logoImageRef.value) {\n        logoImageRef.value.value = null;\n      }\n    };\n\n    const clearChosenBanner = () => {\n      bannerChosenFile.value = null;\n      bannerChosenFileData.value = null;\n      if (bannerImageRef.value) {\n        bannerImageRef.value.value = null;\n      }\n    };\n\n    const onChangeLogoFile = (event) => {\n      if (event.target.files.length > 0) {\n        logoChosenFile.value = event.target.files[0];\n        var f = logoChosenFile.value,\n            r = new FileReader();\n        r.onloadend = (e) => {\n          logoChosenFileData.value = e.target.result;\n        };\n        r.readAsDataURL(f);\n      }\n    };\n\n    const onChangeBannerFile = (event) => {\n      if (event.target.files.length > 0) {\n        bannerChosenFile.value = event.target.files[0];\n        var f = bannerChosenFile.value,\n            r = new FileReader();\n        r.onloadend = (e) => {\n          bannerChosenFileData.value = e.target.result;\n        };\n        r.readAsDataURL(f);\n      }\n    };\n\n    const deleteRecord = () => {\n      deleting.value = true;\n      axios.delete(`cycling_org/organization/${props.organization.id}/event/${record.value.id}`).then((response) => {\n        deleting.value = false;\n        notifySuccess(`Event #${record.value.id} deleted.`);\n        hide();\n        context.emit('delete-successed', record.value);\n      }, (error) => {\n        deleting.value = false;\n        notifyDefaultServerError(error, true);\n      });\n    };\n\n    const save = () => {\n      var data = Object.assign({country: \"US\", state: \"Colorado\"}, record.value);\n      var url = `cycling_org/organization/${props.organization.id}/event`,\n          httpMethod = axios.post,\n          successMsg = \"Event added successfully.\";\n      if (isEditMode.value) {\n        url = `cycling_org/organization/${props.organization.id}/event/${record.value.id}`;\n        httpMethod = axios.patch;\n        successMsg = \"Event updated successfully.\"\n      } else {\n        data.organization = props.organization.id;\n      }\n      if (logoChosenFileData.value) {\n        data.logo = logoChosenFileData.value;\n      } else if (data.logo !== null) {\n        delete data.logo;\n      }\n      saving.value = true;\n      httpMethod(url, data).then((response) => {\n        saving.value = false;\n        notifySuccess(successMsg);\n        hide();\n        context.emit('save-successed', response.data);\n      }, (error) => {\n        saving.value = false;\n        notifyDefaultServerError(error, true);\n      });\n    };\n\n    const savePrefs = () => {\n      var data = Object.assign({}, prefs.value);\n      savingPrefs.value = true;\n      if (bannerChosenFileData.value) {\n        data.banner_image = bannerChosenFileData.value;\n      } else if (data.banner_image !== null) {\n        delete data.banner_image;\n      }\n      axios.patch(`cycling_org/organization/${props.organization.id}/event/${record.value.id}/prefs`, data).then((response) => {\n        savingPrefs.value = false;\n        const prefsData = response.data || {};\n        prefsData.information_board_content = prefsData.information_board_content || '';\n        record.value.prefs = prefs.value = prefsData;\n        notifySuccess('Preferences Saved successfully.');\n        hide();\n        context.emit('save-successed', record.value);\n      }, (error) => {\n        savingPrefs.value = false;\n        notifyDefaultServerError(error, true);\n      });\n    };\n\n    const loadRecord = () => {\n      axios.get(`cycling_org/organization/${props.organization.id}/event/${record.value.id}`).then((response) => {\n        record.value = response.data || {};\n        const prefsData = record.value.prefs || {};\n        prefsData.information_board_content = prefsData.information_board_content || '';\n        prefs.value = prefsData;\n      }, (error) => {\n        notifyDefaultServerError(error, true);\n      });\n    };\n\n    const hide = () => {\n      isVisible.value = false;\n      record.value = {};\n    };\n    const show = (r, event) => {\n      tab.value = 0;\n      record.value = Object.assign({country: \"US\", state: \"Colorado\"}, r);\n      const prefsData = record.value.prefs || {};\n      prefsData.information_board_content = prefsData.information_board_content || '';\n      prefs.value = Object.assign({}, prefsData);\n      if (isEditMode.value) {\n        loadRecord();\n      }\n      if (!gmapApiKey.value) {\n        loadGmapApiKey()\n      }\n      confirmDelete.value = false;\n      deleting.value = false;\n      saving.value = false;\n      savingPrefs.value = false;\n      clearChosenLogo();\n      clearChosenBanner();\n      isVisible.value = true;\n      clearChosenLogo();\n    };\n\n    return {\n      isVisible,\n      tab,\n      confirmDelete,\n      isEditMode,\n      record,\n      prefs,\n      saving,\n      savingPrefs,\n      deleting,\n      gmapApiKey,\n      deleteRecord,\n      clearChosenLogo,\n      clearChosenBanner,\n      logoChosenFile,\n      logoChosenFileData,\n      logoImageRef,\n      bannerChosenFile,\n      bannerChosenFileData,\n      bannerImageRef,\n      onChangeLogoFile,\n      onChangeBannerFile,\n      hide,\n      show,\n      save,\n      savePrefs,\n      startDateMenu,\n      endDateMenu,\n      editor: ClassicEditor,\n      icons: {\n        mdiDelete,\n        mdiAlert,\n        mdiCalendar,\n        mdiClock,\n        mdiCloudUploadOutline\n      },\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.banner {\n  border: 1px solid #e9e9e9;\n}\n\n.banner.no-banner {\n  opacity: 0.2;\n}\n</style>\n<style>\n.event-org-form .ck-editor .ck-editor__main .ck-content {\n  height: 200px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationEventFormDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationEventFormDialog.vue?vue&type=script&lang=js&\"","// Styles\nimport '../VAutocomplete/VAutocomplete.sass'\n\n// Extensions\nimport VSelect from '../VSelect/VSelect'\nimport VAutocomplete from '../VAutocomplete/VAutocomplete'\n\n// Utils\nimport { keyCodes } from '../../util/helpers'\n\n// Types\nimport { PropValidator } from 'vue/types/options'\n\n/* @vue/component */\nexport default VAutocomplete.extend({\n  name: 'v-combobox',\n\n  props: {\n    delimiters: {\n      type: Array,\n      default: () => ([]),\n    } as PropValidator<string[]>,\n    returnObject: {\n      type: Boolean,\n      default: true,\n    },\n  },\n\n  data: () => ({\n    editingIndex: -1,\n  }),\n\n  computed: {\n    computedCounterValue (): number {\n      return this.multiple\n        ? this.selectedItems.length\n        : (this.internalSearch || '').toString().length\n    },\n    hasSlot (): boolean {\n      return VSelect.options.computed.hasSlot.call(this) || this.multiple\n    },\n    isAnyValueAllowed (): boolean {\n      return true\n    },\n    menuCanShow (): boolean {\n      if (!this.isFocused) return false\n\n      return this.hasDisplayedItems ||\n        (!!this.$slots['no-data'] && !this.hideNoData)\n    },\n    searchIsDirty (): boolean {\n      return this.internalSearch != null\n    },\n  },\n\n  methods: {\n    onInternalSearchChanged (val: any) {\n      if (\n        val &&\n        this.multiple &&\n        this.delimiters.length\n      ) {\n        const delimiter = this.delimiters.find(d => val.endsWith(d))\n        if (delimiter != null) {\n          this.internalSearch = val.slice(0, val.length - delimiter.length)\n          this.updateTags()\n        }\n      }\n\n      this.updateMenuDimensions()\n    },\n    genInput () {\n      const input = VAutocomplete.options.methods.genInput.call(this)\n\n      delete input.data!.attrs!.name\n      input.data!.on!.paste = this.onPaste\n\n      return input\n    },\n    genChipSelection (item: object, index: number) {\n      const chip = VSelect.options.methods.genChipSelection.call(this, item, index)\n\n      // Allow user to update an existing value\n      if (this.multiple) {\n        chip.componentOptions!.listeners! = {\n          ...chip.componentOptions!.listeners!,\n          dblclick: () => {\n            this.editingIndex = index\n            this.internalSearch = this.getText(item)\n            this.selectedIndex = -1\n          },\n        }\n      }\n\n      return chip\n    },\n    onChipInput (item: object) {\n      VSelect.options.methods.onChipInput.call(this, item)\n\n      this.editingIndex = -1\n    },\n    // Requires a manual definition\n    // to overwrite removal in v-autocomplete\n    onEnterDown (e: Event) {\n      e.preventDefault()\n      // If has menu index, let v-select-list handle\n      if (this.getMenuIndex() > -1) return\n\n      this.$nextTick(this.updateSelf)\n    },\n    onKeyDown (e: KeyboardEvent) {\n      const keyCode = e.keyCode\n\n      if (\n        e.ctrlKey ||\n        ![keyCodes.home, keyCodes.end].includes(keyCode)\n      ) {\n        VSelect.options.methods.onKeyDown.call(this, e)\n      }\n\n      // If user is at selection index of 0\n      // create a new tag\n      if (this.multiple &&\n        keyCode === keyCodes.left &&\n        this.$refs.input.selectionStart === 0\n      ) {\n        this.updateSelf()\n      } else if (keyCode === keyCodes.enter) {\n        this.onEnterDown(e)\n      }\n\n      // The ordering is important here\n      // allows new value to be updated\n      // and then moves the index to the\n      // proper location\n      this.changeSelectedIndex(keyCode)\n    },\n    onTabDown (e: KeyboardEvent) {\n      // When adding tags, if searching and\n      // there is not a filtered options,\n      // add the value to the tags list\n      if (this.multiple &&\n        this.internalSearch &&\n        this.getMenuIndex() === -1\n      ) {\n        e.preventDefault()\n        e.stopPropagation()\n\n        return this.updateTags()\n      }\n\n      VAutocomplete.options.methods.onTabDown.call(this, e)\n    },\n    selectItem (item: object) {\n      // Currently only supports items:<string[]>\n      if (this.editingIndex > -1) {\n        this.updateEditing()\n      } else {\n        VAutocomplete.options.methods.selectItem.call(this, item)\n\n        // if selected item contains search value,\n        // remove the search string\n        if (\n          this.internalSearch &&\n          this.multiple &&\n          this.getText(item).toLocaleLowerCase().includes(this.internalSearch.toLocaleLowerCase())\n        ) {\n          this.internalSearch = null\n        }\n      }\n    },\n    setSelectedItems () {\n      if (this.internalValue == null ||\n        this.internalValue === ''\n      ) {\n        this.selectedItems = []\n      } else {\n        this.selectedItems = this.multiple ? this.internalValue : [this.internalValue]\n      }\n    },\n    setValue (value?: any) {\n      VSelect.options.methods.setValue.call(this, value === undefined ? this.internalSearch : value)\n    },\n    updateEditing () {\n      const value = this.internalValue.slice()\n      const index = this.selectedItems.findIndex(item =>\n        this.getText(item) === this.internalSearch)\n\n      // If user enters a duplicate text on chip edit,\n      // don't add it, move it to the end of the list\n      if (index > -1) {\n        const item = typeof value[index] === 'object'\n          ? Object.assign({}, value[index])\n          : value[index]\n\n        value.splice(index, 1)\n        value.push(item)\n      } else {\n        value[this.editingIndex] = this.internalSearch\n      }\n\n      this.setValue(value)\n      this.editingIndex = -1\n      this.internalSearch = null\n    },\n    updateCombobox () {\n      // If search is not dirty, do nothing\n      if (!this.searchIsDirty) return\n\n      // The internal search is not matching\n      // the internal value, update the input\n      if (this.internalSearch !== this.getText(this.internalValue)) this.setValue()\n\n      // Reset search if using slot to avoid a double input\n      const isUsingSlot = Boolean(this.$scopedSlots.selection) || this.hasChips\n      if (isUsingSlot) this.internalSearch = null\n    },\n    updateSelf () {\n      this.multiple ? this.updateTags() : this.updateCombobox()\n    },\n    updateTags () {\n      const menuIndex = this.getMenuIndex()\n\n      // If the user is not searching\n      // and no menu item is selected\n      // or if the search is empty\n      // do nothing\n      if ((menuIndex < 0 && !this.searchIsDirty) ||\n          !this.internalSearch) return\n\n      if (this.editingIndex > -1) {\n        return this.updateEditing()\n      }\n\n      const index = this.selectedItems.findIndex(item =>\n        this.internalSearch === this.getText(item))\n\n      // If the duplicate item is an object,\n      // copy it, so that it can be added again later\n      const itemToSelect = index > -1 && typeof this.selectedItems[index] === 'object'\n        ? Object.assign({}, this.selectedItems[index])\n        : this.internalSearch\n\n      // If it already exists, do nothing\n      // this might need to change to bring\n      // the duplicated item to the last entered\n      if (index > -1) {\n        const internalValue = this.internalValue.slice()\n        internalValue.splice(index, 1)\n\n        this.setValue(internalValue)\n      }\n\n      // If menu index is greater than 1\n      // the selection is handled elsewhere\n      // TODO: find out where\n      if (menuIndex > -1) return (this.internalSearch = null)\n\n      this.selectItem(itemToSelect)\n\n      this.internalSearch = null\n    },\n    onPaste (event: ClipboardEvent) {\n      if (!this.multiple || this.searchIsDirty) return\n\n      const pastedItemText = event.clipboardData?.getData('text/vnd.vuetify.autocomplete.item+plain')\n      if (pastedItemText && this.findExistingIndex(pastedItemText as any) === -1) {\n        event.preventDefault()\n        VSelect.options.methods.selectItem.call(this, pastedItemText as any)\n      }\n    },\n    clearableCallback () {\n      this.editingIndex = -1\n\n      VAutocomplete.options.methods.clearableCallback.call(this)\n    },\n  },\n})\n","import { render, staticRenderFns } from \"./OrganizationEventFormDialog.vue?vue&type=template&id=b6cea1f0&scoped=true&\"\nimport script from \"./OrganizationEventFormDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationEventFormDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrganizationEventFormDialog.vue?vue&type=style&index=0&id=b6cea1f0&prod&lang=scss&scoped=true&\"\nimport style1 from \"./OrganizationEventFormDialog.vue?vue&type=style&index=1&id=b6cea1f0&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b6cea1f0\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VAlert,VAutocomplete,VAvatar,VBtn,VCard,VCardActions,VCardText,VCardTitle,VCheckbox,VCol,VCombobox,VContainer,VDatePicker,VDialog,VDivider,VForm,VIcon,VImg,VMenu,VRow,VSelect,VSpacer,VTab,VTabItem,VTabs,VTextField,VTextarea})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"max-width\":\"700px\"},model:{value:(_vm.isVisible),callback:function ($$v) {_vm.isVisible=$$v},expression:\"isVisible\"}},[_c('v-card',{staticClass:\"mb-1\"},[_c('v-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save()}},model:{value:(_vm.formValid),callback:function ($$v) {_vm.formValid=$$v},expression:\"formValid\"}},[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\" Share event \\\"#\"+_vm._s(_vm.record && _vm.record.id)+\"\\\" with other organizations \")]),_c('v-simple-table',{scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{},[_vm._v(\"#\")]),_c('th',{},[_vm._v(\"Organization (*)\")]),_c('th',{},[_vm._v(\"Access (*)\")]),_c('th',{staticClass:\"actions text-center\"},[_vm._v(\"Actions\")])])]),_c('tbody',[_vm._l((_vm.sharedOrgs),function(r,idx){return _c('tr',{key:idx},[_c('td',{},[_c('span',{staticClass:\"font-weight-semibold\"},[_vm._v(_vm._s(idx + 1))])]),_c('td',{},[_c('v-autocomplete',{attrs:{\"items\":_vm.organizations,\"single-line\":\"\",\"hide-details\":\"\",\"dense\":\"\",\"item-text\":\"name\",\"item-value\":\"id\",\"rules\":[_vm.rules.required]},model:{value:(r.organization),callback:function ($$v) {_vm.$set(r, \"organization\", $$v)},expression:\"r.organization\"}})],1),_c('td',{},[_c('v-select',{attrs:{\"items\":_vm.$const.EVENT_SHARED_ACCESS_OPTIONS,\"single-line\":\"\",\"hide-details\":\"\",\"dense\":\"\",\"item-text\":\"title\",\"item-value\":\"value\",\"rules\":[_vm.rules.required]},model:{value:(r.access),callback:function ($$v) {_vm.$set(r, \"access\", $$v)},expression:\"r.access\"}})],1),_c('td',{staticClass:\"actions text-center\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-1\",attrs:{\"icon\":\"\",\"tabindex\":\"-1\",\"x-small\":\"\",\"color\":\"success\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.insertAfter(idx, {access: 'view'})}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiPlus))])],1)]}}],null,true)},[_c('span',[_vm._v(\"Insert a row after this\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-1\",attrs:{\"icon\":\"\",\"tabindex\":\"-1\",\"x-small\":\"\",\"color\":\"error\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.sharedOrgs.splice(idx, 1)}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiDelete))])],1)]}}],null,true)},[_c('span',[_vm._v(\"Remove\")])])],1)])}),(_vm.sharedOrgs.length == 0)?_c('tr',[_c('td',{staticClass:\"text-center\",attrs:{\"colspan\":\"5\"}},[_vm._v(\" No Record! \"),_c('v-btn',{attrs:{\"plain\":\"\",\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.insertAfter(undefined, {access: 'view'})}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(_vm._s(_vm.icons.mdiPlusCircleOutline))]),_vm._v(\" Add New \")],1)],1)]):_vm._e()],2)]},proxy:true}])}),_c('v-divider'),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"secondary\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.hide()}}},[_vm._v(\"Close\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"type\":\"submit\",\"loading\":_vm.saving,\"disabled\":!_vm.formValid}},[_vm._v(\"Save\")])],1)],1)],1),_c('v-overlay',{attrs:{\"value\":_vm.saving || _vm.loading,\"absolute\":true,\"opacity\":\"0.3\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-model=\"isVisible\" max-width=\"700px\">\n    <v-card class=\"mb-1\">\n      <v-form @submit.prevent=\"save()\" v-model=\"formValid\">\n        <v-card-title class=\"headline\">\n          Share event \"#{{record && record.id}}\" with other organizations\n        </v-card-title>\n        <v-simple-table>\n          <template #default>\n            <thead>\n            <tr>\n              <th class=\"\">#</th>\n              <th class=\"\">Organization (*)</th>\n              <th class=\"\">Access (*)</th>\n              <th class=\"actions text-center\">Actions</th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr v-for=\"(r, idx) in sharedOrgs\" :key=\"idx\">\n              <td class=\"\">\n                <span class=\"font-weight-semibold\">{{ idx + 1 }}</span>\n              </td>\n              <td class=\"\">\n                <v-autocomplete v-model=\"r.organization\" :items=\"organizations\"\n                          single-line hide-details dense item-text=\"name\" item-value=\"id\" :rules=\"[rules.required]\">\n                </v-autocomplete>\n              </td>\n              <td class=\"\">\n                <v-select v-model=\"r.access\" :items=\"$const.EVENT_SHARED_ACCESS_OPTIONS\"\n                          single-line hide-details dense item-text=\"title\" item-value=\"value\" :rules=\"[rules.required]\">\n                </v-select>\n              </td>\n              <td class=\"actions text-center\">\n                <v-tooltip bottom>\n                  <template #activator=\"{ on, attrs }\">\n                    <v-btn v-on=\"on\" v-bind=\"attrs\" icon @click=\"insertAfter(idx, {access: 'view'})\" tabindex=\"-1\" x-small color=\"success\"\n                           outlined class=\"mr-1\">\n                      <v-icon>{{icons.mdiPlus}}</v-icon>\n                    </v-btn>\n                  </template>\n                  <span>Insert a row after this</span>\n                </v-tooltip>\n                <v-tooltip bottom>\n                  <template #activator=\"{ on, attrs }\">\n                    <v-btn v-on=\"on\" v-bind=\"attrs\" icon @click=\"sharedOrgs.splice(idx, 1)\" tabindex=\"-1\" x-small\n                           color=\"error\" outlined class=\"mr-1\">\n                      <v-icon>{{icons.mdiDelete}}</v-icon>\n                    </v-btn>\n                  </template>\n                  <span>Remove</span>\n                </v-tooltip>\n              </td>\n            </tr>\n            <tr v-if=\"sharedOrgs.length == 0\">\n              <td colspan=\"5\" class=\"text-center\">\n                No Record!\n                <v-btn @click=\"insertAfter(undefined, {access: 'view'})\" plain small color=\"primary\">\n                  <v-icon small>{{icons.mdiPlusCircleOutline}}</v-icon> Add New\n                </v-btn>\n              </td>\n            </tr>\n            </tbody>\n          </template>\n        </v-simple-table>\n        <v-divider></v-divider>\n        <v-card-actions>\n          <v-btn color=\"secondary\" outlined @click=\"hide()\">Close</v-btn>\n          <v-btn color=\"primary\" type=\"submit\" :loading=\"saving\" :disabled=\"!formValid\">Save</v-btn>\n        </v-card-actions>\n\n        </v-form>\n    </v-card>\n    <v-overlay :value=\"saving || loading\" :absolute=\"true\" opacity=\"0.3\">\n      <v-progress-circular indeterminate></v-progress-circular>\n    </v-overlay>\n  </v-dialog>\n</template>\n\n<script>\n\nimport {notifyDefaultServerError, notifySuccess, randomId, refineVTableOptions} from \"@/composables/utils\";\nimport axios from \"@/axios\";\nimport {computed, onMounted, ref, set, watch} from \"@vue/composition-api\";\nimport {required} from \"@core/utils/validation\";\nimport {\n  mdiPlusCircleOutline,\n  mdiPlus,\n  mdiCogOutline,\n  mdiDelete,\n  mdiArrowUpThin,\n} from \"@mdi/js\"\nimport _ from \"lodash\";\n\nexport default {\n  props: {\n    organization: {\n      type: Object,\n      required: true\n    }\n  },\n  components: {},\n  setup(props, context) {\n    const isVisible = ref(false);\n    const saving = ref(false);\n    const formValid = ref(false);\n    const loading = ref(false);\n    const record = ref({shared_org_perms: null});\n    const sharedOrgs = ref([]);\n    const organizations = ref([]);\n\n    watch(() => record.value.shared_org_perms, (value, oldValue) => {\n      sharedOrgs.value = _.sortBy(\n          Object.entries(record.value.shared_org_perms || {}).map((v) => ({organization: v[0] * 1, access: v[1]})),\n          \"id\"\n      );\n    });\n\n    const loadSharedOrgs = () => {\n      if (!record || !record.value.id) {\n        return;\n      }\n      loading.value = true;\n      let params = {};\n      axios.get(`cycling_org/organization/${props.organization.id}/event/${record.value.id}/shared_org_perms`, {params: params}).then((response) => {\n        loading.value = false;\n        record.value.shared_org_perms = response.data.shared_org_perms;\n      }, (error) => {\n        loading.value = false;\n        notifyDefaultServerError(error, true);\n      });\n\n    };\n\n    const loadOrganizations = (search) => {\n      axios.get(\"cycling_org/organization\", {params: {page_size: 0, fields: \"id,name,type,website,logo\"}}).then((response) => {\n        organizations.value = response.data.results;\n      }, (error) => {\n        findingMemberOrgs.value = false;\n        notifyDefaultServerError(error, true)\n      });\n    };\n\n    const insertAfter = (idx, defaultValue) => {\n      if (idx === undefined) {\n        sharedOrgs.value.push(defaultValue);\n      } else {\n        sharedOrgs.value.splice(idx + 1, 0, defaultValue);\n      }\n    };\n\n    const save = () => {\n      saving.value = true;\n      var sharedOrgsPerms = {};\n      sharedOrgs.value.forEach(f => {\n        sharedOrgsPerms[f.organization] = f.access;\n      });\n      var postData = {\n        shared_org_perms: sharedOrgsPerms,\n      };\n      axios.patch(`cycling_org/organization/${props.organization.id}/event/${record.value.id}/shared_org_perms`, postData).then((response) => {\n        saving.value = false;\n        record.value.shared_org_perms = response.data.shared_org_perms;\n        notifySuccess(\"shared organizations updated successfully.\");\n        context.emit('save-successed');\n      }, (error) => {\n        saving.value = false;\n        notifyDefaultServerError(error, true);\n      });\n    };\n\n    const hide = () => {\n      isVisible.value = false;\n    };\n\n    const show = (r) => {\n      r = Object.assign({}, r);\n      r.shared_org_perms = Object.assign({}, r.shared_org_perms);\n      record.value = r;\n      loadSharedOrgs();\n      loadOrganizations();\n      saving.value = false;\n      isVisible.value = true;\n    };\n\n    return {\n      isVisible,\n      loading,\n      saving,\n      record,\n      organizations,\n      sharedOrgs,\n      formValid,\n      insertAfter,\n      show,\n      hide,\n      loadSharedOrgs,\n      save,\n      rules: {\n        required\n      },\n      icons: {\n        mdiPlusCircleOutline,\n        mdiPlus,\n        mdiCogOutline,\n        mdiDelete,\n        mdiArrowUpThin,\n      }\n    }\n  },\n}\n</script>\n\n<style scoped>\n  th.actions {\n    min-width: 120px;\n    width: 120px;\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventSharedOrgsDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventSharedOrgsDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventSharedOrgsDialog.vue?vue&type=template&id=49aa7428&scoped=true&\"\nimport script from \"./EventSharedOrgsDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./EventSharedOrgsDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EventSharedOrgsDialog.vue?vue&type=style&index=0&id=49aa7428&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"49aa7428\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VAutocomplete,VBtn,VCard,VCardActions,VCardTitle,VDialog,VDivider,VForm,VIcon,VOverlay,VProgressCircular,VSelect,VSimpleTable,VTooltip})\n","<template>\n  <div class=\"organization-events-tab\">\n    <v-card>\n      <v-tabs v-model=\"tab\" grow>\n        <v-tab @change=\"tableWidgetRef && tableWidgetRef.loadRecords()\"><v-icon>{{ icons.mdiTable }}</v-icon> Events Table</v-tab>\n        <v-tab @change=\"calendarWidgetRef && calendarWidgetRef.refreshCalendar()\"><v-icon>{{ icons.mdiCalendar }}</v-icon> Events Calendar</v-tab>\n      </v-tabs>\n      <v-tabs-items v-model=\"tab\">\n        <v-tab-item>\n          <events-table-widget ref=\"tableWidgetRef\" :event-list-url=\"`cycling_org/organization/${organization.id}/event/`\" show-actions\n                               :organization=\"organization\"\n                               @add-action-clicked=\"$refs.eventFormDialogRef.show()\"\n                               @shared-orgs-action-clicked=\"(item) => $refs.eventSharedOrgsDialogRef.show(item)\"\n                               @edit-action-clicked=\"(item) => $refs.eventFormDialogRef.show(item)\">\n          </events-table-widget>\n        </v-tab-item>\n        <v-tab-item>\n          <events-calendar-widget ref=\"calendarWidgetRef\" :event-list-url=\"`cycling_org/organization/${organization.id}/event/`\" :edit-mode=\"true\"\n                                  @nav-link-day-clicked=\"(date) => $refs.eventFormDialogRef.show({start_date: $utils.formatDate(date, 'YYYY-MM-DD')})\"\n                                  @event-clicked=\"(item) => $refs.eventFormDialogRef.show(item)\">\n\n          </events-calendar-widget>\n        </v-tab-item>\n      </v-tabs-items>\n    </v-card>\n    <organization-event-form-dialog ref=\"eventFormDialogRef\" :organization=\"organization\"\n                                    @delete-successed=\"refreshCurrentTab()\"\n                                    @save-successed=\"refreshCurrentTab()\"></organization-event-form-dialog>\n    <event-shared-orgs-dialog ref=\"eventSharedOrgsDialogRef\" :organization=\"organization\"\n                              @save-successed=\"refreshCurrentTab()\"></event-shared-orgs-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  mdiCalendar,\n  mdiTable,\n  mdiShareVariant,\n} from '@mdi/js'\nimport EventsCalendarWidget from \"@/views/public/EventsCalendarWidget\";\nimport EventsTableWidget from \"@/views/public/EventsTableWidget\";\nimport {onMounted, ref} from \"@vue/composition-api\";\nimport {useRouter} from \"@core/utils\";\nimport OrganizationEventFormDialog from \"@/views/dashboard/organizationProfile/OrganizationEventFormDialog\";\nimport EventSharedOrgsDialog from \"@/views/dashboard/organizationProfile/EventSharedOrgsDialog.vue\";\nexport default {\n  components: {EventSharedOrgsDialog, OrganizationEventFormDialog, EventsTableWidget, EventsCalendarWidget},\n  props: {\n    organization: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props, context) {\n    const { route } = useRouter();\n    const tab = ref(null);\n    const tableWidgetRef = ref(null);\n    const calendarWidgetRef = ref(null);\n\n    onMounted(() => {\n      var tabNumber = route.value.params.tab;\n      if (tabNumber === undefined) {\n        tabNumber = route.value.query.tab || undefined;\n      }\n      tab.value = tabNumber !== undefined? tabNumber * 1: 0 ;\n    });\n\n    const refreshCurrentTab = () => {\n      if (tab.value === 0 && tableWidgetRef.value) {\n        tableWidgetRef.value.loadRecords();\n      }\n      else if (tab.value === 1 && calendarWidgetRef.value) {\n        calendarWidgetRef.value.refreshCalendar();\n      }\n    };\n\n    return {\n      tab,\n      tableWidgetRef,\n      refreshCurrentTab,\n      calendarWidgetRef,\n      icons: {\n        mdiCalendar,\n        mdiTable,\n        mdiShareVariant,\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationEventsTab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationEventsTab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrganizationEventsTab.vue?vue&type=template&id=25d4209e&\"\nimport script from \"./OrganizationEventsTab.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationEventsTab.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VCard,VIcon,VTab,VTabItem,VTabs,VTabsItems})\n","<template>\n  <div id=\"organization-profile-view\">\n    <v-row v-if=\"organization.id && organization.my_level.is_admin\">\n      <v-col cols=\"12\" md=\"4\" lg=\"3\">\n        <organization-bio-panel :organization=\"organization\"\n                                @edit-click=\"$refs.editDialogRef.show(organization)\">\n        </organization-bio-panel>\n      </v-col>\n\n      <v-col cols=\"12\" md=\"8\" lg=\"9\">\n        <v-tabs v-model=\"tab\" show-arrows class=\"organization-profile-tabs\">\n          <v-tab class=\"pl-0 pr-0\" v-for=\"(t, tabIdx) in tabs\" :key=\"t.title\">\n            <v-menu bottom right :offset-y=\"true\">\n              <template v-slot:activator=\"{ on, attrs, value }\">\n                <v-btn\n                  text\n                  class=\"align-self-center p-0 more-btn\"\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                >\n                  <v-icon size=\"20\" class=\"mr-1\">{{t.icon}}</v-icon>\n                  <span>{{t.title}}</span>\n                  <v-icon size=\"20\" class=\"mr-1\">{{value? icons.mdiChevronUp: icons.mdiChevronDown}}</v-icon>\n                </v-btn>\n              </template>\n\n              <v-list class=\"grey lighten-3\">\n                <template v-for=\"childTab in t.children\" >\n                  <v-list-item v-if=\"!childTab.admin_required || organization.my_level.is_admin\"\n                               :key=\"childTab.id\" @click=\"tab=tabIdx; selectedTab=childTab\"\n                               :input-value=\"childTab.id == selectedTab.id\">\n                    <v-icon size=\"20\" class=\"me-3\">{{ childTab.icon }}</v-icon> {{childTab.title}}\n                  </v-list-item>\n                </template>\n              </v-list>\n            </v-menu>\n          </v-tab>\n        </v-tabs>\n\n        <v-tabs-items id=\"organization-profile-tabs-content\" v-model=\"tab\" class=\"mt-5 pa-1\">\n          <v-tab-item>\n            <organization-members-tab v-if=\"selectedTab.id == 'individual-members'\"\n                                      :organization=\"organization\"></organization-members-tab>\n             <organization-constant-contact-list v-if=\"selectedTab.id == 'constant-contact-list'\"\n                                      :organization=\"organization\"></organization-constant-contact-list>\n            <organization-member-orgs-tab v-if=\"selectedTab.id == 'org-members'\"\n                                          :organization=\"organization\"></organization-member-orgs-tab>\n            <organization-membership-form-tab v-else-if=\"selectedTab.id == 'membership-form' && organization.my_level.is_admin\"\n                                            :organization=\"organization\"></organization-membership-form-tab>\n\n          </v-tab-item>\n          <v-tab-item>\n            <organization-events-tab v-if=\"selectedTab.id == 'events' && organization.my_level.is_admin\"\n                                            :organization=\"organization\"></organization-events-tab>\n            <organization-races-tab v-else-if=\"selectedTab.id == 'races'\" :organization=\"organization\"></organization-races-tab>\n            <organization-race-results-tab v-else-if=\"selectedTab.id == 'race-results'\" :organization=\"organization\"></organization-race-results-tab>\n          </v-tab-item>\n          <v-tab-item>\n            <organization-race-series-tab v-if=\"selectedTab.id == 'race-series'\" :organization=\"organization\"></organization-race-series-tab>\n            <organization-race-series-results-tab v-else-if=\"selectedTab.id == 'race-series-results'\" :organization=\"organization\"></organization-race-series-results-tab>\n            <organization-race-series-standings-tab v-else-if=\"selectedTab.id == 'race-series-standings' && organization.my_level.is_admin\"\n                                            :organization=\"organization\"></organization-race-series-standings-tab>\n            <organization-categories-tab v-else-if=\"selectedTab.id == 'categories' && organization.my_level.is_admin\"\n                                            :organization=\"organization\"></organization-categories-tab>\n          </v-tab-item>\n        </v-tabs-items>\n      </v-col>\n    </v-row>\n    <profile-organization-form-dialog ref=\"editDialogRef\"\n                                      @save-successed=\"loadOrganization()\">\n    </profile-organization-form-dialog>\n  </div>\n</template>\n\n<script>\nimport { ref } from '@vue/composition-api'\n\n// eslint-disable-next-line object-curly-newline\nimport {\n  mdiAccountMultipleOutline,\n  mdiCalendarMultiple,\n  mdiCheckerboard,\n  mdiGold,\n  mdiHomeGroup,\n  mdiFormatListText,\n  mdiFlagCheckered,\n  mdiMenu,\n  mdiFamilyTree,\n  mdiCalendar,\n  mdiChevronDown,\n  mdiChevronUp,\n} from '@mdi/js'\nimport OrganizationBioPanel from \"./OrganizationBioPanel\";\nimport OrganizationRacesTab from \"./OrganizationRacesTab\";\nimport axios from \"@/axios\";\nimport {notifyDefaultServerError} from \"@/composables/utils\";\nimport {onMounted} from \"@vue/composition-api/dist/vue-composition-api\";\nimport OrganizationMembersTab from \"./OrganizationMembersTab\";\nimport OrganizationConstantContactList from \"./OrganizationConstantContactList\";\nimport OrganizationRaceResultsTab from \"./OrganizationRaceResultsTab\";\nimport {useRouter} from \"@core/utils\";\nimport ProfileOrganizationFormDialog from \"@/views/dashboard/memberProfile/ProfileOrganizationFormDialog\";\nimport OrganizationMemberOrgsTab from \"./OrganizationMemberOrgsTab\";\nimport OrganizationMembershipFormTab from \"./OrganizationMembershipFormTab\";\nimport OrganizationRaceSeriesTab from \"./OrganizationRaceSeriesTab\";\nimport OrganizationRaceSeriesResultsTab from \"./OrganizationRaceSeriesResultsTab\";\nimport OrganizationRaceSeriesStandingsTab from \"./OrganizationRaceSeriesStandingsTab\";\nimport OrganizationCategoriesTab from \"@/views/dashboard/organizationProfile/OrganizationCategoriesTab\";\nimport OrganizationEventsTab from \"@/views/dashboard/organizationProfile/OrganizationEventsTab\";\nimport {routeNames} from \"@/router\";\n\nexport default {\n  components: {\n    OrganizationEventsTab,\n    OrganizationCategoriesTab,\n    OrganizationRaceSeriesResultsTab,\n    OrganizationRaceSeriesStandingsTab,\n    OrganizationRaceSeriesTab,\n    OrganizationMembershipFormTab,\n    OrganizationMemberOrgsTab,\n    ProfileOrganizationFormDialog,\n    OrganizationRaceResultsTab,\n    OrganizationMembersTab,\n    OrganizationRacesTab,\n    OrganizationBioPanel,\n    OrganizationConstantContactList\n    \n  },\n  setup() {\n    const { route, router } = useRouter();\n    const tab = ref(null);\n    const tabs = [\n      {\n        title: 'Membership',\n        icon: mdiAccountMultipleOutline,\n        children: [\n          {id: 'individual-members', title:  'Individual Members', icon: mdiAccountMultipleOutline},\n          {id: 'org-members', title:  'Org Members', icon: mdiHomeGroup},\n          {id: 'membership-form', title:  'Membership Form', icon: mdiFormatListText, admin_required: true},\n          {id: 'constant-contact-list', title:  'Constant Contact', icon: mdiAccountMultipleOutline, admin_required: true},\n        ]\n      },\n      {\n        title: 'Events',\n        icon: mdiCalendar,\n        children: [\n          {id: 'events', title:  'Events', icon: mdiCalendar, admin_required: true},\n          {id: 'races', title:  'Races', icon: mdiCheckerboard},\n          {id: 'race-results', title:  'Race-Results', icon: mdiFlagCheckered},\n        ]\n      },\n      {\n        title: 'Race-Series',\n        icon: mdiCheckerboard,\n        children: [\n          {id: 'race-series', title:  'Race-Series', icon: mdiCheckerboard},\n          {id: 'race-series-results', title:  'Race-Series Results', icon: mdiFlagCheckered},\n          {id: 'race-series-standings', title:  'Race-Series Standings', icon: mdiGold, admin_required: true},\n          {id: 'categories', title:  'Categories', icon: mdiFamilyTree, admin_required: true},\n        ]\n      },\n    ];\n    const selectedTab = ref({id: 'individual-members', title:  'Individual Members'});\n\n    const organization = ref({my_level: {}});\n    const loadOrganization = () => {\n      var params = {exfields: 'my_level'};\n      axios.get(`cycling_org/organization/${route.value.params.record_id}`, {params: params}).then((response) => {\n        organization.value = response.data;\n        if (!organization.value.my_level.is_admin) {\n          router.replace({name: routeNames.PUBLIC_ORG_PROFILE, params: {record_id: organization.value.id}});\n        }\n      }, (error) => {\n        notifyDefaultServerError(error, true)\n      });\n    };\n\n    onMounted(() => {\n      tab.value = route.value.params.tab !== undefined? route.value.params.tab: 0 ;\n      loadOrganization();\n    });\n\n    return {\n      organization,\n      loadOrganization,\n      tab,\n      tabs,\n      selectedTab,\n      icons: {\n        mdiAccountMultipleOutline,\n        mdiCalendarMultiple,\n        mdiCheckerboard,\n        mdiGold,\n        mdiHomeGroup,\n        mdiFormatListText,\n        mdiFlagCheckered,\n        mdiMenu,\n        mdiFamilyTree,\n        mdiCalendar,\n        mdiChevronDown,\n        mdiChevronUp,\n      }\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n//@import '@core/preset/preset/apps/user.scss';\n@import '@core/preset/preset/mixins.scss';\n@import '@core/preset/preset/variables.scss';\n\n// user view\n#organization-profile-view {\n  .more-btn {\n    height: 100% !important;\n  }\n  .organization-profile-tabs {\n    &.v-tabs:not(.v-tabs--vertical) {\n      box-shadow: none !important;\n      .v-tabs-bar {\n        background-color: transparent !important;\n      }\n    }\n  }\n\n  // tab content\n  #organization-profile-tabs-content {\n    background-color: transparent;\n  }\n\n  // bio panel\n  .organization-profile-bio-panel {\n    .user-plan {\n      border: 2px solid var(--v-primary-base) !important;\n    }\n  }\n}\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationProfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationProfile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrganizationProfile.vue?vue&type=template&id=3036e6c2&\"\nimport script from \"./OrganizationProfile.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationProfile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrganizationProfile.vue?vue&type=style&index=0&id=3036e6c2&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VBtn,VCol,VIcon,VList,VListItem,VMenu,VRow,VTab,VTabItem,VTabs,VTabsItems})\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrganizationEventFormDialog.vue?vue&type=style&index=1&id=b6cea1f0&prod&lang=css&\""],"sourceRoot":""}