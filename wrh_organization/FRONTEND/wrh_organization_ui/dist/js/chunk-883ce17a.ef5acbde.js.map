{"version":3,"sources":["webpack:///./src/views/public/UpcomingEventsWidget.vue?69ea","webpack:///src/views/public/UpcomingEventsWidget.vue","webpack:///./src/views/public/UpcomingEventsWidget.vue?8b97","webpack:///./src/views/public/UpcomingEventsWidget.vue","webpack:///./src/views/public/PublicEventProfile.vue?991d","webpack:///./src/views/public/PublicEventProfile.vue?0976","webpack:///./src/views/public/EventRacesWidget.vue?b072","webpack:///src/views/public/EventRacesWidget.vue","webpack:///./src/views/public/EventRacesWidget.vue?8110","webpack:///./src/views/public/EventRacesWidget.vue","webpack:///./src/views/public/EventRaceSeriesWidget.vue?7269","webpack:///src/views/public/EventRaceSeriesWidget.vue","webpack:///./src/views/public/EventRaceSeriesWidget.vue?f814","webpack:///./src/views/public/EventRaceSeriesWidget.vue","webpack:///src/views/public/PublicEventProfile.vue","webpack:///./src/views/public/PublicEventProfile.vue?005e","webpack:///./src/views/public/PublicEventProfile.vue?f796","webpack:///./src/views/public/RecentRaceResultsWidget.vue?8e74","webpack:///src/views/public/RecentRaceResultsWidget.vue","webpack:///./src/views/public/RecentRaceResultsWidget.vue?d114","webpack:///./src/views/public/RecentRaceResultsWidget.vue","webpack:///./src/components/GoogleMap.vue?ed1e","webpack:///./src/components/GoogleMap.vue?5853","webpack:///src/components/GoogleMap.vue","webpack:///./src/components/GoogleMap.vue?56ae","webpack:///./src/components/GoogleMap.vue?b217"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","name","$rns","PUBLIC_EVENTS","query","start_date__gte","today","organization","apiParams","_l","event","index","key","class","PUBLIC_EVENT_PROFILE","params","record_id","id","logo","_s","icons","mdiMapMarker","country","state","city","$utils","formatDate","start_date","mdiCalendarBlankOutline","events","length","_e","staticRenderFns","props","type","required","setup","loading","page_size","order_by","axios","notifyDefaultServerError","onMounted","loadEvents","mdiDotsVertical","component","VAvatar","VBtn","VCard","VCardText","VCardTitle","VDivider","VIcon","VImg","VList","VListItem","VListItemAction","VListItemActionText","VListItemContent","VListItemSubtitle","VListItemTitle","VSpacer","prefs","banner_image","$store","sitePrefs","site_ui__default_event_banner_image","_organization","mdiCalendar","end_date","mdiBike","summary","races_count","mdiBikeFast","race_series_count","domProps","description","mdiWeb","website","registration_website","mdiEmail","organizer_email","information_board_content","attachments","a","file","title","file_name","mdiDownload","gmapApiKey","location_lat","location_lon","on","$event","$set","tableColumns","races","tableOptions","pagination","total","$const","DEFAULT_TABLE_PER_PAGE_OPTIONS","loadRaces","scopedSlots","_u","fn","ref","item","start_datetime","page","text","value","align","tableFiltering","avatarText","mdiAccountCheck","mdiPodiumGold","VDataTable","raceSeries","loadRaceSeries","fields","components","EventRaceSeriesWidget","EventRacesWidget","UpcomingEventsWidget","RecentRaceResultsWidget","OrganizationRaceResultsTab","GoogleMap","exfields","e","tab","loadEvent","loadGmapApiKey","mdiFlagCheckered","mdiAccountPlus","mdiOfficeBuildingCog","mdiAccountMultipleOutline","mdiPhone","VCardSubtitle","VCol","VRow","PUBLIC_RACE_RESULTS","raceResults","_rider","_user","avatar","first_name","more_data","tag","PUBLIC_RIDER_PROFILE","rider","displayRiderName","_race","_event","finish_status","place","RACE_FINISH_STATUS_MAP","css","r","loadReceResults","cellClass","VChip","readonly","searchResult","search","selectAddress","model","callback","$$v","address","expression","style","lat","latitude","lng","longitude","location","updateCoordinates","latLng","window","default","apiKey","mapStyle","emits","context","watch","googleSearch","googleMapsApiInitializer","libraries","setTimeout","force","geolocation","nextTick","fetch","then","getCurrentLocation","VAutocomplete"],"mappings":"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","file":"js/chunk-883ce17a.ef5acbde.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',{staticClass:\"align-start pb-3 pt-5\"},[_c('span',[_vm._v(\"Upcoming Events\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"info\",\"to\":{name: _vm.$rns.PUBLIC_EVENTS, query: {start_date__gte: _vm.today, organization: (_vm.apiParams || {}).organization}},\"x-small\":\"\"}},[_vm._v(\"View All\")])],1),_c('v-divider'),_c('v-card-text',[_c('v-list',{staticClass:\"pt-0\"},[_vm._l((_vm.events),function(event,index){return [_c('v-list-item',{key:(\"li-\" + (event.id)),class:(\"d-flex px-0 \" + (index > 0 ? '':'')),attrs:{\"to\":{name: _vm.$rns.PUBLIC_EVENT_PROFILE, params: {record_id: event.id}}}},[_c('v-avatar',{staticClass:\"me-3\",attrs:{\"size\":\"38\"}},[_c('v-img',{attrs:{\"src\":event.logo || require('@/assets/images/misc/no-photo.png')}})],1),_c('v-list-item-content',[_c('v-list-item-title',[_c('a',{staticClass:\"text-decoration-none\",attrs:{\"href\":\"javascript:\"}},[_vm._v(_vm._s(event.name))])]),_c('v-list-item-subtitle',[_c('v-icon',{attrs:{\"size\":\"14\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiMapMarker)+\" \")]),_vm._v(\" \"+_vm._s(event.country || '')+_vm._s(event.state? (\", \" + (event.state)):'')+_vm._s(event.city? (\", \" + (event.city)):'')+\" \")],1)],1),_c('v-list-item-action',[_c('v-list-item-action-text',[_vm._v(\" \"+_vm._s(_vm.$utils.formatDate(event.start_date, 'MMM D, YYYY'))+\" \"),_c('v-icon',{attrs:{\"size\":\"14\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiCalendarBlankOutline)+\" \")])],1)],1)],1),(index < _vm.events.length - 1)?_c('v-divider',{key:(\"d-\" + (event.id))}):_vm._e()]}),(!_vm.events || !_vm.events.length)?_c('v-list-item',{staticClass:\"text-center\"},[_c('v-list-item-title',[_vm._v(\"No Event!\")])],1):_vm._e()],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card>\n    <v-card-title class=\"align-start pb-3 pt-5\">\n      <span>Upcoming Events</span>\n      <v-spacer></v-spacer>\n      <v-btn text color=\"info\" :to=\"{name: $rns.PUBLIC_EVENTS, query: {start_date__gte: today, organization: (apiParams || {}).organization}}\" x-small>View All</v-btn>\n    </v-card-title>\n    <v-divider></v-divider>\n\n    <v-card-text>\n      <v-list class=\"pt-0\">\n        <template v-for=\"(event, index) in events\">\n          <v-list-item\n            :key=\"`li-${event.id}`\"\n            :class=\"`d-flex px-0 ${index > 0 ? '':''}`\"\n            :to=\"{name: $rns.PUBLIC_EVENT_PROFILE, params: {record_id: event.id}}\"\n          >\n            <v-avatar size=\"38\" class=\"me-3\">\n              <v-img :src=\"event.logo || require('@/assets/images/misc/no-photo.png')\"></v-img>\n            </v-avatar>\n            <v-list-item-content>\n              <v-list-item-title>\n                <a class=\"text-decoration-none\" href=\"javascript:\">{{ event.name }}</a>\n              </v-list-item-title>\n              <v-list-item-subtitle>\n                <v-icon size=\"14\">\n                  {{ icons.mdiMapMarker }}\n                </v-icon>\n                {{ event.country || '' }}{{ event.state? `, ${event.state}`:'' }}{{event.city? `, ${event.city}`:'' }}\n              </v-list-item-subtitle>\n            </v-list-item-content>\n            <v-list-item-action>\n              <v-list-item-action-text>\n                {{ $utils.formatDate(event.start_date, 'MMM D, YYYY') }}\n                <v-icon size=\"14\">\n                  {{ icons.mdiCalendarBlankOutline }}\n                </v-icon>\n              </v-list-item-action-text>\n            </v-list-item-action>\n          </v-list-item>\n          <v-divider\n            v-if=\"index < events.length - 1\"\n            :key=\"`d-${event.id}`\"\n          ></v-divider>\n        </template>\n\n        <v-list-item v-if=\"!events || !events.length\" class=\"text-center\">\n          <v-list-item-title>No Event!</v-list-item-title>\n        </v-list-item>\n      </v-list>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nimport { mdiCalendarBlankOutline, mdiDotsVertical, mdiMapMarker } from '@mdi/js'\nimport {notifyDefaultServerError, refineVTableOptions} from \"@/composables/utils\";\nimport axios from \"@/axios\";\nimport {onMounted, ref} from \"@vue/composition-api\";\nimport moment from \"moment\";\n\nexport default {\n  props: {\n    apiParams: {\n      type: Object,\n      required: false\n    },\n  },\n  setup(props) {\n    const loading = ref(false);\n    const events = ref([]);\n    const today = moment().format(\"YYYY-MM-DD\");\n\n    const loadEvents = () => {\n      loading.value = true;\n      const params =  Object.assign({\n        start_date__gte: today,\n        page_size: 5,\n        order_by: 'start_date,name'\n      }, props.apiParams);\n      axios.get(`cycling_org/event`, {params: params}).then((response) => {\n        loading.value = false;\n        events.value = response.data.results;\n      }, (error) => {\n        loading.value = false;\n        notifyDefaultServerError(error, true)\n      });\n\n    };\n\n    onMounted(() => {\n      loadEvents();\n    });\n\n    return {\n      events,\n      today,\n      icons: {\n        mdiDotsVertical,\n        mdiCalendarBlankOutline,\n        mdiMapMarker,\n      },\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpcomingEventsWidget.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpcomingEventsWidget.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UpcomingEventsWidget.vue?vue&type=template&id=42f12de1&\"\nimport script from \"./UpcomingEventsWidget.vue?vue&type=script&lang=js&\"\nexport * from \"./UpcomingEventsWidget.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemActionText } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAvatar,VBtn,VCard,VCardText,VCardTitle,VDivider,VIcon,VImg,VList,VListItem,VListItemAction,VListItemActionText,VListItemContent,VListItemSubtitle,VListItemTitle,VSpacer})\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicEventProfile.vue?vue&type=style&index=0&id=93659b50&prod&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"public-org-profile-view\"}},[(_vm.event.id)?_c('v-row',[_c('v-col',{attrs:{\"md\":\"12\",\"sm\":\"12\",\"cols\":\"12\"}},[_c('v-card',{staticClass:\"banner\"},[_c('img',{staticClass:\"white--text align-end banner-img\",attrs:{\"src\":_vm.event.prefs.banner_image || _vm.$store.state.sitePrefs.site_ui__default_event_banner_image || require(\"@/assets/images/misc/public-banner-bg-light.jpeg\")}}),_c('v-card-text',{staticClass:\"position-relative\"},[_c('v-avatar',{staticClass:\"avatar-center\",attrs:{\"size\":\"60\",\"color\":\"white\"}},[_c('v-img',{attrs:{\"src\":_vm.event.logo || require('@/assets/images/misc/no-photo.png')}})],1),_c('div',{staticClass:\"d-flex justify-space-between flex-wrap pt-12\"},[_c('div',{staticClass:\"me-2 mb-2\"},[_c('h2',{staticClass:\"pt-0 px-0\"},[_vm._v(\" \"+_vm._s(_vm.event.name)+\" \")]),(_vm.event.organization)?_c('h3',{staticClass:\"pt-0 pb-1 px-0 text-caption\"},[_vm._v(\" \"+_vm._s(_vm.event._organization.name)+\" \")]):_vm._e(),_c('v-card-subtitle',{staticClass:\"text-xs pa-0\"},[_c('v-icon',{staticClass:\"mr-1\",attrs:{\"size\":\"15\"}},[_vm._v(_vm._s(_vm.icons.mdiCalendar))]),_c('span',[_vm._v(_vm._s(_vm.$utils.formatDate(_vm.event.start_date, 'MMM D, YYYY')))]),(_vm.event.end_date)?_c('span',[_vm._v(\" - \"+_vm._s(_vm.$utils.formatDate(_vm.event.end_date, 'MMM D, YYYY')))]):_vm._e()],1),_c('v-card-subtitle',{staticClass:\"text-xs pa-0 pt-1\"},[_c('v-icon',{staticClass:\"mr-1\",attrs:{\"size\":\"15\"}},[_vm._v(_vm._s(_vm.icons.mdiMapMarker))]),_c('span',[_vm._v(_vm._s(_vm.event.country || '')+_vm._s(_vm.event.state? (\", \" + (_vm.event.state)):'')+_vm._s(_vm.event.city? (\", \" + (_vm.event.city)):''))])],1)],1),_c('div',{staticClass:\"d-flex me-8 mb-4\"},[_c('v-avatar',{staticClass:\"v-avatar-light-bg primary--text me-3\",attrs:{\"size\":\"40\",\"rounded\":\"\",\"color\":\"primary\"}},[_c('v-icon',{attrs:{\"color\":\"primary\",\"size\":\"22\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiBike)+\" \")])],1),_c('div',[_c('h3',{staticClass:\"text-xl font-weight-medium mb-n1\"},[_vm._v(\" \"+_vm._s(_vm.event.summary.races_count || 0)+\" \")]),_c('span',[_vm._v(\"Races\")])])],1),_c('div',{staticClass:\"d-flex mb-4 me-4\"},[_c('v-avatar',{staticClass:\"v-avatar-light-bg primary--text me-3\",attrs:{\"size\":\"40\",\"rounded\":\"\",\"color\":\"primary\"}},[_c('v-icon',{attrs:{\"color\":\"primary\",\"size\":\"22\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiBikeFast)+\" \")])],1),_c('div',[_c('h3',{staticClass:\"text-xl font-weight-medium mb-n1\"},[_vm._v(\" \"+_vm._s(_vm.event.summary.race_series_count || 0)+\" \")]),_c('span',[_vm._v(\"Race Series\")])])],1)]),_c('div',{staticClass:\"mt-4\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.event.description)}})]),_c('div',{staticClass:\"d-flex justify-space-between flex-wrap align-center mt-8 pa-0\"},[_c('div',[_c('v-icon',{staticClass:\"me-1\",attrs:{\"size\":\"20\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiWeb)+\" \")]),(_vm.event.website)?_c('a',{staticClass:\"font-weight-medium text-sm me-4 text-decoration-none\",attrs:{\"href\":_vm.event.website,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.event.website)+\" \")]):_c('span',{staticClass:\"text-sm me-4\"},[_vm._v(\"-\")])],1),_c('div',[_c('v-icon',{staticClass:\"me-1\",attrs:{\"size\":\"20\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiWeb)+\" \")]),(_vm.event.registration_website)?_c('a',{staticClass:\"font-weight-medium text-sm me-4 text-decoration-none\",attrs:{\"href\":_vm.event.registration_website,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.event.registration_website)+\" \")]):_c('span',{staticClass:\"text-sm me-4\"},[_vm._v(\"-\")])],1),_c('div',[_c('v-icon',{staticClass:\"me-1\",attrs:{\"size\":\"20\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiEmail)+\" \")]),(_vm.event.organizer_email)?_c('a',{staticClass:\"font-weight-medium text-sm me-4 text-decoration-none\",attrs:{\"href\":(\"mailto:\" + (_vm.event.organizer_email)),\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.event.organizer_email)+\" \")]):_c('span',{staticClass:\"text-sm me-4\"},[_vm._v(\"-\")])],1)])],1),(_vm.event.prefs.information_board_content)?[_c('v-divider'),_c('v-card-text',{staticClass:\"ck-content\",domProps:{\"innerHTML\":_vm._s(_vm.event.prefs.information_board_content)}})]:_vm._e(),(_vm.event.attachments && _vm.event.attachments.length)?[_c('v-divider'),_c('v-card-text',[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"File Attachments:\")]),_c('v-row',_vm._l((_vm.event.attachments),function(a){return _c('v-col',{key:a.id,staticClass:\"pa-1\",attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-btn',{attrs:{\"plain\":\"\",\"href\":a.file,\"target\":\"_blank\",\"color\":\"primary\"}},[_vm._v(\" \"+_vm._s(a.title || a.file_name)+\" \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(_vm._s(_vm.icons.mdiDownload))])],1)],1)}),1)],1)]:_vm._e()],2)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"align-start pb-3 pt-5\"},[_vm._v(\"Event Location\")]),_c('v-divider'),_c('v-card-text',{staticClass:\"pa-1\"},[(_vm.gmapApiKey)?_c('GoogleMap',{staticClass:\"gmap-widget\",attrs:{\"api-key\":_vm.gmapApiKey,\"latitude\":_vm.event.location_lat,\"longitude\":_vm.event.location_lon,\"readonly\":\"\"},on:{\"update:latitude\":function($event){return _vm.$set(_vm.event, \"location_lat\", $event)},\"update:longitude\":function($event){return _vm.$set(_vm.event, \"location_lon\", $event)}}}):_vm._e()],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('event-races-widget',{staticClass:\"home-widget\",attrs:{\"event\":_vm.event}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('event-race-series-widget',{staticClass:\"home-widget\",attrs:{\"event\":_vm.event}})],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',{staticClass:\"align-start pb-3 pt-5\"},[_c('span',[_vm._v(\"Race List\")])]),_c('v-divider'),_c('v-data-table',{staticClass:\"text-no-wrap\",attrs:{\"headers\":_vm.tableColumns,\"items\":_vm.races,\"options\":_vm.tableOptions,\"server-items-length\":_vm.pagination.total,\"loading\":_vm.loading,\"footer-props\":{'items-per-page-options': _vm.$const.DEFAULT_TABLE_PER_PAGE_OPTIONS, 'show-current-page': true, 'show-first-last-page': true}},on:{\"update:options\":[function($event){_vm.tableOptions=$event},function($event){return _vm.loadRaces()}]},scopedSlots:_vm._u([{key:\"item.name\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{staticClass:\"text-truncate font-weight-semibold\"},[_vm._v(\" \"+_vm._s(item.name)+\" \")])]}},{key:\"item.start_datetime\",fn:function(ref){\nvar item = ref.item;\nreturn [(!item.start_datetime)?_c('span',[_vm._v(\"-\")]):[_c('span',{staticClass:\"pr-1\"},[_vm._v(_vm._s(_vm.$utils.formatDate(item.start_datetime, 'MMM D, YYYY')))]),_c('span',{staticClass:\"text-caption\"},[_vm._v(_vm._s(_vm.$utils.formatDate(item.start_datetime, 'HH:mm')))])]]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card>\n    <v-card-title class=\"align-start pb-3 pt-5\">\n      <span>Race List</span>\n    </v-card-title>\n    <v-divider></v-divider>\n    <v-data-table\n      :headers=\"tableColumns\"\n      :items=\"races\"\n      :options.sync=\"tableOptions\"\n      @update:options=\"loadRaces()\"\n      :server-items-length=\"pagination.total\"\n      :loading=\"loading\"\n      class=\"text-no-wrap\"\n      :footer-props=\"{'items-per-page-options': $const.DEFAULT_TABLE_PER_PAGE_OPTIONS, 'show-current-page': true, 'show-first-last-page': true}\"\n    >\n      <template #item.name=\"{item}\">\n          <span class=\"text-truncate font-weight-semibold\">\n            {{item.name}}\n          </span>\n      </template>\n      <template #item.start_datetime=\"{item}\">\n        <span v-if=\"!item.start_datetime\">-</span>\n        <template v-else>\n          <span class=\"pr-1\">{{$utils.formatDate(item.start_datetime, 'MMM D, YYYY')}}</span>\n          <span class=\"text-caption\">{{$utils.formatDate(item.start_datetime, 'HH:mm')}}</span>\n        </template>\n      </template>\n\n    </v-data-table>\n\n  </v-card>\n</template>\n\n<script>\nimport {\n  mdiAccountCheck,\n  mdiPodiumGold,\n} from '@mdi/js'\nimport {onMounted, ref} from \"@vue/composition-api\";\nimport moment from \"moment/moment\";\nimport axios from \"@/axios\";\nimport {notifyDefaultServerError, refineVTableOptions} from \"@/composables/utils\";\nimport {avatarText} from \"@core/utils/filter\";\n\nexport default {\n  props: {\n    event: {\n      type: Object,\n      required: true\n    },\n  },\n  setup(props) {\n    const races = ref([]);\n    const pagination = ref({total: 0});\n    const loading = ref(false);\n    const tableOptions = ref({});\n    const tableFiltering = ref({});\n\n    const loadRaces = (page) => {\n      if (page) {\n        tableOptions.value.page = page;\n      }\n      const params = Object.assign({event: props.event.id}, tableFiltering.value, refineVTableOptions(tableOptions.value));\n      loading.value = true;\n      axios.get(\"cycling_org/race/\", {params: params}).then((response) => {\n        loading.value = false;\n        races.value = response.data.results;\n        pagination.value = response.data.pagination;\n      }, (error) => {\n        loading.value = false;\n        notifyDefaultServerError(error, true)\n      });\n\n    };\n\n    onMounted(() => {\n      loadRaces();\n    });\n\n    const tableColumns = [\n      {text: '#ID', value: 'id', align: 'start',},\n      {text: 'NAME', value: 'name'},\n      {text: 'STARTED AT', value: 'start_datetime'},\n    ];\n\n    return {\n      races,\n      tableOptions,\n      tableFiltering,\n      loading,\n      pagination,\n      tableColumns,\n      avatarText,\n      loadRaces,\n      // icons\n      icons: {\n        mdiAccountCheck,\n        mdiPodiumGold,\n      },\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventRacesWidget.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventRacesWidget.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventRacesWidget.vue?vue&type=template&id=6597667c&\"\nimport script from \"./EventRacesWidget.vue?vue&type=script&lang=js&\"\nexport * from \"./EventRacesWidget.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\ninstallComponents(component, {VCard,VCardTitle,VDataTable,VDivider})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',{staticClass:\"align-start pb-3 pt-5\"},[_c('span',[_vm._v(\"Race-Series List\")])]),_c('v-divider'),_c('v-data-table',{staticClass:\"text-no-wrap\",attrs:{\"headers\":_vm.tableColumns,\"items\":_vm.raceSeries,\"options\":_vm.tableOptions,\"server-items-length\":_vm.pagination.total,\"loading\":_vm.loading,\"footer-props\":{'items-per-page-options': _vm.$const.DEFAULT_TABLE_PER_PAGE_OPTIONS, 'show-current-page': true, 'show-first-last-page': true}},on:{\"update:options\":[function($event){_vm.tableOptions=$event},function($event){return _vm.loadRaceSeries()}]},scopedSlots:_vm._u([{key:\"item.name\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{staticClass:\"text-truncate font-weight-semibold\"},[_vm._v(\" \"+_vm._s(item.name)+\" \")])]}},{key:\"item.start_datetime\",fn:function(ref){\nvar item = ref.item;\nreturn [(!item.start_datetime)?_c('span',[_vm._v(\"-\")]):[_c('span',{staticClass:\"pr-1\"},[_vm._v(_vm._s(_vm.$utils.formatDate(item.start_datetime, 'MMM D, YYYY')))]),_c('span',{staticClass:\"text-caption\"},[_vm._v(_vm._s(_vm.$utils.formatDate(item.start_datetime, 'HH:mm')))])]]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card>\n    <v-card-title class=\"align-start pb-3 pt-5\">\n      <span>Race-Series List</span>\n    </v-card-title>\n    <v-divider></v-divider>\n    <v-data-table\n      :headers=\"tableColumns\"\n      :items=\"raceSeries\"\n      :options.sync=\"tableOptions\"\n      @update:options=\"loadRaceSeries()\"\n      :server-items-length=\"pagination.total\"\n      :loading=\"loading\"\n      class=\"text-no-wrap\"\n      :footer-props=\"{'items-per-page-options': $const.DEFAULT_TABLE_PER_PAGE_OPTIONS, 'show-current-page': true, 'show-first-last-page': true}\"\n    >\n      <template #item.name=\"{item}\">\n          <span class=\"text-truncate font-weight-semibold\">\n            {{item.name}}\n          </span>\n      </template>\n      <template #item.start_datetime=\"{item}\">\n        <span v-if=\"!item.start_datetime\">-</span>\n        <template v-else>\n          <span class=\"pr-1\">{{$utils.formatDate(item.start_datetime, 'MMM D, YYYY')}}</span>\n          <span class=\"text-caption\">{{$utils.formatDate(item.start_datetime, 'HH:mm')}}</span>\n        </template>\n      </template>\n\n    </v-data-table>\n\n  </v-card>\n</template>\n\n<script>\nimport {\n  mdiAccountCheck,\n  mdiPodiumGold,\n} from '@mdi/js'\nimport {onMounted, ref} from \"@vue/composition-api\";\nimport moment from \"moment/moment\";\nimport axios from \"@/axios\";\nimport {notifyDefaultServerError, refineVTableOptions} from \"@/composables/utils\";\nimport {avatarText} from \"@core/utils/filter\";\n\nexport default {\n  props: {\n    event: {\n      type: Object,\n      required: true\n    },\n  },\n  setup(props) {\n    const raceSeries = ref([]);\n    const pagination = ref({total: 0});\n    const loading = ref(false);\n    const tableOptions = ref({});\n    const tableFiltering = ref({});\n\n    const loadRaceSeries = (page) => {\n      if (page) {\n        tableOptions.value.page = page;\n      }\n      const params = Object.assign({event: props.event.id, fields: 'id,name,start_datetime'}, tableFiltering.value, refineVTableOptions(tableOptions.value));\n      loading.value = true;\n      axios.get(\"cycling_org/race_series/\", {params: params}).then((response) => {\n        loading.value = false;\n        raceSeries.value = response.data.results;\n        pagination.value = response.data.pagination;\n      }, (error) => {\n        loading.value = false;\n        notifyDefaultServerError(error, true)\n      });\n\n    };\n\n    onMounted(() => {\n      loadRaceSeries();\n    });\n\n    const tableColumns = [\n      {text: '#ID', value: 'id', align: 'start',},\n      {text: 'NAME', value: 'name'},\n      {text: 'STARTED AT', value: 'start_datetime'},\n    ];\n\n    return {\n      raceSeries,\n      tableOptions,\n      tableFiltering,\n      loading,\n      pagination,\n      tableColumns,\n      avatarText,\n      loadRaceSeries,\n      // icons\n      icons: {\n        mdiAccountCheck,\n        mdiPodiumGold,\n      },\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventRaceSeriesWidget.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventRaceSeriesWidget.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventRaceSeriesWidget.vue?vue&type=template&id=1b72f391&\"\nimport script from \"./EventRaceSeriesWidget.vue?vue&type=script&lang=js&\"\nexport * from \"./EventRaceSeriesWidget.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\ninstallComponents(component, {VCard,VCardTitle,VDataTable,VDivider})\n","<template>\n  <div id=\"public-org-profile-view\">\n    <v-row v-if=\"event.id\">\n      <v-col\n        md=\"12\"\n        sm=\"12\"\n        cols=\"12\"\n      >\n        <v-card class=\"banner\">\n          <img\n            class=\"white--text align-end banner-img\"\n            :src=\"event.prefs.banner_image || $store.state.sitePrefs.site_ui__default_event_banner_image || require(`@/assets/images/misc/public-banner-bg-light.jpeg`)\"\n          />\n          <v-card-text class=\"position-relative\">\n            <v-avatar\n              size=\"60\"\n              color=\"white\"\n              class=\"avatar-center\"\n            >\n              <v-img :src=\"event.logo || require('@/assets/images/misc/no-photo.png')\"></v-img>\n            </v-avatar>\n            <!-- Title, Subtitle & Action Button -->\n            <div class=\"d-flex justify-space-between flex-wrap pt-12\">\n              <div class=\"me-2 mb-2\">\n                <h2 class=\"pt-0 px-0\">\n                  {{event.name}}\n                </h2>\n                <h3 class=\"pt-0 pb-1 px-0 text-caption\" v-if=\"event.organization\">\n                  {{event._organization.name}}\n                </h3>\n                <v-card-subtitle class=\"text-xs pa-0\">\n                  <v-icon size=\"15\" class=\"mr-1\">{{icons.mdiCalendar}}</v-icon>\n                  <span>{{ $utils.formatDate(event.start_date, 'MMM D, YYYY') }}</span>\n                  <span v-if=\"event.end_date\"> - {{ $utils.formatDate(event.end_date, 'MMM D, YYYY') }}</span>\n                </v-card-subtitle>\n                <v-card-subtitle class=\"text-xs pa-0 pt-1\">\n                  <v-icon size=\"15\" class=\"mr-1\">{{icons.mdiMapMarker}}</v-icon>\n                  <span>{{ event.country || '' }}{{ event.state? `, ${event.state}`:'' }}{{event.city? `, ${event.city}`:'' }}</span>\n                </v-card-subtitle>\n              \n              </div>\n              <div class=\"d-flex me-8 mb-4\">\n                <v-avatar\n                  size=\"40\"\n                  rounded\n                  color=\"primary\"\n                  class=\"v-avatar-light-bg primary--text me-3\"\n                >\n                  <v-icon\n                    color=\"primary\"\n                    size=\"22\"\n                  >\n                    {{ icons.mdiBike }}\n                  </v-icon>\n                </v-avatar>\n\n                <div>\n                  <h3 class=\"text-xl font-weight-medium mb-n1\">\n                    {{ event.summary.races_count || 0 }}\n                  </h3>\n                  <span>Races</span>\n                </div>\n              </div>\n\n              <div class=\"d-flex mb-4 me-4\">\n                <v-avatar\n                  size=\"40\"\n                  rounded\n                  color=\"primary\"\n                  class=\"v-avatar-light-bg primary--text me-3\"\n                >\n                  <v-icon\n                    color=\"primary\"\n                    size=\"22\"\n                  >\n                    {{ icons.mdiBikeFast }}\n                  </v-icon>\n                </v-avatar>\n\n                <div>\n                  <h3 class=\"text-xl font-weight-medium mb-n1\">\n                    {{ event.summary.race_series_count || 0 }}\n                  </h3>\n                  <span>Race Series</span>\n                </div>\n              </div>\n\n            </div>\n\n            <div class=\"mt-4\">\n              <div v-html=\"event.description\"></div>\n            </div>\n            <div class=\"d-flex justify-space-between flex-wrap align-center mt-8 pa-0\">\n              <div>\n                <v-icon class=\"me-1\" size=\"20\">\n                  {{ icons.mdiWeb }}\n                </v-icon>\n                <a class=\"font-weight-medium text-sm me-4 text-decoration-none\" :href=\"event.website\" target=\"_blank\" v-if=\"event.website\">\n                  {{event.website}}\n                </a>\n                <span v-else class=\"text-sm me-4\">-</span>\n              </div>\n              <div>\n                <v-icon class=\"me-1\" size=\"20\">\n                  {{ icons.mdiWeb }}\n                </v-icon>\n                <a class=\"font-weight-medium text-sm me-4 text-decoration-none\" :href=\"event.registration_website\" target=\"_blank\" v-if=\"event.registration_website\">\n                  {{event.registration_website}}\n                </a>\n                <span v-else class=\"text-sm me-4\">-</span>\n              </div>\n              <div>\n                <v-icon class=\"me-1\" size=\"20\">\n                  {{ icons.mdiEmail }}\n                </v-icon>\n                <a class=\"font-weight-medium text-sm me-4 text-decoration-none\" :href=\"`mailto:${event.organizer_email}`\" target=\"_blank\" v-if=\"event.organizer_email\">\n                  {{event.organizer_email}}\n                </a>\n                <span v-else class=\"text-sm me-4\">-</span>\n              </div>\n            </div>\n\n          </v-card-text>\n          <template v-if=\"event.prefs.information_board_content\">\n            <v-divider></v-divider>\n            <v-card-text v-html=\"event.prefs.information_board_content\" class=\"ck-content\"></v-card-text>\n          </template>\n          <template v-if=\"event.attachments && event.attachments.length\">\n            <v-divider></v-divider>\n            <v-card-text>\n              <h3 class=\"mb-2\">File Attachments:</h3>\n              <v-row>\n                <v-col cols=\"12\" sm=\"6\" md=\"4\" v-for=\"a in event.attachments\" :key=\"a.id\" class=\"pa-1\">\n                  <v-btn plain :href=\"a.file\" target=\"_blank\" color=\"primary\">\n                    {{a.title || a.file_name}}\n                    <v-icon right>{{icons.mdiDownload}}</v-icon>\n                  </v-btn>\n                </v-col>\n              </v-row>\n            </v-card-text>\n          </template>\n        </v-card>\n      </v-col>\n      <v-col cols=\"12\" md=\"6\">\n        <v-card>\n          <v-card-title class=\"align-start pb-3 pt-5\">Event Location</v-card-title>\n          <v-divider></v-divider>\n          <v-card-text class=\"pa-1\">\n            <GoogleMap v-if=\"gmapApiKey\" :api-key=\"gmapApiKey\" :latitude.sync=\"event.location_lat\" :longitude.sync=\"event.location_lon\" readonly class=\"gmap-widget\">\n            </GoogleMap>\n          </v-card-text>\n        </v-card>\n      </v-col>\n      <v-col cols=\"12\" md=\"6\">\n        <event-races-widget :event=\"event\" class=\"home-widget\"></event-races-widget>\n      </v-col>\n      <v-col cols=\"12\" md=\"6\">\n        <event-race-series-widget :event=\"event\" class=\"home-widget\"></event-race-series-widget>\n      </v-col>\n      \n\n    </v-row>\n  </div>\n</template>\n\n<script>\nimport { ref } from '@vue/composition-api'\n\n// eslint-disable-next-line object-curly-newline\nimport {\n  mdiFlagCheckered,\n  mdiAccountPlus,\n  mdiOfficeBuildingCog,\n  mdiAccountMultipleOutline,\n  mdiBike,\n  mdiBikeFast,\n  mdiEmail,\n  mdiPhone,\n  mdiCalendar,\n  mdiMapMarker,\n  mdiWeb,\n  mdiDownload,\n} from '@mdi/js'\nimport axios from \"@/axios\";\nimport {notifyDefaultServerError} from \"@/composables/utils\";\nimport useVuetify from '@core/utils/vuetify'\nimport {onMounted} from \"@vue/composition-api/dist/vue-composition-api\";\nimport OrganizationRaceResultsTab from \"../dashboard/organizationProfile/OrganizationRaceResultsTab\";\nimport {useRouter} from \"@core/utils\";\nimport RecentRaceResultsWidget from \"@/views/public/RecentRaceResultsWidget\";\nimport UpcomingEventsWidget from \"@/views/public/UpcomingEventsWidget\";\nimport EventRacesWidget from \"@/views/public/EventRacesWidget\";\nimport EventRaceSeriesWidget from \"@/views/public/EventRaceSeriesWidget\";\nimport GoogleMap from '@/components/GoogleMap.vue'\n\nexport default {\n  components: {\n    EventRaceSeriesWidget,\n    EventRacesWidget,\n    UpcomingEventsWidget,\n    RecentRaceResultsWidget,\n    OrganizationRaceResultsTab,\n    GoogleMap\n  },\n  setup() {\n    const { route } = useRouter();\n    const tab = ref(null);\n    const gmapApiKey = ref(null);\n\n    const event = ref({});\n    const orgId = route.value.params.record_id;\n\n    const loadGmapApiKey = () => {\n      axios.get(\"cycling_org/global_conf/GOOGLE_MAP_API_TOKEN\").then(\n        response => {\n          gmapApiKey.value = response.data;\n        },\n        error => {\n          notifyDefaultServerError(error, true);\n        }\n      );\n    };\n\n    const loadEvent = () => {\n      axios.get(`cycling_org/event/${orgId}`, {params: {exfields: 'summary,attachments'}}).then((response) => {\n        const e = response.data;\n        if (!e.summary) {\n          e.summary = {};\n        }\n        event.value = e;\n      }, (error) => {\n        notifyDefaultServerError(error, true)\n      });\n    };\n\n    onMounted(() => {\n      tab.value = route.value.params.tab !== undefined? route.value.params.tab: 0 ;\n      loadEvent();\n      loadGmapApiKey();\n    });\n\n    return {\n      event,\n      loadEvent,\n      tab,\n      gmapApiKey,\n      icons: {\n        mdiFlagCheckered,\n        mdiAccountPlus,\n        mdiOfficeBuildingCog,\n        mdiAccountMultipleOutline,\n        mdiBike,\n        mdiBikeFast,\n        mdiEmail,\n        mdiPhone,\n        mdiCalendar,\n        mdiMapMarker,\n        mdiWeb,\n        mdiDownload,\n      }\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n//@import '@core/preset/preset/apps/user.scss';\n@import '@core/preset/preset/mixins.scss';\n@import '@core/preset/preset/variables.scss';\n@import '@core/preset/preset/mixins.scss';\n\n// user view\n#public-org-profile-view {\n  .gmap-widget {\n    border: none;\n    padding: 0;\n  }\n  .avatar-center {\n    top: -2rem;\n    left: 1rem;\n    border: 3px solid white;\n    position: absolute;\n  }\n  .banner-img {\n    left: 0;\n    top: 0;\n    width: 100%;\n    //height: 300px;\n    object-fit: cover;\n  }\n\n  .public-org-profile-tabs {\n    &.v-tabs:not(.v-tabs--vertical) {\n      box-shadow: none !important;\n      .v-tabs-bar {\n        background-color: transparent !important;\n      }\n    }\n  }\n\n  // tab content\n}\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicEventProfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicEventProfile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PublicEventProfile.vue?vue&type=template&id=93659b50&\"\nimport script from \"./PublicEventProfile.vue?vue&type=script&lang=js&\"\nexport * from \"./PublicEventProfile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PublicEventProfile.vue?vue&type=style&index=0&id=93659b50&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAvatar,VBtn,VCard,VCardSubtitle,VCardText,VCardTitle,VCol,VDivider,VIcon,VImg,VRow})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',{staticClass:\"align-start pb-3 pt-5\"},[_c('span',[_vm._v(\"Recent Winners\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"info\",\"to\":{name: _vm.$rns.PUBLIC_RACE_RESULTS, query: {organization: (_vm.apiParams || {}).organization}},\"x-small\":\"\"}},[_vm._v(\"View All\")])],1),_c('v-divider'),_c('v-data-table',{staticClass:\"table-rounded\",attrs:{\"headers\":_vm.tableColumns,\"items\":_vm.raceResults,\"item-key\":\"fullName\",\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"item.rider\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"d-flex align-center\"},[_c('v-avatar',{staticClass:\"v-avatar-light-bg success--text\",attrs:{\"color\":\"success\",\"size\":\"30\"}},[(item._rider && item._rider._user.avatar)?_c('v-img',{attrs:{\"src\":item._rider._user.avatar}}):_c('span',{staticClass:\"font-weight-medium\"},[_vm._v(\" \"+_vm._s(_vm.avatarText(item._rider? item._rider.first_name: (item.more_data.first_name || 'N/A')))+\" \")])],1),_c('div',{staticClass:\"d-flex flex-column pl-1\"},[(item.rider)?_c(\"router-link\",{tag:\"a\",staticClass:\"font-weight-semibold text-truncate text-decoration-none\",attrs:{\"to\":{name: _vm.$rns.PUBLIC_RIDER_PROFILE, params:{record_id: item.rider}}}},[(item._rider)?_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(_vm._s(_vm.icons.mdiAccountCheck))]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.displayRiderName(item))+\" \")],1):_c('span',{staticClass:\"font-weight-semibold text-truncate text-decoration-none\"},[_vm._v(\" \"+_vm._s(_vm.displayRiderName(item))+\" \")])],1)],1)]}},{key:\"item.race\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"d-flex flex-column\"},[_c('span',{staticClass:\"font-weight-semibold text-truncate\"},[_vm._v(\" \"+_vm._s(item._race.name)+\" \")]),_c('span',{staticClass:\"text-xs text-truncate\"},[_vm._v(\" \"+_vm._s(item._race._event.name)+\" \")])])]}},{key:\"item.place\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.finish_status == 'ok')?[_c('span',{staticClass:\"font-weight-semibold\"},[_vm._v(_vm._s(item.place || 'N/A'))]),(item.place == 1)?_c('v-icon',{staticClass:\"ml-1\",attrs:{\"size\":\"20\",\"color\":\"warning\"}},[_vm._v(_vm._s(_vm.icons.mdiPodiumGold))]):_vm._e()]:_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":(_vm.$const.RACE_FINISH_STATUS_MAP[item.finish_status] || {}).css,\"small\":\"\"}},[_vm._v(\" \"+_vm._s((_vm.$const.RACE_FINISH_STATUS_MAP[item.finish_status] || {}).title || item.finish_status)+\" \")])]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card>\n    <v-card-title class=\"align-start pb-3 pt-5\">\n      <span>Recent Winners</span>\n      <v-spacer></v-spacer>\n      <v-btn text color=\"info\" :to=\"{name: $rns.PUBLIC_RACE_RESULTS, query: {organization: (apiParams || {}).organization}}\" x-small>View All</v-btn>\n    </v-card-title>\n    <v-divider></v-divider>\n\n    <v-data-table\n      :headers=\"tableColumns\"\n      :items=\"raceResults\"\n      item-key=\"fullName\"\n      hide-default-footer\n      class=\"table-rounded\"\n    >\n      <template #item.rider=\"{item}\">\n        <div class=\"d-flex align-center\">\n          <v-avatar color=\"success\" class=\"v-avatar-light-bg success--text\" size=\"30\">\n            <v-img v-if=\"item._rider && item._rider._user.avatar\" :src=\"item._rider._user.avatar\"></v-img>\n            <span v-else class=\"font-weight-medium\">\n              {{ avatarText(item._rider? item._rider.first_name: (item.more_data.first_name || 'N/A')) }}\n            </span>\n          </v-avatar>\n\n          <div class=\"d-flex flex-column pl-1\">\n            <a v-if=\"item.rider\" is=\"router-link\" :to=\"{name: $rns.PUBLIC_RIDER_PROFILE, params:{record_id: item.rider}}\" class=\"font-weight-semibold text-truncate text-decoration-none\">\n              <v-icon v-if=\"item._rider\" small>{{icons.mdiAccountCheck}}</v-icon> {{ displayRiderName(item) }}\n            </a>\n            <span v-else class=\"font-weight-semibold text-truncate text-decoration-none\">\n              {{ displayRiderName(item) }}\n            </span>\n          </div>\n        </div>\n      </template>\n\n      <template #item.race=\"{item}\">\n        <div class=\"d-flex flex-column\">\n          <span class=\"font-weight-semibold text-truncate\">\n            {{item._race.name}}\n          </span>\n          <span class=\"text-xs text-truncate\">\n            {{item._race._event.name}}\n          </span>\n        </div>\n      </template>\n      <template #item.place=\"{item}\">\n        <template v-if=\"item.finish_status == 'ok'\">\n          <span class=\"font-weight-semibold\">{{item.place || 'N/A'}}</span>\n          <v-icon size=\"20\" color=\"warning\" v-if=\"item.place == 1\" class=\"ml-1\">{{ icons.mdiPodiumGold }}</v-icon>\n        </template>\n        <v-chip v-else outlined :color=\"($const.RACE_FINISH_STATUS_MAP[item.finish_status] || {}).css\" small>\n          {{($const.RACE_FINISH_STATUS_MAP[item.finish_status] || {}).title || item.finish_status}}\n        </v-chip>\n      </template>\n\n    </v-data-table>\n  </v-card>\n</template>\n\n<script>\nimport {\n  mdiAccountCheck,\n  mdiPodiumGold,\n} from '@mdi/js'\nimport {onMounted, ref} from \"@vue/composition-api\";\nimport moment from \"moment/moment\";\nimport axios from \"@/axios\";\nimport {notifyDefaultServerError, refineVTableOptions} from \"@/composables/utils\";\nimport {avatarText} from \"@core/utils/filter\";\n\nexport default {\n  props: {\n    apiParams: {\n      type: Object,\n      required: false\n    },\n  },\n  setup(props) {\n    const raceResults = ref([]);\n    const loading = ref(false);\n\n    const loadReceResults = () => {\n      loading.value = true;\n      const params = Object.assign({\n        exfields: 'more_data',\n        page_size: 6,\n        place: 1,\n        order_by: '-id'\n      }, props.apiParams);\n      axios.get(`cycling_org/race_result`, {params: params}).then((response) => {\n        loading.value = false;\n        raceResults.value = response.data.results;\n      }, (error) => {\n        loading.value = false;\n        notifyDefaultServerError(error, true)\n      });\n\n    };\n\n    const displayRiderName = (r) => {\n      var name = '';\n      if (r._rider) {\n        name = `${r._rider.first_name} ${r._rider.last_name}`.trim();\n      } else {\n        name = `${r.more_data.first_name || ''} ${r.more_data.last_name || ''}`.trim();\n      }\n      return name || 'N/A'\n    };\n\n    onMounted(() => {\n      loadReceResults();\n    });\n\n    const tableColumns = [\n      {text: 'RIDER', value: 'rider'},\n      {text: 'RACE', value: 'race', cellClass: 'race-td'},\n      {text: 'PLACE', value: 'place'},\n    ];\n\n    return {\n      raceResults,\n      tableColumns,\n      avatarText,\n      displayRiderName,\n      // icons\n      icons: {\n        mdiAccountCheck,\n        mdiPodiumGold,\n      },\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecentRaceResultsWidget.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecentRaceResultsWidget.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RecentRaceResultsWidget.vue?vue&type=template&id=0037179f&\"\nimport script from \"./RecentRaceResultsWidget.vue?vue&type=script&lang=js&\"\nexport * from \"./RecentRaceResultsWidget.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAvatar,VBtn,VCard,VCardTitle,VChip,VDataTable,VDivider,VIcon,VImg,VSpacer})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoogleMap.vue?vue&type=style&index=0&id=114172e9&prod&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"gmap-container\"},[(!_vm.readonly)?_c('v-autocomplete',{staticClass:\"mb-1\",attrs:{\"outlined\":\"\",\"dense\":\"\",\"items\":_vm.searchResult,\"clerable\":\"\",\"name\":\"address\",\"search-input\":_vm.search,\"label\":\"Locate Address\",\"placeholder\":\"Locate Address\",\"autocomplete\":\"off\",\"item-text\":\"formatted_address\",\"return-object\":\"\",\"hide-details\":\"\"},on:{\"update:searchInput\":function($event){_vm.search=$event},\"update:search-input\":function($event){_vm.search=$event},\"change\":_vm.selectAddress},model:{value:(_vm.address),callback:function ($$v) {_vm.address=$$v},expression:\"address\"}}):_vm._e(),_c('GmapMap',{style:(_vm.mapStyle),attrs:{\"center\":{\n      lat: _vm.latitude || 0,\n      lng: _vm.longitude || 0,\n    },\"zoom\":7}},[_c('GmapMarker',{attrs:{\"position\":{\n        lat: _vm.latitude || 0,\n        lng: _vm.longitude || 0,\n      },\"draggable\":!_vm.readonly},on:{\"dragend\":function (location) { return _vm.updateCoordinates({lat: location.latLng.lat(), lng: location.latLng.lng()}); }}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"gmap-container\">\n    <v-autocomplete\n        v-if=\"!readonly\"\n        outlined\n        dense\n        v-model=\"address\"\n        :items=\"searchResult\"\n        clerable\n        name=\"address\"\n        :search-input.sync=\"search\"\n        label=\"Locate Address\"\n        placeholder=\"Locate Address\"\n        autocomplete=\"off\"\n        item-text=\"formatted_address\"\n        return-object\n        @change=\"selectAddress\"\n        hide-details\n        class=\"mb-1\"\n    ></v-autocomplete>\n\n    <GmapMap\n        :center=\"{\n        lat: latitude || 0,\n        lng: longitude || 0,\n      }\"\n        :zoom=\"7\"\n        :style=\"mapStyle\"\n    >\n      <GmapMarker\n          :position=\"{\n          lat: latitude || 0,\n          lng: longitude || 0,\n        }\"\n          :draggable=\"!readonly\"\n          @dragend=\"location => updateCoordinates({lat: location.latLng.lat(), lng: location.latLng.lng()})\"\n      ></GmapMarker>\n    </GmapMap>\n  </div>\n</template>\n\n<script>\nimport geolocation from \"vue-browser-geolocation\";\nimport {onMounted, ref, watch, nextTick} from \"@vue/composition-api\";\nimport {notifyDefaultServerError} from \"@/composables/utils\";\nimport { helpers, getGoogleMapsAPI } from 'gmap-vue';\nconst { googleMapsApiInitializer } = helpers;\nwindow.getGoogleMapsAPI = getGoogleMapsAPI;\n\nexport default {\n  props: {\n    latitude: {\n      type: Number,\n      default: 0\n    },\n    longitude: {\n      type: Number,\n      default: 0\n    },\n    readonly: {\n      type: Boolean,\n      default: false\n    },\n    apiKey: {\n      type: String,\n      required: true\n    },\n    mapStyle: {\n      default: \"width: auto; height: 360px\"\n    },\n  },\n  emits: {\n    'update:latitude': null,\n    'update:longitude': null,\n  },\n  setup(props, context) {\n    const search = ref(null);\n    const address = ref(null);\n    const searchResult = ref([]);\n\n    watch(search, val => {\n      googleSearch(val)\n    });\n\n    onMounted(() => {\n      googleMapsApiInitializer({\n        key: props.apiKey,\n        libraries: 'places'\n      }, false);\n      setTimeout(getCurrentLocation, 300)\n    });\n\n    const updateCoordinates = (location) => {\n      context.emit('update:latitude', location.lat);\n      context.emit('update:longitude', location.lng);\n    };\n\n    const getCurrentLocation = (force) => {\n      if (props.readonly) {\n        return;\n      }\n      if (!force && props.latitude && props.longitude) {\n        return;\n      }\n      geolocation.getLocation({}).then((coordinates) => {\n        updateCoordinates({lat: coordinates.lat, lng: coordinates.lng});\n      })\n    };\n\n    const selectAddress = () => {\n      if (!address.value) {\n        return;\n      }\n      updateCoordinates({lat: address.value.geometry.location.lat, lng: address.value.geometry.location.lng});\n      nextTick(()=> {\n        address.value = null;\n      })\n    };\n\n    const googleSearch = (value) => {\n      if (!value) {\n        return;\n      }\n      let url =\n          \"https://maps.googleapis.com/maps/api/geocode/json?key=\" + props.apiKey + \"&address=\";\n      fetch(url + value)\n          .then((response) => response.json())\n          .then((jsonResult) => {\n            searchResult.value = jsonResult.results;\n          })\n          .catch((err) => {\n            notifyDefaultServerError(err);\n          });\n    };\n\n\n    return {\n      search,\n      address,\n      searchResult,\n      selectAddress,\n      getCurrentLocation,\n      updateCoordinates,\n    }\n\n  }\n\n};\n</script>\n\n<style scoped>\n  .gmap-container {\n    border: 1px solid lightgray;\n    padding: 10px;\n    border-radius: 5px;\n\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoogleMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoogleMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GoogleMap.vue?vue&type=template&id=114172e9&scoped=true&\"\nimport script from \"./GoogleMap.vue?vue&type=script&lang=js&\"\nexport * from \"./GoogleMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GoogleMap.vue?vue&type=style&index=0&id=114172e9&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"114172e9\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\ninstallComponents(component, {VAutocomplete})\n"],"sourceRoot":""}