(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35fd07e2"],{"0ccf":function(e,t,r){},"119d":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"auth-wrapper auth-v1"},[r("div",{staticClass:"auth-inner"},[r("v-slide-x-transition",{attrs:{"hide-on-leave":!0}},[r(e.activePage,{key:e.activePage,tag:"component",on:{"change-page":function(t){e.activePage=t}}})],1)],1)])},i=[],s=r("ed09"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"auth-card"},[r("v-card-title",{staticClass:"d-flex align-center justify-center py-7"},[r("router-link",{staticClass:"d-flex align-center text-decoration-none",attrs:{to:{name:e.$rns.ROOT}}},[r("v-img",{staticClass:"me-3 ",attrs:{src:e.appLogo,"max-height":"100px","max-width":"100px",alt:"logo",contain:""}}),r("h2",{staticClass:"text-2xl font-weight-semibold"},[e._v(" "+e._s(e.appName)+" ")])],1)],1),r("v-card-text",[r("p",{staticClass:"text-2xl font-weight-semibold text--primary mb-2"},[e._v(" Login & Authentication ")]),r("p",{staticClass:"mb-2"},[e._v(" Please sign-in to your account and start the adventure ")])]),r("v-card-text",[r("v-form",{on:{submit:function(t){return t.preventDefault(),e.login()}},model:{value:e.formValid,callback:function(t){e.formValid=t},expression:"formValid"}},[r("v-text-field",{staticClass:"mb-3",attrs:{outlined:"",label:"Username",placeholder:"Username","hide-details":"",rules:[e.rules.required]},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}}),r("v-text-field",{attrs:{outlined:"",type:e.isPasswordVisible?"text":"password",label:"Password",placeholder:"Password","append-icon":e.isPasswordVisible?e.icons.mdiEyeOffOutline:e.icons.mdiEyeOutline,"hide-details":"",rules:[e.rules.required]},on:{"click:append":function(t){e.isPasswordVisible=!e.isPasswordVisible}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),r("div",{staticClass:"d-flex align-center justify-space-between flex-wrap"},[r("v-checkbox",{staticClass:"me-3 mt-1",attrs:{label:"Remember Me","hide-details":""}}),r("a",{staticClass:"mt-1",on:{click:function(t){return e.$emit("change-page","ForgotPassword")}}},[e._v(" Forgot Password? ")])],1),r("v-btn",{staticClass:"mt-6",attrs:{block:"",type:"submit",color:"primary",loading:e.logining,disabled:!e.formValid}},[e._v(" Login ")])],1)],1),r("v-card-text",{staticClass:"d-flex align-center justify-center flex-wrap mt-2"},[r("span",{staticClass:"me-2"},[e._v(" New on our platform? ")]),r("a",{on:{click:function(t){return e.$emit("change-page","Register")}}},[e._v(" Create an account ")])]),r("v-card-text",{staticClass:"d-flex align-center mt-2"},[r("v-divider"),r("span",{staticClass:"mx-5"},[e._v("or")]),r("v-divider")],1),r("v-card-actions",{staticClass:"d-flex justify-center"},e._l(e.socialLink,(function(t){return r("v-btn",{key:t.icon,staticClass:"ms-1",attrs:{icon:""}},[r("v-icon",{attrs:{color:e.$vuetify.theme.dark?t.colorInDark:t.color}},[e._v(" "+e._s(t.icon)+" ")])],1)})),1)],1)},o=[],l=(r("2ca0"),r("b0c0"),r("94ed")),c=r("1dff"),u=r("7f98"),d=r("bb36"),m=r("4360"),f=r("cbec"),p=(r("d3e3"),r("2405")),g=r("a18c"),b={setup:function(){var e=Object(p["e"])(),t=e.router,r=e.route,a=Object(s["J"])(!1),i=Object(s["J"])(!1),n=Object(s["J"])(!1),o=Object(s["J"])({}),b=[{icon:l["db"],color:"#4267b2",colorInDark:"#4267b2"},{icon:l["bc"],color:"#1da1f2",colorInDark:"#1da1f2"},{icon:l["lb"],color:"#272727",colorInDark:"#fff"},{icon:l["nb"],color:"#db4437",colorInDark:"#db4437"}],v=function(){i.value=!0,d["a"].post("account/session",o.value).then((function(e){m["a"].commit("currentUser",e.data),i.value=!1;var a=(r.value.query.next||"").startsWith("/")?r.value.query.next:{name:r.value.query.next||g["b"].ROOT};t.push(a),Object(f["notifySuccess"])("Welcome to WRH!",5e3)}),(function(e){i.value=!1,Object(f["notifyDefaultServerError"])(e,!0)}))};return{isPasswordVisible:a,loginForm:o,socialLink:b,logining:i,formValid:n,login:v,rules:{required:u["d"],emailValidator:u["b"]},icons:{mdiEyeOutline:l["cb"],mdiEyeOffOutline:l["bb"]},appName:c["a"].app.name,appLogo:c["a"].app.logo}}},v=b,h=r("2877"),x=r("6544"),_=r.n(x),y=r("8336"),k=r("b0af"),w=r("99d9"),C=r("ac7c"),V=r("ce7e"),O=r("4bd4"),F=r("132d"),P=r("adda"),j=r("8654"),E=Object(h["a"])(v,n,o,!1,null,null,null),D=E.exports;_()(E,{VBtn:y["a"],VCard:k["a"],VCardActions:w["a"],VCardText:w["c"],VCardTitle:w["d"],VCheckbox:C["a"],VDivider:V["a"],VForm:O["a"],VIcon:F["a"],VImg:P["a"],VTextField:j["a"]});var $=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"auth-card"},[r("v-card-title",{staticClass:"d-flex align-center justify-center py-7"},[r("router-link",{staticClass:"d-flex align-center text-decoration-none",attrs:{to:{name:e.$rns.ROOT}}},[r("v-img",{staticClass:"me-3 ",attrs:{src:e.appLogo,"max-height":"100px","max-width":"100px",alt:"logo",contain:""}}),r("h2",{staticClass:"text-2xl font-weight-semibold"},[e._v(" "+e._s(e.appName)+" ")])],1)],1),r("v-card-text",[r("p",{staticClass:"text-2xl font-weight-semibold text--primary mb-2"},[e._v(" "+e._s(e.$store.state.sitePrefs.site_ui__signup_page_title||"Adventure starts here")+" ")]),r("p",{staticClass:"mb-2"},[e._v(" "+e._s(e.$store.state.sitePrefs.site_ui__signup_page_caption||"Make your bicycling races easy and fun!")+" ")])]),r("v-card-text",[r("v-form",{on:{submit:function(t){return t.preventDefault(),e.register()}},model:{value:e.formValid,callback:function(t){e.formValid=t},expression:"formValid"}},[r("v-text-field",{staticClass:"mb-3",attrs:{outlined:"","append-icon":e.icons.mdiEmailOutline,label:"E-mail (Username)",placeholder:"E-mail (Username)","persistent-hint":"",hint:"The E-mail will be used as your username on the login",rules:[e.rules.required,e.rules.emailValidator],dense:""},model:{value:e.registerForm.email,callback:function(t){e.$set(e.registerForm,"email",t)},expression:"registerForm.email"}}),r("v-text-field",{staticClass:"mb-3",attrs:{outlined:"","append-icon":e.icons.mdiEmailOutline,label:"Confirm E-mail",placeholder:"Enter E-mail again",rules:[e.rules.required,e.rules.emailValidator,e.rules.confirmedValidator(e.registerForm.confirm_email,e.registerForm.email,"The Confirm E-mail field confirmation does not match")],dense:""},model:{value:e.registerForm.confirm_email,callback:function(t){e.$set(e.registerForm,"confirm_email",t)},expression:"registerForm.confirm_email"}}),r("v-text-field",{staticClass:"mb-3",attrs:{outlined:"",label:"First Name",placeholder:"First Name","hide-details":"",rules:[e.rules.required],dense:""},model:{value:e.registerForm.first_name,callback:function(t){e.$set(e.registerForm,"first_name",t)},expression:"registerForm.first_name"}}),r("v-text-field",{staticClass:"mb-3",attrs:{outlined:"",label:"Last Name",placeholder:"Last Name","hide-details":"",rules:[e.rules.required],dense:""},model:{value:e.registerForm.last_name,callback:function(t){e.$set(e.registerForm,"last_name",t)},expression:"registerForm.last_name"}}),r("v-text-field",{attrs:{outlined:"",type:e.isPasswordVisible?"text":"password",label:"Password",placeholder:"Password","append-icon":e.isPasswordVisible?e.icons.mdiEyeOffOutline:e.icons.mdiEyeOutline,hint:"Password should contains at least 1 digit with min 8 chars","persistent-hint":"",rules:[e.rules.required],dense:""},on:{"click:append":function(t){e.isPasswordVisible=!e.isPasswordVisible}},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}}),r("v-text-field",{attrs:{outlined:"",type:e.isPasswordVisible?"text":"password",label:"Confirm Password",placeholder:"Confirm Password","append-icon":e.isPasswordVisible?e.icons.mdiEyeOffOutline:e.icons.mdiEyeOutline,rules:[e.rules.required,e.rules.confirmedValidator(e.registerForm.confirm_password,e.registerForm.password)],dense:""},on:{"click:append":function(t){e.isPasswordVisible=!e.isPasswordVisible}},model:{value:e.registerForm.confirm_password,callback:function(t){e.$set(e.registerForm,"confirm_password",t)},expression:"registerForm.confirm_password"}}),r("v-select",{staticClass:"mb-3",attrs:{outlined:"",items:e.$const.GENDER_OPTIONS,"item-text":"title","item-value":"value",label:"Gender",dense:"","hide-details":"",rules:[e.rules.required]},model:{value:e.registerForm.gender,callback:function(t){e.$set(e.registerForm,"gender",t)},expression:"registerForm.gender"}}),r("v-menu",{ref:"birthDateMenuRef",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[r("v-text-field",e._g(e._b({staticClass:"mb-3",attrs:{label:"Birth Date","append-icon":e.icons.mdiCalendar,readonly:"",rules:[e.rules.required],outlined:"","hide-details":"",dense:""},model:{value:e.registerForm.birth_date,callback:function(t){e.$set(e.registerForm,"birth_date",t)},expression:"registerForm.birth_date"}},"v-text-field",i,!1),a))]}}]),model:{value:e.showBirthDateMenu,callback:function(t){e.showBirthDateMenu=t},expression:"showBirthDateMenu"}},[r("v-date-picker",{ref:"birthDatePickerRef",attrs:{"active-picker":e.birthDateActivePicker,max:(new Date).toISOString().slice(0,10),min:"1940-01-01",color:"primary"},on:{"update:activePicker":function(t){e.birthDateActivePicker=t},"update:active-picker":function(t){e.birthDateActivePicker=t},change:function(t){e.$refs.birthDateMenuRef.save(t)}},model:{value:e.registerForm.birth_date,callback:function(t){e.$set(e.registerForm,"birth_date",t)},expression:"registerForm.birth_date"}})],1),r("v-text-field",{staticClass:"mb-3",attrs:{outlined:"",label:"USAC License# (optional)",placeholder:"USAC License# (optional)","hide-details":"",rules:[],dense:""},model:{value:e.registerForm.member.usac_license_number,callback:function(t){e.$set(e.registerForm.member,"usac_license_number",t)},expression:"registerForm.member.usac_license_number"}}),r("v-checkbox",{staticClass:"mt-1 agree-terms",attrs:{"hide-details":""},scopedSlots:e._u([{key:"label",fn:function(){return[r("span",{},[e._v("I agree to")])]},proxy:!0},{key:"append",fn:function(){return[r("v-btn",{staticClass:"pl-0 pr-1 pb-1",attrs:{text:"",color:"primary",link:"",small:""},on:{"!click":function(t){return e.$refs.termsOfServiceDialogRef.show()}}},[e._v(" privacy policy & terms ")])]},proxy:!0}]),model:{value:e.registerForm.agree_terms,callback:function(t){e.$set(e.registerForm,"agree_terms",t)},expression:"registerForm.agree_terms"}}),r("user-agrement-legal-waver-dialog",{ref:"uglw"}),e.turnstileSiteKey?r("turnstile-component",{ref:"turnstileCmpRef",attrs:{id:"signup-turnstile-widget",sitekey:e.turnstileSiteKey},on:{verify:e.onVerifyTurnstile,expire:function(t){return e.$refs.turnstileCmpRef.reset()},fail:e.onFailTurnstile,timeout:e.onFailTurnstile}}):e._e(),r("v-btn",{staticClass:"mt-6",attrs:{block:"",type:"submit",color:"primary",loading:e.registering,disabled:!e.registerForm.agree_terms||!e.$refs.uglw.agreementAccept||!e.registerForm.turnstile_token||!e.turnstileSiteKey||!e.formValid}},[e._v(" Sign Up ")])],1)],1),r("v-card-text",{staticClass:"d-flex align-center justify-center flex-wrap mt-2"},[r("span",{staticClass:"me-2"},[e._v(" Already have an account? ")]),r("a",{on:{click:function(t){return e.$emit("change-page","Login")}}},[e._v(" Sign in instead ")])]),r("v-card-text",{staticClass:"d-flex align-center mt-2"},[r("v-divider"),r("span",{staticClass:"mx-5"},[e._v("or")]),r("v-divider")],1),r("v-card-actions",{staticClass:"d-flex justify-center"},e._l(e.socialLink,(function(t){return r("v-btn",{key:t.icon,staticClass:"ms-1",attrs:{icon:""}},[r("v-icon",{attrs:{color:e.$vuetify.theme.dark?t.colorInDark:t.color}},[e._v(" "+e._s(t.icon)+" ")])],1)})),1),r("terms-of-service-dialog",{ref:"termsOfServiceDialogRef"})],1)},S=[],L=(r("4795"),r("86fa")),T=r("631a"),R=r("6ba2"),q={components:{TurnstileComponent:R["a"],TermsOfServiceDialog:L["a"],UserAgrementLegalWaverDialog:T["a"]},setup:function(e,t){var r=Object(s["J"])(null),a=Object(s["J"])(!1),i=Object(s["J"])(!1),n=Object(s["J"])(!1),o=Object(s["J"])(!1),m=Object(s["J"])(null),p=Object(s["J"])({member:{country:"US"},turnstile_token:null}),g=[{icon:l["db"],color:"#4267b2",colorInDark:"#4267b2"},{icon:l["bc"],color:"#1da1f2",colorInDark:"#1da1f2"},{icon:l["lb"],color:"#272727",colorInDark:"#fff"},{icon:l["nb"],color:"#db4437",colorInDark:"#db4437"}],b=Object(s["J"])(null);Object(s["A"])((function(){v()})),Object(s["Y"])(o,(function(e){e&&setTimeout((function(){return r.value="YEAR"}))}));var v=function(){d["a"].get("cycling_org/global_conf/TURNSTILE_SITE_KEY").then((function(e){b.value=e.data}),(function(e){Object(f["notifyDefaultServerError"])(e,!0)}))},h=function(e){p.value.turnstile_token=e},x=function(){Object(f["notifyError"])("Something is wrong. refresh the page and try again!")},_=function(){i.value=!0,d["a"].post("cycling_org/users/registration",p.value).then((function(e){i.value=!1,Object(f["notifySuccess"])("You must activate your account using the link sent to your email, before logging in.",0),t.emit("change-page","Login")}),(function(e){i.value=!1,Object(f["notifyDefaultServerError"])(e,!0)}))};return{birthDateActivePicker:r,isPasswordVisible:a,registerForm:p,socialLink:g,registering:i,formValid:n,showBirthDateMenu:o,birthDatePickerRef:m,register:_,turnstileSiteKey:b,onVerifyTurnstile:h,onFailTurnstile:x,rules:{required:u["d"],emailValidator:u["b"],confirmedValidator:u["a"]},icons:{mdiEyeOutline:l["cb"],mdiEyeOffOutline:l["bb"],mdiCalendar:l["u"],mdiPhoneOutline:l["Pb"],mdiEmailOutline:l["Z"]},appName:c["a"].app.name,appLogo:c["a"].app.logo}}},I=q,J=(r("6e91"),r("2e4b")),A=r("e449"),N=r("b974"),U=Object(h["a"])(I,$,S,!1,null,null,null),B=U.exports;_()(U,{VBtn:y["a"],VCard:k["a"],VCardActions:w["a"],VCardText:w["c"],VCardTitle:w["d"],VCheckbox:C["a"],VDatePicker:J["a"],VDivider:V["a"],VForm:O["a"],VIcon:F["a"],VImg:P["a"],VMenu:A["a"],VSelect:N["a"],VTextField:j["a"]});var M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"auth-card"},[r("v-card-title",{staticClass:"d-flex align-center justify-center py-7"},[r("router-link",{staticClass:"d-flex align-center text-decoration-none",attrs:{to:{name:e.$rns.ROOT}}},[r("v-img",{staticClass:"me-3 ",attrs:{src:e.appLogo,"max-height":"100px","max-width":"100px",alt:"logo",contain:""}}),r("h2",{staticClass:"text-2xl font-weight-semibold"},[e._v(" "+e._s(e.appName)+" ")])],1)],1),r("v-card-text",[r("p",{staticClass:"text-2xl font-weight-semibold text--primary mb-2"},[e._v(" Forgot Password? ðŸ”’ ")]),r("p",{staticClass:"mb-2"},[e._v(" Enter your email and we'll send you instructions to reset your password ")])]),r("v-card-text",[r("v-form",{on:{submit:function(t){return t.preventDefault(),e.sendRecoverPassword()}},model:{value:e.formValid,callback:function(t){e.formValid=t},expression:"formValid"}},[r("v-text-field",{staticClass:"mb-4",attrs:{outlined:"",label:"E-mail",placeholder:"E-mail","hide-details":"",rules:[e.rules.required,e.rules.emailValidator]},model:{value:e.forgotForm.email,callback:function(t){e.$set(e.forgotForm,"email",t)},expression:"forgotForm.email"}}),r("v-btn",{staticClass:"mt-6",attrs:{block:"",type:"submit",color:"primary",loading:e.requesting,disabled:!e.formValid}},[e._v(" Send reset link ")])],1)],1),r("v-card-actions",{staticClass:"d-flex justify-center align-center"},[r("a",{staticClass:"d-flex align-center text-sm",on:{click:function(t){return e.$emit("change-page","Login")}}},[r("v-icon",{attrs:{size:"24",color:"primary"}},[e._v(" "+e._s(e.icons.mdiChevronLeft)+" ")]),r("span",[e._v("Back to login")])],1)])],1)},K=[],W={setup:function(e,t){var r=Object(s["J"])(!1),a=Object(s["J"])(!1),i=Object(s["J"])(!1),n=Object(s["J"])({}),o=function(){a.value=!0,d["a"].post("cycling_org/users/registration/send_recover_password",n.value).then((function(e){a.value=!1,Object(f["notifySuccess"])("Reset password link sent to your email! please check your email."),t.emit("change-page","Login")}),(function(e){a.value=!1,Object(f["notifyDefaultServerError"])(e,!0)}))};return{isPasswordVisible:r,forgotForm:n,requesting:a,formValid:i,sendRecoverPassword:o,rules:{required:u["d"],emailValidator:u["b"]},icons:{mdiEyeOutline:l["cb"],mdiEyeOffOutline:l["bb"]},appName:c["a"].app.name,appLogo:c["a"].app.logo}}},Y=W,G=Object(h["a"])(Y,M,K,!1,null,null,null),z=G.exports;_()(G,{VBtn:y["a"],VCard:k["a"],VCardActions:w["a"],VCardText:w["c"],VCardTitle:w["d"],VForm:O["a"],VIcon:F["a"],VImg:P["a"],VTextField:j["a"]});var H={components:{Register:B,Login:D,ForgotPassword:z},setup:function(){var e={Login:"Login",Register:"Register",ForgotPassword:"ForgotPassword"},t=Object(p["e"])(),r=t.route,a=Object(s["J"])("Login");return Object(s["A"])((function(){e[r.value.params.page]?a.value=e[r.value.params.page]||"Login":e[r.value.query.page]&&(a.value=e[r.value.query.page]||"Login")})),{activePage:a}}},X=H,Z=(r("5831"),r("0789")),Q=Object(h["a"])(X,a,i,!1,null,"0e250b06",null);t["default"]=Q.exports;_()(Q,{VSlideXTransition:Z["e"]})},"3ca36":function(e,t,r){},5831:function(e,t,r){"use strict";r("3ca36")},"6e91":function(e,t,r){"use strict";r("0ccf")}}]);
//# sourceMappingURL=chunk-35fd07e2.cbd1ab52.js.map